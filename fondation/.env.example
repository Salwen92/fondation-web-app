# Fondation Environment Variables
# Copy this file to .env.local and fill in your values
# This file is safe to commit - contains no secrets

# ============================================
# AUTHENTICATION (Required)
# ============================================

# GitHub OAuth Application
# Create at: https://github.com/settings/applications/new
# Homepage URL: http://localhost:3000
# Authorization callback URL: http://localhost:3000/api/auth/callback/github
GITHUB_CLIENT_ID=your_github_oauth_app_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_app_client_secret

# NextAuth Secret (Required)
# Generate with: openssl rand -base64 32
AUTH_SECRET=your_generated_32_char_secret_here

# ============================================
# APPLICATION URLs
# ============================================

# Application URL (change for production)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# Vercel URL (auto-set in Vercel deployments)
# VERCEL_URL=

# ============================================
# CONVEX DATABASE (Auto-generated)
# ============================================
# These are automatically created when you run 'bun run dev'
# They will be saved to .env.local after first run

# Convex deployment URL
NEXT_PUBLIC_CONVEX_URL=
CONVEX_URL=
CONVEX_DEPLOYMENT=

# ============================================
# WORKER SERVICE (Optional)
# ============================================

# Worker configuration
WORKER_ID=worker-local-dev
WORKER_GATEWAY_URL=http://localhost:8081
POLL_INTERVAL=5000
LEASE_TIME=300000
HEARTBEAT_INTERVAL=60000
MAX_CONCURRENT_JOBS=1

# Worker mode for testing
# Options: "production" | "mock"
WORKER_MODE=production

# Docker image for CLI
FONDATION_WORKER_IMAGE=fondation/cli:latest

# File System Configuration
TEMP_DIR=/tmp/fondation
CLI_PATH=claude

# ============================================
# CLAUDE CLI AND API TOKENS (Required for Worker)
# ============================================

# Claude Code OAuth Token (for Claude API access)
# Required for Docker execution
# Format: sk-ant-oat[version]-[unique-identifier]
CLAUDE_CODE_OAUTH_TOKEN="sk-ant-oat01-YOUR-TOKEN-HERE"

# GitHub Personal Access Token (for private repo access)
# Create at: https://github.com/settings/personal-access-tokens
# Required scopes: repo, read:packages
GITHUB_TOKEN=ghp_your-github-personal-access-token

# Docker container flag (set by Docker)
# DOCKER_CONTAINER=true

# ============================================
# DEVELOPMENT OPTIONS (Optional)
# ============================================

# Environment Mode (auto-detected, but can override)
# Options: "development" | "production" | "test"
# NODE_ENV=development
# FONDATION_ENV=development

# Development-specific features
# FONDATION_DEV_DOCKER_BYPASS=true
# FONDATION_DEV_MOCK_AUTH=false  
# FONDATION_DEV_HOT_RELOAD=true
# FONDATION_DEV_DEBUG=false

# Execution mode (auto-detected, but can override)
# Options: "local" | "docker" | "container"  
# FONDATION_EXECUTION_MODE=local

# Enable debug logging (optional)
# DEBUG_KEYS=true
# DEBUG=fondation:*

# Skip environment validation (for Docker builds)
# SKIP_ENV_VALIDATION=

# Logging endpoint (optional)
# NEXT_PUBLIC_LOG_ENDPOINT=

# ============================================
# SECURITY (Optional - Advanced)
# ============================================

# Encryption key for sensitive data (optional)
# Generate with: openssl rand -hex 32
# ENCRYPTION_KEY=

# ============================================
# DEPRECATED - DO NOT USE
# ============================================
# NEXTAUTH_SECRET= # Use AUTH_SECRET instead
# VERBOSE= # Use DEBUG_KEYS instead