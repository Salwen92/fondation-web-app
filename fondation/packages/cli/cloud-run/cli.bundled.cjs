#!/usr/bin/env node
const import_meta_url = require('url').pathToFileURL(__filename).toString();
"use strict";var Dx=Object.create;var ba=Object.defineProperty;var Mx=Object.getOwnPropertyDescriptor;var $x=Object.getOwnPropertyNames;var qx=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty;var K=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qe=(e,t)=>{for(var r in t)ba(e,r,{get:t[r],enumerable:!0})},Fx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $x(t))!jx.call(e,i)&&i!==r&&ba(e,i,{get:()=>t[i],enumerable:!(n=Mx(t,i))||n.enumerable});return e};var bt=(e,t,r)=>(r=e!=null?Dx(qx(e)):{},Fx(t||!e||!e.__esModule?ba(r,"default",{value:e,enumerable:!0}):r,e));var Ln=b(va=>{var Wi=class extends Error{constructor(t,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=t,this.nestedError=void 0}},wa=class extends Wi{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};va.CommanderError=Wi;va.InvalidArgumentError=wa});var Yi=b(Sa=>{var{InvalidArgumentError:Rx}=Ln(),_a=class{constructor(t,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new Rx(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Bx(e){let t=e.name()+(e.variadic===!0?"...":"");return e.required?"<"+t+">":"["+t+"]"}Sa.Argument=_a;Sa.humanReadableArgName=Bx});var Aa=b(Ca=>{var{humanReadableArgName:Ux}=Yi(),xa=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(t){this.helpWidth=this.helpWidth??t.helpWidth??80}visibleCommands(t){let r=t.commands.filter(i=>!i._hidden),n=t._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((i,s)=>i.name().localeCompare(s.name())),r}compareOptions(t,r){let n=i=>i.short?i.short.replace(/^-/,""):i.long.replace(/^--/,"");return n(t).localeCompare(n(r))}visibleOptions(t){let r=t.options.filter(i=>!i.hidden),n=t._getHelpOption();if(n&&!n.hidden){let i=n.short&&t._findOption(n.short),s=n.long&&t._findOption(n.long);!i&&!s?r.push(n):n.long&&!s?r.push(t.createOption(n.long,n.description)):n.short&&!i&&r.push(t.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let r=[];for(let n=t.parent;n;n=n.parent){let i=n.options.filter(s=>!s.hidden);r.push(...i)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach(r=>{r.description=r.description||t._argsDescription[r.name()]||""}),t.registeredArguments.find(r=>r.description)?t.registeredArguments:[]}subcommandTerm(t){let r=t.registeredArguments.map(n=>Ux(n)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,r){return r.visibleCommands(t).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleSubcommandTerm(r.subcommandTerm(i)))),0)}longestOptionTermLength(t,r){return r.visibleOptions(t).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(i)))),0)}longestGlobalOptionTermLength(t,r){return r.visibleGlobalOptions(t).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(i)))),0)}longestArgumentTermLength(t,r){return r.visibleArguments(t).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleArgumentTerm(r.argumentTerm(i)))),0)}commandUsage(t){let r=t._name;t._aliases[0]&&(r=r+"|"+t._aliases[0]);let n="";for(let i=t.parent;i;i=i.parent)n=i.name()+" "+n;return n+r+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let r=[];if(t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&r.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&r.push(`env: ${t.envVar}`),r.length>0){let n=`(${r.join(", ")})`;return t.description?`${t.description} ${n}`:n}return t.description}argumentDescription(t){let r=[];if(t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return t.description?`${t.description} ${n}`:n}return t.description}formatItemList(t,r,n){return r.length===0?[]:[n.styleTitle(t),...r,""]}groupItems(t,r,n){let i=new Map;return t.forEach(s=>{let o=n(s);i.has(o)||i.set(o,[])}),r.forEach(s=>{let o=n(s);i.has(o)||i.set(o,[]),i.get(o).push(s)}),i}formatHelp(t,r){let n=r.padWidth(t,r),i=r.helpWidth??80;function s(u,d){return r.formatItem(u,n,d,r)}let o=[`${r.styleTitle("Usage:")} ${r.styleUsage(r.commandUsage(t))}`,""],a=r.commandDescription(t);a.length>0&&(o=o.concat([r.boxWrap(r.styleCommandDescription(a),i),""]));let l=r.visibleArguments(t).map(u=>s(r.styleArgumentTerm(r.argumentTerm(u)),r.styleArgumentDescription(r.argumentDescription(u))));if(o=o.concat(this.formatItemList("Arguments:",l,r)),this.groupItems(t.options,r.visibleOptions(t),u=>u.helpGroupHeading??"Options:").forEach((u,d)=>{let h=u.map(p=>s(r.styleOptionTerm(r.optionTerm(p)),r.styleOptionDescription(r.optionDescription(p))));o=o.concat(this.formatItemList(d,h,r))}),r.showGlobalOptions){let u=r.visibleGlobalOptions(t).map(d=>s(r.styleOptionTerm(r.optionTerm(d)),r.styleOptionDescription(r.optionDescription(d))));o=o.concat(this.formatItemList("Global Options:",u,r))}return this.groupItems(t.commands,r.visibleCommands(t),u=>u.helpGroup()||"Commands:").forEach((u,d)=>{let h=u.map(p=>s(r.styleSubcommandTerm(r.subcommandTerm(p)),r.styleSubcommandDescription(r.subcommandDescription(p))));o=o.concat(this.formatItemList(d,h,r))}),o.join(`
`)}displayWidth(t){return jd(t).length}styleTitle(t){return t}styleUsage(t){return t.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r==="[command]"?this.styleSubcommandText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleCommandText(r)).join(" ")}styleCommandDescription(t){return this.styleDescriptionText(t)}styleOptionDescription(t){return this.styleDescriptionText(t)}styleSubcommandDescription(t){return this.styleDescriptionText(t)}styleArgumentDescription(t){return this.styleDescriptionText(t)}styleDescriptionText(t){return t}styleOptionTerm(t){return this.styleOptionText(t)}styleSubcommandTerm(t){return t.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleSubcommandText(r)).join(" ")}styleArgumentTerm(t){return this.styleArgumentText(t)}styleOptionText(t){return t}styleArgumentText(t){return t}styleSubcommandText(t){return t}styleCommandText(t){return t}padWidth(t,r){return Math.max(r.longestOptionTermLength(t,r),r.longestGlobalOptionTermLength(t,r),r.longestSubcommandTermLength(t,r),r.longestArgumentTermLength(t,r))}preformatted(t){return/\n[^\S\r\n]/.test(t)}formatItem(t,r,n,i){let o=" ".repeat(2);if(!n)return o+t;let a=t.padEnd(r+t.length-i.displayWidth(t)),l=2,f=(this.helpWidth??80)-r-l-2,u;return f<this.minWidthToWrap||i.preformatted(n)?u=n:u=i.boxWrap(n,f).replace(/\n/g,`
`+" ".repeat(r+l)),o+a+" ".repeat(l)+u.replace(/\n/g,`
${o}`)}boxWrap(t,r){if(r<this.minWidthToWrap)return t;let n=t.split(/\r\n|\n/),i=/[\s]*[^\s]+/g,s=[];return n.forEach(o=>{let a=o.match(i);if(a===null){s.push("");return}let l=[a.shift()],c=this.displayWidth(l[0]);a.forEach(f=>{let u=this.displayWidth(f);if(c+u<=r){l.push(f),c+=u;return}s.push(l.join(""));let d=f.trimStart();l=[d],c=this.displayWidth(d)}),s.push(l.join(""))}),s.join(`
`)}};function jd(e){let t=/\x1b\[\d*(;\d*)*m/g;return e.replace(t,"")}Ca.Help=xa;Ca.stripColor=jd});var Ta=b(ka=>{var{InvalidArgumentError:Vx}=Ln(),Oa=class{constructor(t,r){this.flags=t,this.description=r||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let n=Kx(t);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0,this.helpGroupHeading=void 0}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let r=t;return typeof t=="string"&&(r={[t]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new Vx(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?Fd(this.name().replace(/^no-/,"")):Fd(this.name())}helpGroup(t){return this.helpGroupHeading=t,this}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},Ea=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(t,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let i=this.negativeOptions.get(n).presetArg,s=i!==void 0?i:!1;return r.negate===(s===t)}};function Fd(e){return e.split("-").reduce((t,r)=>t+r[0].toUpperCase()+r.slice(1))}function Kx(e){let t,r,n=/^-[^-]$/,i=/^--[^-]/,s=e.split(/[ |,]+/).concat("guard");if(n.test(s[0])&&(t=s.shift()),i.test(s[0])&&(r=s.shift()),!t&&n.test(s[0])&&(t=s.shift()),!t&&i.test(s[0])&&(t=r,r=s.shift()),s[0].startsWith("-")){let o=s[0],a=`option creation failed due to '${o}' in option flags '${e}'`;throw/^-[^-][^-]/.test(o)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(o)?new Error(`${a}
- too many short flags`):i.test(o)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(t===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${e}'.`);return{shortFlag:t,longFlag:r}}ka.Option=Oa;ka.DualOptions=Ea});var Bd=b(Rd=>{function Hx(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);let r=[];for(let n=0;n<=e.length;n++)r[n]=[n];for(let n=0;n<=t.length;n++)r[0][n]=n;for(let n=1;n<=t.length;n++)for(let i=1;i<=e.length;i++){let s=1;e[i-1]===t[n-1]?s=0:s=1,r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+s),i>1&&n>1&&e[i-1]===t[n-2]&&e[i-2]===t[n-1]&&(r[i][n]=Math.min(r[i][n],r[i-2][n-2]+1))}return r[e.length][t.length]}function Wx(e,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let r=e.startsWith("--");r&&(e=e.slice(2),t=t.map(o=>o.slice(2)));let n=[],i=3,s=.4;return t.forEach(o=>{if(o.length<=1)return;let a=Hx(e,o),l=Math.max(e.length,o.length);(l-a)/l>s&&(a<i?(i=a,n=[o]):a===i&&n.push(o))}),n.sort((o,a)=>o.localeCompare(a)),r&&(n=n.map(o=>`--${o}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}Rd.suggestSimilar=Wx});var Hd=b(Da=>{var Yx=require("node:events").EventEmitter,La=require("node:child_process"),nt=require("node:path"),Gi=require("node:fs"),Y=require("node:process"),{Argument:Gx,humanReadableArgName:Jx}=Yi(),{CommanderError:Na}=Ln(),{Help:zx,stripColor:Zx}=Aa(),{Option:Ud,DualOptions:Qx}=Ta(),{suggestSimilar:Vd}=Bd(),Ia=class e extends Yx{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:r=>Y.stdout.write(r),writeErr:r=>Y.stderr.write(r),outputError:(r,n)=>n(r),getOutHelpWidth:()=>Y.stdout.isTTY?Y.stdout.columns:void 0,getErrHelpWidth:()=>Y.stderr.isTTY?Y.stderr.columns:void 0,getOutHasColors:()=>Pa()??(Y.stdout.isTTY&&Y.stdout.hasColors?.()),getErrHasColors:()=>Pa()??(Y.stderr.isTTY&&Y.stderr.hasColors?.()),stripColor:r=>Zx(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={},this._helpGroupHeading=void 0,this._defaultCommandGroup=void 0,this._defaultOptionGroup=void 0}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){let t=[];for(let r=this;r;r=r.parent)t.push(r);return t}command(t,r,n){let i=r,s=n;typeof i=="object"&&i!==null&&(s=i,i=null),s=s||{};let[,o,a]=t.match(/([^ ]+) *(.*)/),l=this.createCommand(o);return i&&(l.description(i),l._executableHandler=!0),s.isDefault&&(this._defaultCommandName=l._name),l._hidden=!!(s.noHelp||s.hidden),l._executableFile=s.executableFile||null,a&&l.arguments(a),this._registerCommand(l),l.parent=this,l.copyInheritedSettings(this),i?this:l}createCommand(t){return new e(t)}createHelp(){return Object.assign(new zx,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(this._outputConfiguration=Object.assign({},this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,r){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=t._name),(r.noHelp||r.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,r){return new Gx(t,r)}argument(t,r,n,i){let s=this.createArgument(t,r);return typeof n=="function"?s.default(i).argParser(n):s.default(n),this.addArgument(s),this}arguments(t){return t.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(t){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,r){if(typeof t=="boolean")return this._addImplicitHelpCommand=t,t&&this._defaultCommandGroup&&this._initCommandGroup(this._getHelpCommand()),this;let n=t??"help [command]",[,i,s]=n.match(/([^ ]+) *(.*)/),o=r??"display help for command",a=this.createCommand(i);return a.helpOption(!1),s&&a.arguments(s),o&&a.description(o),this._addImplicitHelpCommand=!0,this._helpCommand=a,(t||r)&&this._initCommandGroup(a),this}addHelpCommand(t,r){return typeof t!="object"?(this.helpCommand(t,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this._initCommandGroup(t),this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(r):this._lifeCycleHooks[t]=[r],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(t,r,n){this._exitCallback&&this._exitCallback(new Na(t,r,n)),Y.exit(t)}action(t){let r=n=>{let i=this.registeredArguments.length,s=n.slice(0,i);return this._storeOptionsAsProperties?s[i]=this:s[i]=this.opts(),s.push(this),t.apply(this,s)};return this._actionHandler=r,this}createOption(t,r){return new Ud(t,r)}_callParseArg(t,r,n,i){try{return t.parseArg(r,n)}catch(s){if(s.code==="commander.invalidArgument"){let o=`${i} ${s.message}`;this.error(o,{exitCode:s.exitCode,code:s.code})}throw s}}_registerOption(t){let r=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(r){let n=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this._initOptionGroup(t),this.options.push(t)}_registerCommand(t){let r=i=>[i.name()].concat(i.aliases()),n=r(t).find(i=>this._findCommand(i));if(n){let i=r(this._findCommand(n)).join("|"),s=r(t).join("|");throw new Error(`cannot add command '${s}' as already have command '${i}'`)}this._initCommandGroup(t),this.commands.push(t)}addOption(t){this._registerOption(t);let r=t.name(),n=t.attributeName();if(t.negate){let s=t.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(n,t.defaultValue,"default");let i=(s,o,a)=>{s==null&&t.presetArg!==void 0&&(s=t.presetArg);let l=this.getOptionValue(n);s!==null&&t.parseArg?s=this._callParseArg(t,s,l,o):s!==null&&t.variadic&&(s=t._concatValue(s,l)),s==null&&(t.negate?s=!1:t.isBoolean()||t.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,a)};return this.on("option:"+r,s=>{let o=`error: option '${t.flags}' argument '${s}' is invalid.`;i(s,o,"cli")}),t.envVar&&this.on("optionEnv:"+r,s=>{let o=`error: option '${t.flags}' value '${s}' from env '${t.envVar}' is invalid.`;i(s,o,"env")}),this}_optionEx(t,r,n,i,s){if(typeof r=="object"&&r instanceof Ud)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(r,n);if(o.makeOptionMandatory(!!t.mandatory),typeof i=="function")o.default(s).argParser(i);else if(i instanceof RegExp){let a=i;i=(l,c)=>{let f=a.exec(l);return f?f[0]:c},o.default(s).argParser(i)}else o.default(i);return this.addOption(o)}option(t,r,n,i){return this._optionEx({},t,r,n,i)}requiredOption(t,r,n,i){return this._optionEx({mandatory:!0},t,r,n,i)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,r){return this.setOptionValueWithSource(t,r,void 0)}setOptionValueWithSource(t,r,n){return this._storeOptionsAsProperties?this[t]=r:this._optionValues[t]=r,this._optionValueSources[t]=n,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(t)!==void 0&&(r=n.getOptionValueSource(t))}),r}_prepareUserArgs(t,r){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},t===void 0&&r.from===void 0){Y.versions?.electron&&(r.from="electron");let i=Y.execArgv??[];(i.includes("-e")||i.includes("--eval")||i.includes("-p")||i.includes("--print"))&&(r.from="eval")}t===void 0&&(t=Y.argv),this.rawArgs=t.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=t[1],n=t.slice(2);break;case"electron":Y.defaultApp?(this._scriptPath=t[1],n=t.slice(2)):n=t.slice(1);break;case"user":n=t.slice(0);break;case"eval":n=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(t,r){this._prepareForParse();let n=this._prepareUserArgs(t,r);return this._parseCommand([],n),this}async parseAsync(t,r){this._prepareForParse();let n=this._prepareUserArgs(t,r);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(t,r,n){if(Gi.existsSync(t))return;let i=r?`searched for local subcommand relative to directory '${r}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",s=`'${t}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${i}`;throw new Error(s)}_executeSubCommand(t,r){r=r.slice();let n=!1,i=[".js",".ts",".tsx",".mjs",".cjs"];function s(f,u){let d=nt.resolve(f,u);if(Gi.existsSync(d))return d;if(i.includes(nt.extname(u)))return;let h=i.find(p=>Gi.existsSync(`${d}${p}`));if(h)return`${d}${h}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let f;try{f=Gi.realpathSync(this._scriptPath)}catch{f=this._scriptPath}a=nt.resolve(nt.dirname(f),a)}if(a){let f=s(a,o);if(!f&&!t._executableFile&&this._scriptPath){let u=nt.basename(this._scriptPath,nt.extname(this._scriptPath));u!==this._name&&(f=s(a,`${u}-${t._name}`))}o=f||o}n=i.includes(nt.extname(o));let l;Y.platform!=="win32"?n?(r.unshift(o),r=Kd(Y.execArgv).concat(r),l=La.spawn(Y.argv[0],r,{stdio:"inherit"})):l=La.spawn(o,r,{stdio:"inherit"}):(this._checkForMissingExecutable(o,a,t._name),r.unshift(o),r=Kd(Y.execArgv).concat(r),l=La.spawn(Y.execPath,r,{stdio:"inherit"})),l.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(u=>{Y.on(u,()=>{l.killed===!1&&l.exitCode===null&&l.kill(u)})});let c=this._exitCallback;l.on("close",f=>{f=f??1,c?c(new Na(f,"commander.executeSubCommandAsync","(close)")):Y.exit(f)}),l.on("error",f=>{if(f.code==="ENOENT")this._checkForMissingExecutable(o,a,t._name);else if(f.code==="EACCES")throw new Error(`'${o}' not executable`);if(!c)Y.exit(1);else{let u=new Na(1,"commander.executeSubCommandAsync","(error)");u.nestedError=f,c(u)}}),this.runningCommand=l}_dispatchSubcommand(t,r,n){let i=this._findCommand(t);i||this.help({error:!0}),i._prepareForParse();let s;return s=this._chainOrCallSubCommandHook(s,i,"preSubcommand"),s=this._chainOrCall(s,()=>{if(i._executableHandler)this._executeSubCommand(i,r.concat(n));else return i._parseCommand(r,n)}),s}_dispatchHelpCommand(t){t||this.help();let r=this._findCommand(t);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((t,r)=>{t.required&&this.args[r]==null&&this.missingArgument(t.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let t=(n,i,s)=>{let o=i;if(i!==null&&n.parseArg){let a=`error: command-argument value '${i}' is invalid for argument '${n.name()}'.`;o=this._callParseArg(n,i,s,a)}return o};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,i)=>{let s=n.defaultValue;n.variadic?i<this.args.length?(s=this.args.slice(i),n.parseArg&&(s=s.reduce((o,a)=>t(n,a,o),n.defaultValue))):s===void 0&&(s=[]):i<this.args.length&&(s=this.args[i],n.parseArg&&(s=t(n,s,n.defaultValue))),r[i]=s}),this.processedArgs=r}_chainOrCall(t,r){return t&&t.then&&typeof t.then=="function"?t.then(()=>r()):r()}_chainOrCallHooks(t,r){let n=t,i=[];return this._getCommandAndAncestors().reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(o=>{i.push({hookedCommand:s,callback:o})})}),r==="postAction"&&i.reverse(),i.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(t,r,n){let i=t;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{i=this._chainOrCall(i,()=>s(this,r))}),i}_parseCommand(t,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(n.operands),r=n.unknown,this.args=t.concat(r),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),r);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,t,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){i(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(s,t,r)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(s))i(),this._processArguments(),this.parent.emit(s,t,r);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,r);this.listenerCount("command:*")?this.emit("command:*",t,r):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(r=>r._name===t||r._aliases.includes(t))}_findOption(t){return this.options.find(r=>r.is(t))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(t=>{t.options.forEach(r=>{r.mandatory&&t.getOptionValue(r.attributeName())===void 0&&t.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let t=this.options.filter(n=>{let i=n.attributeName();return this.getOptionValue(i)===void 0?!1:this.getOptionValueSource(i)!=="default"});t.filter(n=>n.conflictsWith.length>0).forEach(n=>{let i=t.find(s=>n.conflictsWith.includes(s.attributeName()));i&&this._conflictingOption(n,i)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(t=>{t._checkForConflictingLocalOptions()})}parseOptions(t){let r=[],n=[],i=r,s=t.slice();function o(c){return c.length>1&&c[0]==="-"}let a=c=>/^-\d*\.?\d+(e[+-]?\d+)?$/.test(c)?!this._getCommandAndAncestors().some(f=>f.options.map(u=>u.short).some(u=>/^-\d$/.test(u))):!1,l=null;for(;s.length;){let c=s.shift();if(c==="--"){i===n&&i.push(c),i.push(...s);break}if(l&&(!o(c)||a(c))){this.emit(`option:${l.name()}`,c);continue}if(l=null,o(c)){let f=this._findOption(c);if(f){if(f.required){let u=s.shift();u===void 0&&this.optionMissingArgument(f),this.emit(`option:${f.name()}`,u)}else if(f.optional){let u=null;s.length>0&&(!o(s[0])||a(s[0]))&&(u=s.shift()),this.emit(`option:${f.name()}`,u)}else this.emit(`option:${f.name()}`);l=f.variadic?f:null;continue}}if(c.length>2&&c[0]==="-"&&c[1]!=="-"){let f=this._findOption(`-${c[1]}`);if(f){f.required||f.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${f.name()}`,c.slice(2)):(this.emit(`option:${f.name()}`),s.unshift(`-${c.slice(2)}`));continue}}if(/^--[^=]+=/.test(c)){let f=c.indexOf("="),u=this._findOption(c.slice(0,f));if(u&&(u.required||u.optional)){this.emit(`option:${u.name()}`,c.slice(f+1));continue}}if(i===r&&o(c)&&!(this.commands.length===0&&a(c))&&(i=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(c)){r.push(c),s.length>0&&n.push(...s);break}else if(this._getHelpCommand()&&c===this._getHelpCommand().name()){r.push(c),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){n.push(c),s.length>0&&n.push(...s);break}}if(this._passThroughOptions){i.push(c),s.length>0&&i.push(...s);break}i.push(c)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let t={},r=this.options.length;for(let n=0;n<r;n++){let i=this.options[n].attributeName();t[i]=i===this._versionOptionName?this._version:this[i]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((t,r)=>Object.assign(t,r.opts()),{})}error(t,r){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},i=n.exitCode||1,s=n.code||"commander.error";this._exit(i,s,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in Y.env){let r=t.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,Y.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new Qx(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&t.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(i=>!r(i)).forEach(i=>{this.setOptionValueWithSource(i,n.implied[i],"implied")})})}missingArgument(t){let r=`error: missing required argument '${t}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(t){let r=`error: option '${t.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let r=`error: required option '${t.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,r){let n=o=>{let a=o.attributeName(),l=this.getOptionValue(a),c=this.options.find(u=>u.negate&&a===u.attributeName()),f=this.options.find(u=>!u.negate&&a===u.attributeName());return c&&(c.presetArg===void 0&&l===!1||c.presetArg!==void 0&&l===c.presetArg)?c:f||o},i=o=>{let a=n(o),l=a.attributeName();return this.getOptionValueSource(l)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},s=`error: ${i(t)} cannot be used with ${i(r)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let r="";if(t.startsWith("--")&&this._showSuggestionAfterError){let i=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);i=i.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);r=Vd(t,i)}let n=`error: unknown option '${t}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${t.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],r="";if(this._showSuggestionAfterError){let i=[];this.createHelp().visibleCommands(this).forEach(s=>{i.push(s.name()),s.alias()&&i.push(s.alias())}),r=Vd(t,i)}let n=`error: unknown command '${t}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(t,r,n){if(t===void 0)return this._version;this._version=t,r=r||"-V, --version",n=n||"output the version number";let i=this.createOption(r,n);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,r){return t===void 0&&r===void 0?this._description:(this._description=t,r&&(this._argsDescription=r),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),t===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(t);if(n){let i=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${i}'`)}return r._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(r=>this.alias(r)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>Jx(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}helpGroup(t){return t===void 0?this._helpGroupHeading??"":(this._helpGroupHeading=t,this)}commandsGroup(t){return t===void 0?this._defaultCommandGroup??"":(this._defaultCommandGroup=t,this)}optionsGroup(t){return t===void 0?this._defaultOptionGroup??"":(this._defaultOptionGroup=t,this)}_initOptionGroup(t){this._defaultOptionGroup&&!t.helpGroupHeading&&t.helpGroup(this._defaultOptionGroup)}_initCommandGroup(t){this._defaultCommandGroup&&!t.helpGroup()&&t.helpGroup(this._defaultCommandGroup)}nameFromFilename(t){return this._name=nt.basename(t,nt.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let r=this.createHelp(),n=this._getOutputContext(t);r.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let i=r.formatHelp(this,r);return n.hasColors?i:this._outputConfiguration.stripColor(i)}_getOutputContext(t){t=t||{};let r=!!t.error,n,i,s;return r?(n=a=>this._outputConfiguration.writeErr(a),i=this._outputConfiguration.getErrHasColors(),s=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),i=this._outputConfiguration.getOutHasColors(),s=this._outputConfiguration.getOutHelpWidth()),{error:r,write:a=>(i||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:i,helpWidth:s}}outputHelp(t){let r;typeof t=="function"&&(r=t,t=void 0);let n=this._getOutputContext(t),i={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let s=this.helpInformation({error:n.error});if(r&&(s=r(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(t,r){return typeof t=="boolean"?(t?(this._helpOption===null&&(this._helpOption=void 0),this._defaultOptionGroup&&this._initOptionGroup(this._getHelpOption())):this._helpOption=null,this):(this._helpOption=this.createOption(t??"-h, --help",r??"display help for command"),(t||r)&&this._initOptionGroup(this._helpOption),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this._initOptionGroup(t),this}help(t){this.outputHelp(t);let r=Number(Y.exitCode??0);r===0&&t&&typeof t!="function"&&t.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(t,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let i=`${t}Help`;return this.on(i,s=>{let o;typeof r=="function"?o=r({error:s.error,command:s.command}):o=r,o&&s.write(`${o}
`)}),this}_outputHelpIfRequested(t){let r=this._getHelpOption();r&&t.find(i=>r.is(i))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function Kd(e){return e.map(t=>{if(!t.startsWith("--inspect"))return t;let r,n="127.0.0.1",i="9229",s;return(s=t.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?i=s[3]:n=s[3]):(s=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],n=s[3],i=s[4]),r&&i!=="0"?`${r}=${n}:${parseInt(i)+1}`:t})}function Pa(){if(Y.env.NO_COLOR||Y.env.FORCE_COLOR==="0"||Y.env.FORCE_COLOR==="false")return!1;if(Y.env.FORCE_COLOR||Y.env.CLICOLOR_FORCE!==void 0)return!0}Da.Command=Ia;Da.useColor=Pa});var Jd=b(Te=>{var{Argument:Wd}=Yi(),{Command:Ma}=Hd(),{CommanderError:Xx,InvalidArgumentError:Yd}=Ln(),{Help:eC}=Aa(),{Option:Gd}=Ta();Te.program=new Ma;Te.createCommand=e=>new Ma(e);Te.createOption=(e,t)=>new Gd(e,t);Te.createArgument=(e,t)=>new Wd(e,t);Te.Command=Ma;Te.Option=Gd;Te.Argument=Wd;Te.Help=eC;Te.CommanderError=Xx;Te.InvalidArgumentError=Yd;Te.InvalidOptionArgumentError=Yd});var zd,sV,oV,aV,lV,cV,uV,fV,Z,dV,Nn,hV,je=K(()=>{zd=bt(Jd(),1),{program:sV,createCommand:oV,createArgument:aV,createOption:lV,CommanderError:cV,InvalidArgumentError:uV,InvalidOptionArgumentError:fV,Command:Z,Argument:dV,Option:Nn,Help:hV}=zd.default});var eh=b((mV,$a)=>{"use strict";var Zd=require("path"),Qd=require("module"),tC=require("fs"),Xd=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected \`fromDir\` to be of type \`string\`, got \`${typeof e}\``);if(typeof t!="string")throw new TypeError(`Expected \`moduleId\` to be of type \`string\`, got \`${typeof t}\``);try{e=tC.realpathSync(e)}catch(s){if(s.code==="ENOENT")e=Zd.resolve(e);else{if(r)return null;throw s}}let n=Zd.join(e,"noop.js"),i=()=>Qd._resolveFilename(t,{id:n,filename:n,paths:Qd._nodeModulePaths(e)});if(r)try{return i()}catch{return null}return i()};$a.exports=(e,t)=>Xd(e,t);$a.exports.silent=(e,t)=>Xd(e,t,!0)});var rh=b((gV,qa)=>{"use strict";var th=()=>{let e=Error.prepareStackTrace;Error.prepareStackTrace=(r,n)=>n;let t=new Error().stack.slice(1);return Error.prepareStackTrace=e,t};qa.exports=th;qa.exports.default=th});var ih=b((yV,nh)=>{"use strict";var rC=rh();nh.exports=e=>{let t=rC();if(!e)return t[2].getFileName();let r=!1;t.shift();for(let n of t){let i=n.getFileName();if(typeof i=="string"){if(i===e){r=!0;continue}if(i!=="module.js"&&r&&i!==e)return i}}}});var oh=b((bV,sh)=>{"use strict";var nC=require("path"),iC=eh(),sC=ih();sh.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");let t=sC(__filename),r=t?nC.dirname(t):__dirname,n=iC(r,e),i=require.cache[n];if(i&&i.parent){let o=i.parent.children.length;for(;o--;)i.parent.children[o].id===n&&i.parent.children.splice(o,1)}delete require.cache[n];let s=require.cache[t];return s===void 0||s.require===void 0?require(n):s.require(n)}});var lh=b((wV,ah)=>{"use strict";ah.exports=function(t){return t?t instanceof Array||Array.isArray(t)||t.length>=0&&t.splice instanceof Function:!1}});var uh=b((vV,ch)=>{"use strict";var oC=require("util"),aC=lh(),ja=function(t,r){(!t||t.constructor!==String)&&(r=t||{},t=Error.name);var n=function i(s){if(!this)return new i(s);s=s instanceof Error?s.message:s||this.message,Error.call(this,s),Error.captureStackTrace(this,n),this.name=t,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var f=s.split(/\r?\n/g);for(var u in r)if(r.hasOwnProperty(u)){var d=r[u];"message"in d&&(f=d.message(this[u],f)||f,aC(f)||(f=[f]))}return f.join(`
`)},set:function(f){s=f}});var o=null,a=Object.getOwnPropertyDescriptor(this,"stack"),l=a.get,c=a.value;delete a.value,delete a.writable,a.set=function(f){o=f},a.get=function(){var f=(o||(l?l.call(this):c)).split(/\r?\n+/g);o||(f[0]=this.name+": "+this.message);var u=1;for(var d in r)if(r.hasOwnProperty(d)){var h=r[d];if("line"in h){var p=h.line(this[d]);p&&f.splice(u++,0,"    "+p)}"stack"in h&&h.stack(this[d],f)}return f.join(`
`)},Object.defineProperty(this,"stack",a)};return Object.setPrototypeOf?(Object.setPrototypeOf(n.prototype,Error.prototype),Object.setPrototypeOf(n,Error)):oC.inherits(n,Error),n};ja.append=function(e,t){return{message:function(r,n){return r=r||t,r&&(n[0]+=" "+e.replace("%s",r.toString())),n}}};ja.line=function(e,t){return{line:function(r){return r=r||t,r?e.replace("%s",r.toString()):null}}};ch.exports=ja});var hh=b((_V,dh)=>{"use strict";var lC=e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return"0x"+(t.length%2?"0":"")+t},cC=(e,t,r)=>{if(!t)return{message:e.message+" while parsing empty string",position:0};let n=e.message.match(/^Unexpected token (.) .*position\s+(\d+)/i),i=n?+n[2]:e.message.match(/^Unexpected end of JSON.*/i)?t.length-1:null,s=n?e.message.replace(/^Unexpected token ./,`Unexpected token ${JSON.stringify(n[1])} (${lC(n[1])})`):e.message;if(i!=null){let o=i<=r?0:i-r,a=i+r>=t.length?t.length:i+r,l=(o===0?"":"...")+t.slice(o,a)+(a===t.length?"":"...");return{message:s+` while parsing ${t===l?"":"near "}${JSON.stringify(l)}`,position:i}}else return{message:s+` while parsing '${t.slice(0,r*2)}'`,position:0}},Ji=class extends SyntaxError{constructor(t,r,n,i){n=n||20;let s=cC(t,r,n);super(s.message),Object.assign(this,s),this.code="EJSONPARSE",this.systemError=t,Error.captureStackTrace(this,i||this.constructor)}get name(){return this.constructor.name}set name(t){}get[Symbol.toStringTag](){return this.constructor.name}},uC=Symbol.for("indent"),fC=Symbol.for("newline"),dC=/^\s*[{\[]((?:\r?\n)+)([\s\t]*)/,hC=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,zi=(e,t,r)=>{let n=fh(e);r=r||20;try{let[,i=`
`,s="  "]=n.match(hC)||n.match(dC)||[,"",""],o=JSON.parse(n,t);return o&&typeof o=="object"&&(o[fC]=i,o[uC]=s),o}catch(i){if(typeof e!="string"&&!Buffer.isBuffer(e)){let s=Array.isArray(e)&&e.length===0;throw Object.assign(new TypeError(`Cannot parse ${s?"an empty array":String(e)}`),{code:"EJSONPARSE",systemError:i})}throw new Ji(i,n,r,zi)}},fh=e=>String(e).replace(/^\uFEFF/,"");dh.exports=zi;zi.JSONParseError=Ji;zi.noExceptions=(e,t)=>{try{return JSON.parse(fh(e),t)}catch{}}});var gh=b(In=>{"use strict";In.__esModule=!0;In.LinesAndColumns=void 0;var Zi=`
`,ph="\r",mh=function(){function e(t){this.string=t;for(var r=[0],n=0;n<t.length;)switch(t[n]){case Zi:n+=Zi.length,r.push(n);break;case ph:n+=ph.length,t[n]===Zi&&(n+=Zi.length),r.push(n);break;default:n++;break}this.offsets=r}return e.prototype.locationForIndex=function(t){if(t<0||t>this.string.length)return null;for(var r=0,n=this.offsets;n[r+1]<=t;)r++;var i=t-n[r];return{line:r,column:i}},e.prototype.indexForLocation=function(t){var r=t.line,n=t.column;return r<0||r>=this.offsets.length||n<0||n>this.lengthOfLine(r)?null:this.offsets[r]+n},e.prototype.lengthOfLine=function(t){var r=this.offsets[t],n=t===this.offsets.length-1?this.string.length:this.offsets[t+1];return n-r},e}();In.LinesAndColumns=mh;In.default=mh});var vh=b((xV,wh)=>{"use strict";var Fa=uh(),pC=hh(),{default:mC}=gh(),{codeFrameColumns:gC}=require("@babel/code-frame"),yh=Fa("JSONError",{fileName:Fa.append("in %s"),codeFrame:Fa.append(`

%s
`)}),bh=(e,t,r)=>{typeof t=="string"&&(r=t,t=null);try{try{return JSON.parse(e,t)}catch(n){throw pC(e,t),n}}catch(n){n.message=n.message.replace(/\n/g,"");let i=n.message.match(/in JSON at position (\d+) while parsing/),s=new yh(n);if(r&&(s.fileName=r),i&&i.length>0){let o=new mC(e),a=Number(i[1]),l=o.locationForIndex(a),c=gC(e,{start:{line:l.line+1,column:l.column+1}},{highlightCode:!0});s.codeFrame=c}throw s}};bh.JSONError=yh;wh.exports=bh});var Nr=b((CV,Gt)=>{"use strict";function _h(e){return typeof e>"u"||e===null}function yC(e){return typeof e=="object"&&e!==null}function bC(e){return Array.isArray(e)?e:_h(e)?[]:[e]}function wC(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function vC(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function _C(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Gt.exports.isNothing=_h;Gt.exports.isObject=yC;Gt.exports.toArray=bC;Gt.exports.repeat=vC;Gt.exports.isNegativeZero=_C;Gt.exports.extend=wC});var Ir=b((AV,xh)=>{"use strict";function Sh(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Pn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Sh(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Pn.prototype=Object.create(Error.prototype);Pn.prototype.constructor=Pn;Pn.prototype.toString=function(t){return this.name+": "+Sh(this,t)};xh.exports=Pn});var Ah=b((OV,Ch)=>{"use strict";var Dn=Nr();function Ra(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Ba(e,t){return Dn.repeat(" ",t-e.length)+e}function SC(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Ra(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),u),a=Dn.repeat(" ",t.indent)+Ba((e.line-l+1).toString(),f)+" | "+c.str+`
`+a;for(c=Ra(e.buffer,n[o],i[o],e.position,u),a+=Dn.repeat(" ",t.indent)+Ba((e.line+1).toString(),f)+" | "+c.str+`
`,a+=Dn.repeat("-",t.indent+f+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=Ra(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),u),a+=Dn.repeat(" ",t.indent)+Ba((e.line+l+1).toString(),f)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Ch.exports=SC});var ue=b((EV,Eh)=>{"use strict";var Oh=Ir(),xC=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],CC=["scalar","sequence","mapping"];function AC(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function OC(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(xC.indexOf(r)===-1)throw new Oh('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=AC(t.styleAliases||null),CC.indexOf(this.kind)===-1)throw new Oh('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Eh.exports=OC});var Ka=b((kV,Th)=>{"use strict";var Mn=Ir(),Ua=ue();function kh(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function EC(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Va(e){return this.extend(e)}Va.prototype.extend=function(t){var r=[],n=[];if(t instanceof Ua)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Mn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Ua))throw new Mn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Mn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Mn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Ua))throw new Mn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Va.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=kh(i,"implicit"),i.compiledExplicit=kh(i,"explicit"),i.compiledTypeMap=EC(i.compiledImplicit,i.compiledExplicit),i};Th.exports=Va});var Ha=b((TV,Lh)=>{"use strict";var kC=ue();Lh.exports=new kC("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var Wa=b((LV,Nh)=>{"use strict";var TC=ue();Nh.exports=new TC("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Ya=b((NV,Ih)=>{"use strict";var LC=ue();Ih.exports=new LC("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Ga=b((IV,Ph)=>{"use strict";var NC=Ka();Ph.exports=new NC({explicit:[Ha(),Wa(),Ya()]})});var Ja=b((PV,Dh)=>{"use strict";var IC=ue();function PC(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function DC(){return null}function MC(e){return e===null}Dh.exports=new IC("tag:yaml.org,2002:null",{kind:"scalar",resolve:PC,construct:DC,predicate:MC,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var za=b((DV,Mh)=>{"use strict";var $C=ue();function qC(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function jC(e){return e==="true"||e==="True"||e==="TRUE"}function FC(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Mh.exports=new $C("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qC,construct:jC,predicate:FC,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Za=b((MV,$h)=>{"use strict";var RC=Nr(),BC=ue();function UC(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function VC(e){return 48<=e&&e<=55}function KC(e){return 48<=e&&e<=57}function HC(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!UC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!VC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!KC(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function WC(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function YC(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!RC.isNegativeZero(e)}$h.exports=new BC("tag:yaml.org,2002:int",{kind:"scalar",resolve:HC,construct:WC,predicate:YC,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Qa=b(($V,jh)=>{"use strict";var qh=Nr(),GC=ue(),JC=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function zC(e){return!(e===null||!JC.test(e)||e[e.length-1]==="_")}function ZC(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var QC=/^[-+]?[0-9]+e/;function XC(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(qh.isNegativeZero(e))return"-0.0";return r=e.toString(10),QC.test(r)?r.replace("e",".e"):r}function eA(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||qh.isNegativeZero(e))}jh.exports=new GC("tag:yaml.org,2002:float",{kind:"scalar",resolve:zC,construct:ZC,predicate:eA,represent:XC,defaultStyle:"lowercase"})});var Xa=b((qV,Fh)=>{"use strict";Fh.exports=Ga().extend({implicit:[Ja(),za(),Za(),Qa()]})});var el=b((jV,Rh)=>{"use strict";Rh.exports=Xa()});var tl=b((FV,Vh)=>{"use strict";var tA=ue(),Bh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Uh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function rA(e){return e===null?!1:Bh.exec(e)!==null||Uh.exec(e)!==null}function nA(e){var t,r,n,i,s,o,a,l=0,c=null,f,u,d;if(t=Bh.exec(e),t===null&&(t=Uh.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],u=+(t[11]||0),c=(f*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function iA(e){return e.toISOString()}Vh.exports=new tA("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:rA,construct:nA,instanceOf:Date,represent:iA})});var rl=b((RV,Kh)=>{"use strict";var sA=ue();function oA(e){return e==="<<"||e===null}Kh.exports=new sA("tag:yaml.org,2002:merge",{kind:"scalar",resolve:oA})});var il=b((BV,Hh)=>{"use strict";var aA=ue(),nl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function lA(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=nl;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function cA(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=nl,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function uA(e){var t="",r=0,n,i,s=e.length,o=nl;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function fA(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Hh.exports=new aA("tag:yaml.org,2002:binary",{kind:"scalar",resolve:lA,construct:cA,predicate:fA,represent:uA})});var sl=b((UV,Wh)=>{"use strict";var dA=ue(),hA=Object.prototype.hasOwnProperty,pA=Object.prototype.toString;function mA(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,pA.call(i)!=="[object Object]")return!1;for(s in i)if(hA.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function gA(e){return e!==null?e:[]}Wh.exports=new dA("tag:yaml.org,2002:omap",{kind:"sequence",resolve:mA,construct:gA})});var ol=b((VV,Yh)=>{"use strict";var yA=ue(),bA=Object.prototype.toString;function wA(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],bA.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function vA(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}Yh.exports=new yA("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:wA,construct:vA})});var al=b((KV,Gh)=>{"use strict";var _A=ue(),SA=Object.prototype.hasOwnProperty;function xA(e){if(e===null)return!0;var t,r=e;for(t in r)if(SA.call(r,t)&&r[t]!==null)return!1;return!0}function CA(e){return e!==null?e:{}}Gh.exports=new _A("tag:yaml.org,2002:set",{kind:"mapping",resolve:xA,construct:CA})});var Qi=b((HV,Jh)=>{"use strict";Jh.exports=el().extend({implicit:[tl(),rl()],explicit:[il(),sl(),ol(),al()]})});var fp=b((WV,fl)=>{"use strict";var zt=Nr(),rp=Ir(),AA=Ah(),OA=Qi(),vt=Object.prototype.hasOwnProperty,Xi=1,np=2,ip=3,es=4,ll=1,EA=2,zh=3,kA=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,TA=/[\x85\u2028\u2029]/,LA=/[,\[\]\{\}]/,sp=/^(?:!|!!|![a-z\-]+!)$/i,op=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zh(e){return Object.prototype.toString.call(e)}function We(e){return e===10||e===13}function Zt(e){return e===9||e===32}function ve(e){return e===9||e===32||e===10||e===13}function Pr(e){return e===44||e===91||e===93||e===123||e===125}function NA(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function IA(e){return e===120?2:e===117?4:e===85?8:0}function PA(e){return 48<=e&&e<=57?e-48:-1}function Qh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function DA(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ap=new Array(256),lp=new Array(256);for(Jt=0;Jt<256;Jt++)ap[Jt]=Qh(Jt)?1:0,lp[Jt]=Qh(Jt);var Jt;function MA(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||OA,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function cp(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=AA(r),new rp(t,r)}function D(e,t){throw cp(e,t)}function ts(e,t){e.onWarning&&e.onWarning.call(null,cp(e,t))}var Xh={YAML:function(t,r,n){var i,s,o;t.version!==null&&D(t,"duplication of %YAML directive"),n.length!==1&&D(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&D(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&D(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&ts(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&D(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],sp.test(i)||D(t,"ill-formed tag handle (first argument) of the TAG directive"),vt.call(t.tagMap,i)&&D(t,'there is a previously declared suffix for "'+i+'" tag handle'),op.test(s)||D(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{D(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function wt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||D(e,"expected valid JSON character");else kA.test(a)&&D(e,"the stream contains non-printable characters");e.result+=a}}function ep(e,t,r,n){var i,s,o,a;for(zt.isObject(r)||D(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],vt.call(t,s)||(t[s]=r[s],n[s]=!0)}function Dr(e,t,r,n,i,s,o,a,l){var c,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,f=i.length;c<f;c+=1)Array.isArray(i[c])&&D(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Zh(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Zh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,f=s.length;c<f;c+=1)ep(e,t,s[c],r);else ep(e,t,s,r);else!e.json&&!vt.call(r,i)&&vt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,D(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function cl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function X(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Zt(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(We(i))for(cl(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&ts(e,"deficient indentation"),n}function rs(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ve(r)))}function ul(e,t){t===1?e.result+=" ":t>1&&(e.result+=zt.repeat(`
`,t-1))}function $A(e,t,r){var n,i,s,o,a,l,c,f,u=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),ve(h)||Pr(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),ve(i)||r&&Pr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),ve(i)||r&&Pr(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),ve(n))break}else{if(e.position===e.lineStart&&rs(e)||r&&Pr(h))break;if(We(h))if(l=e.line,c=e.lineStart,f=e.lineIndent,X(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=f;break}}a&&(wt(e,s,o,!1),ul(e,e.line-l),s=o=e.position,a=!1),Zt(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return wt(e,s,o,!1),e.result?!0:(e.kind=u,e.result=d,!1)}function qA(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(wt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else We(r)?(wt(e,n,i,!0),ul(e,X(e,!1,t)),n=i=e.position):e.position===e.lineStart&&rs(e)?D(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);D(e,"unexpected end of the stream within a single quoted scalar")}function jA(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return wt(e,r,e.position,!0),e.position++,!0;if(a===92){if(wt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),We(a))X(e,!1,t);else if(a<256&&ap[a])e.result+=lp[a],e.position++;else if((o=IA(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=NA(a))>=0?s=(s<<4)+o:D(e,"expected hexadecimal character");e.result+=DA(s),e.position++}else D(e,"unknown escape sequence");r=n=e.position}else We(a)?(wt(e,r,n,!0),ul(e,X(e,!1,t)),r=n=e.position):e.position===e.lineStart&&rs(e)?D(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}D(e,"unexpected end of the stream within a double quoted scalar")}function FA(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,f,u,d,h,p=Object.create(null),m,g,w,y;if(y=e.input.charCodeAt(e.position),y===91)f=93,h=!1,a=[];else if(y===123)f=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(X(e,!0,t),y=e.input.charCodeAt(e.position),y===f)return e.position++,e.tag=o,e.anchor=l,e.kind=h?"mapping":"sequence",e.result=a,!0;r?y===44&&D(e,"expected the node content, but found ','"):D(e,"missed comma between flow collection entries"),g=m=w=null,u=d=!1,y===63&&(c=e.input.charCodeAt(e.position+1),ve(c)&&(u=d=!0,e.position++,X(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Mr(e,t,Xi,!1,!0),g=e.tag,m=e.result,X(e,!0,t),y=e.input.charCodeAt(e.position),(d||e.line===n)&&y===58&&(u=!0,y=e.input.charCodeAt(++e.position),X(e,!0,t),Mr(e,t,Xi,!1,!0),w=e.result),h?Dr(e,a,p,g,m,w,n,i,s):u?a.push(Dr(e,null,p,g,m,w,n,i,s)):a.push(m),X(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}D(e,"unexpected end of the stream within a flow collection")}function RA(e,t){var r,n,i=ll,s=!1,o=!1,a=t,l=0,c=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)ll===i?i=u===43?zh:EA:D(e,"repeat of a chomping mode identifier");else if((f=PA(u))>=0)f===0?D(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?D(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(Zt(u)){do u=e.input.charCodeAt(++e.position);while(Zt(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!We(u)&&u!==0)}for(;u!==0;){for(cl(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),We(u)){l++;continue}if(e.lineIndent<a){i===zh?e.result+=zt.repeat(`
`,s?1+l:l):i===ll&&s&&(e.result+=`
`);break}for(n?Zt(u)?(c=!0,e.result+=zt.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=zt.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=zt.repeat(`
`,l):e.result+=zt.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!We(u)&&u!==0;)u=e.input.charCodeAt(++e.position);wt(e,r,e.position,!1)}return!0}function tp(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!ve(o))));){if(a=!0,e.position++,X(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Mr(e,t,ip,!1,!0),s.push(e.result),X(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)D(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function BA(e,t,r){var n,i,s,o,a,l,c=e.tag,f=e.anchor,u={},d=Object.create(null),h=null,p=null,m=null,g=!1,w=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(y===63||y===58)&&ve(n))y===63?(g&&(Dr(e,u,d,h,p,null,o,a,l),h=p=m=null),w=!0,g=!0,i=!0):g?(g=!1,i=!0):D(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Mr(e,r,np,!1,!0))break;if(e.line===s){for(y=e.input.charCodeAt(e.position);Zt(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),ve(y)||D(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Dr(e,u,d,h,p,null,o,a,l),h=p=m=null),w=!0,g=!1,i=!1,h=e.tag,p=e.result;else if(w)D(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(w)D(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(g&&(o=e.line,a=e.lineStart,l=e.position),Mr(e,t,es,!0,i)&&(g?p=e.result:m=e.result),g||(Dr(e,u,d,h,p,m,o,a,l),h=p=m=null),X(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&y!==0)D(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Dr(e,u,d,h,p,null,o,a,l),w&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=u),w}function UA(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&D(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):D(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ve(o);)o===33&&(n?D(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),sp.test(i)||D(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),LA.test(s)&&D(e,"tag suffix cannot contain flow indicator characters")}s&&!op.test(s)&&D(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{D(e,"tag name is malformed: "+s)}return r?e.tag=s:vt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:D(e,'undeclared tag handle "'+i+'"'),!0}function VA(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&D(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ve(r)&&!Pr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function KA(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ve(n)&&!Pr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),vt.call(e.anchorMap,r)||D(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],X(e,!0,-1),!0}function Mr(e,t,r,n,i){var s,o,a,l=1,c=!1,f=!1,u,d,h,p,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=es===r||ip===r,n&&X(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;UA(e)||VA(e);)X(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||es===r)&&(Xi===r||np===r?m=t:m=t+1,g=e.position-e.lineStart,l===1?a&&(tp(e,g)||BA(e,g,m))||FA(e,m)?f=!0:(o&&RA(e,m)||qA(e,m)||jA(e,m)?f=!0:KA(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&D(e,"alias node should not have any properties")):$A(e,m,Xi===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&tp(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&D(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(p=e.implicitTypes[u],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(vt.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,h=e.typeMap.multi[e.kind||"fallback"],u=0,d=h.length;u<d;u+=1)if(e.tag.slice(0,h[u].tag.length)===h[u].tag){p=h[u];break}p||D(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&D(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function HA(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(X(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!ve(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&D(e,"directive name must not be less than one character in length");o!==0;){for(;Zt(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!We(o));break}if(We(o))break;for(r=e.position;o!==0&&!ve(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&cl(e),vt.call(Xh,n)?Xh[n](e,n,i):ts(e,'unknown document directive "'+n+'"')}if(X(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,X(e,!0,-1)):s&&D(e,"directives end mark is expected"),Mr(e,e.lineIndent-1,es,!1,!0),X(e,!0,-1),e.checkLineBreaks&&TA.test(e.input.slice(t,e.position))&&ts(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&rs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,X(e,!0,-1));return}if(e.position<e.length-1)D(e,"end of the stream or a document separator is expected");else return}function up(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new MA(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,D(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)HA(r);return r.documents}function WA(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=up(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function YA(e,t){var r=up(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new rp("expected a single document in the stream, but found more")}}fl.exports.loadAll=WA;fl.exports.load=YA});var Ip=b((YV,Np)=>{"use strict";var ss=Nr(),Rn=Ir(),GA=Qi(),vp=Object.prototype.toString,_p=Object.prototype.hasOwnProperty,gl=65279,JA=9,qn=10,zA=13,ZA=32,QA=33,XA=34,dl=35,eO=37,tO=38,rO=39,nO=42,Sp=44,iO=45,ns=58,sO=61,oO=62,aO=63,lO=64,xp=91,Cp=93,cO=96,Ap=123,uO=124,Op=125,fe={};fe[0]="\\0";fe[7]="\\a";fe[8]="\\b";fe[9]="\\t";fe[10]="\\n";fe[11]="\\v";fe[12]="\\f";fe[13]="\\r";fe[27]="\\e";fe[34]='\\"';fe[92]="\\\\";fe[133]="\\N";fe[160]="\\_";fe[8232]="\\L";fe[8233]="\\P";var fO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hO(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&_p.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function pO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Rn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ss.repeat("0",n-t.length)+t}var mO=1,jn=2;function gO(e){this.schema=e.schema||GA,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ss.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=hO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?jn:mO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function dp(e,t){for(var r=ss.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function hl(e,t){return`
`+ss.repeat(" ",e.indent*t)}function yO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function is(e){return e===ZA||e===JA}function Fn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==gl||65536<=e&&e<=1114111}function hp(e){return Fn(e)&&e!==gl&&e!==zA&&e!==qn}function pp(e,t,r){var n=hp(e),i=n&&!is(e);return(r?n:n&&e!==Sp&&e!==xp&&e!==Cp&&e!==Ap&&e!==Op)&&e!==dl&&!(t===ns&&!i)||hp(t)&&!is(t)&&e===dl||t===ns&&i}function bO(e){return Fn(e)&&e!==gl&&!is(e)&&e!==iO&&e!==aO&&e!==ns&&e!==Sp&&e!==xp&&e!==Cp&&e!==Ap&&e!==Op&&e!==dl&&e!==tO&&e!==nO&&e!==QA&&e!==uO&&e!==sO&&e!==oO&&e!==rO&&e!==XA&&e!==eO&&e!==lO&&e!==cO}function wO(e){return!is(e)&&e!==ns}function $n(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Ep(e){var t=/^\n* /;return t.test(e)}var kp=1,pl=2,Tp=3,Lp=4,$r=5;function vO(e,t,r,n,i,s,o,a){var l,c=0,f=null,u=!1,d=!1,h=n!==-1,p=-1,m=bO($n(e,0))&&wO($n(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=$n(e,l),!Fn(c))return $r;m=m&&pp(c,f,a),f=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=$n(e,l),c===qn)u=!0,h&&(d=d||l-p-1>n&&e[p+1]!==" ",p=l);else if(!Fn(c))return $r;m=m&&pp(c,f,a),f=c}d=d||h&&l-p-1>n&&e[p+1]!==" "}return!u&&!d?m&&!o&&!i(e)?kp:s===jn?$r:pl:r>9&&Ep(e)?$r:o?s===jn?$r:pl:d?Lp:Tp}function _O(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===jn?'""':"''";if(!e.noCompatMode&&(fO.indexOf(t)!==-1||dO.test(t)))return e.quotingType===jn?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return yO(e,c)}switch(vO(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case kp:return t;case pl:return"'"+t.replace(/'/g,"''")+"'";case Tp:return"|"+mp(t,e.indent)+gp(dp(t,s));case Lp:return">"+mp(t,e.indent)+gp(dp(SO(t,o),s));case $r:return'"'+xO(t,o)+'"';default:throw new Rn("impossible error: invalid scalar style")}}()}function mp(e,t){var r=Ep(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function gp(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function SO(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,yp(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+yp(l,t),i=s}return n}function yp(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function xO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=$n(e,i),n=fe[r],!n&&Fn(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||pO(r);return t}function CO(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(it(e,t,a,!1,!1)||typeof a>"u"&&it(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function bp(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(it(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&it(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=hl(e,t)),e.dump&&qn===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function AO(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,f;for(o=0,a=s.length;o<a;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),it(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),it(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function OO(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,f,u,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Rn("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||i!=="")&&(d+=hl(e,t)),c=o[a],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),it(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&qn===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=hl(e,t)),it(e,t+1,f,!0,u)&&(e.dump&&qn===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function wp(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,vp.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(_p.call(a.represent,l))n=a.represent[l](t,l);else throw new Rn("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function it(e,t,r,n,i,s,o){e.tag=null,e.dump=r,wp(e,r,!1)||wp(e,r,!0);var a=vp.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,d;if(f&&(u=e.duplicates.indexOf(r),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(OO(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(AO(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?bp(e,t-1,e.dump,i):bp(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(CO(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&_O(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Rn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function EO(e,t){var r=[],n=[],i,s;for(ml(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function ml(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)ml(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)ml(e[n[i]],t,r)}function kO(e,t){t=t||{};var r=new gO(t);r.noRefs||EO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),it(r,0,n,!0,!0)?r.dump+`
`:""}Np.exports.dump=kO});var Dp=b((GV,ge)=>{"use strict";var Pp=fp(),TO=Ip();function yl(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}ge.exports.Type=ue();ge.exports.Schema=Ka();ge.exports.FAILSAFE_SCHEMA=Ga();ge.exports.JSON_SCHEMA=Xa();ge.exports.CORE_SCHEMA=el();ge.exports.DEFAULT_SCHEMA=Qi();ge.exports.load=Pp.load;ge.exports.loadAll=Pp.loadAll;ge.exports.dump=TO.dump;ge.exports.YAMLException=Ir();ge.exports.types={binary:il(),float:Qa(),map:Ya(),null:Ja(),pairs:ol(),set:al(),timestamp:tl(),bool:za(),int:Za(),merge:rl(),omap:sl(),seq:Wa(),str:Ha()};ge.exports.safeLoad=yl("safeLoad","load");ge.exports.safeLoadAll=yl("safeLoadAll","loadAll");ge.exports.safeDump=yl("safeDump","dump")});var jp=b(re=>{"use strict";var LO=re&&re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(re,"__esModule",{value:!0});re.loadTs=re.loadTsSync=re.loadYaml=re.loadJson=re.loadJs=re.loadJsSync=void 0;var os=require("fs"),Mp=require("fs/promises"),$p=LO(require("path")),NO=require("url"),bl,IO=function(t){return bl===void 0&&(bl=oh()),bl(t)};re.loadJsSync=IO;var PO=async function(t){try{let{href:r}=(0,NO.pathToFileURL)(t);return(await import(r)).default}catch(r){try{return(0,re.loadJsSync)(t,"")}catch(n){throw n.code==="ERR_REQUIRE_ESM"||n instanceof SyntaxError&&n.toString().includes("Cannot use import statement outside a module")?r:n}}};re.loadJs=PO;var wl,DO=function(t,r){wl===void 0&&(wl=vh());try{return wl(r)}catch(n){throw n.message=`JSON Error in ${t}:
${n.message}`,n}};re.loadJson=DO;var vl,MO=function(t,r){vl===void 0&&(vl=Dp());try{return vl.load(r)}catch(n){throw n.message=`YAML Error in ${t}:
${n.message}`,n}};re.loadYaml=MO;var de,$O=function(t,r){de===void 0&&(de=require("typescript"));let n=`${t.slice(0,-2)}cjs`;try{let i=qp($p.default.dirname(t))??{};return i.compilerOptions={...i.compilerOptions,module:de.ModuleKind.NodeNext,moduleResolution:de.ModuleResolutionKind.NodeNext,target:de.ScriptTarget.ES2022,noEmit:!1},r=de.transpileModule(r,i).outputText,(0,os.writeFileSync)(n,r),(0,re.loadJsSync)(n,r).default}catch(i){throw i.message=`TypeScript Error in ${t}:
${i.message}`,i}finally{(0,os.existsSync)(n)&&(0,os.rmSync)(n)}};re.loadTsSync=$O;var qO=async function(t,r){de===void 0&&(de=(await import("typescript")).default);let n=`${t.slice(0,-2)}mjs`,i;try{try{let s=qp($p.default.dirname(t))??{};s.compilerOptions={...s.compilerOptions,module:de.ModuleKind.ES2022,moduleResolution:de.ModuleResolutionKind.Bundler,target:de.ScriptTarget.ES2022,noEmit:!1},i=de.transpileModule(r,s).outputText,await(0,Mp.writeFile)(n,i)}catch(s){throw s.message=`TypeScript Error in ${t}:
${s.message}`,s}return await(0,re.loadJs)(n,i)}finally{(0,os.existsSync)(n)&&await(0,Mp.rm)(n)}};re.loadTs=qO;function qp(e){let t=de.findConfigFile(e,r=>de.sys.fileExists(r));if(t!==void 0){let{config:r,error:n}=de.readConfigFile(t,i=>de.sys.readFile(i));if(n)throw new Error(`Error in ${t}: ${n.messageText.toString()}`);return r}}});var as=b(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.defaultLoadersSync=he.defaultLoaders=he.metaSearchPlaces=he.globalConfigSearchPlacesSync=he.globalConfigSearchPlaces=he.getDefaultSearchPlacesSync=he.getDefaultSearchPlaces=void 0;var ye=jp();function jO(e){return["package.json",`.${e}rc`,`.${e}rc.json`,`.${e}rc.yaml`,`.${e}rc.yml`,`.${e}rc.js`,`.${e}rc.ts`,`.${e}rc.cjs`,`.${e}rc.mjs`,`.config/${e}rc`,`.config/${e}rc.json`,`.config/${e}rc.yaml`,`.config/${e}rc.yml`,`.config/${e}rc.js`,`.config/${e}rc.ts`,`.config/${e}rc.cjs`,`.config/${e}rc.mjs`,`${e}.config.js`,`${e}.config.ts`,`${e}.config.cjs`,`${e}.config.mjs`]}he.getDefaultSearchPlaces=jO;function FO(e){return["package.json",`.${e}rc`,`.${e}rc.json`,`.${e}rc.yaml`,`.${e}rc.yml`,`.${e}rc.js`,`.${e}rc.ts`,`.${e}rc.cjs`,`.config/${e}rc`,`.config/${e}rc.json`,`.config/${e}rc.yaml`,`.config/${e}rc.yml`,`.config/${e}rc.js`,`.config/${e}rc.ts`,`.config/${e}rc.cjs`,`${e}.config.js`,`${e}.config.ts`,`${e}.config.cjs`]}he.getDefaultSearchPlacesSync=FO;he.globalConfigSearchPlaces=["config","config.json","config.yaml","config.yml","config.js","config.ts","config.cjs","config.mjs"];he.globalConfigSearchPlacesSync=["config","config.json","config.yaml","config.yml","config.js","config.ts","config.cjs"];he.metaSearchPlaces=["package.json","package.yaml",".config/config.json",".config/config.yaml",".config/config.yml",".config/config.js",".config/config.ts",".config/config.cjs",".config/config.mjs"];he.defaultLoaders=Object.freeze({".mjs":ye.loadJs,".cjs":ye.loadJs,".js":ye.loadJs,".ts":ye.loadTs,".json":ye.loadJson,".yaml":ye.loadYaml,".yml":ye.loadYaml,noExt:ye.loadYaml});he.defaultLoadersSync=Object.freeze({".cjs":ye.loadJsSync,".js":ye.loadJsSync,".ts":ye.loadTsSync,".json":ye.loadJson,".yaml":ye.loadYaml,".yml":ye.loadYaml,noExt:ye.loadYaml})});var Bp=b((ZV,Sl)=>{"use strict";var z=require("path"),Fp=require("os"),_t=Fp.homedir(),_l=Fp.tmpdir(),{env:qr}=process,RO=e=>{let t=z.join(_t,"Library");return{data:z.join(t,"Application Support",e),config:z.join(t,"Preferences",e),cache:z.join(t,"Caches",e),log:z.join(t,"Logs",e),temp:z.join(_l,e)}},BO=e=>{let t=qr.APPDATA||z.join(_t,"AppData","Roaming"),r=qr.LOCALAPPDATA||z.join(_t,"AppData","Local");return{data:z.join(r,e,"Data"),config:z.join(t,e,"Config"),cache:z.join(r,e,"Cache"),log:z.join(r,e,"Log"),temp:z.join(_l,e)}},UO=e=>{let t=z.basename(_t);return{data:z.join(qr.XDG_DATA_HOME||z.join(_t,".local","share"),e),config:z.join(qr.XDG_CONFIG_HOME||z.join(_t,".config"),e),cache:z.join(qr.XDG_CACHE_HOME||z.join(_t,".cache"),e),log:z.join(qr.XDG_STATE_HOME||z.join(_t,".local","state"),e),temp:z.join(_l,t,e)}},Rp=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?RO(e):process.platform==="win32"?BO(e):UO(e)};Sl.exports=Rp;Sl.exports.default=Rp});var Bn=b(se=>{"use strict";var VO=se&&se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KO=se&&se.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HO=se&&se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VO(t,e,r);return KO(t,e),t};Object.defineProperty(se,"__esModule",{value:!0});se.isDirectorySync=se.isDirectory=se.removeUndefinedValuesFromObject=se.getPropertyByPath=se.emplace=void 0;var Up=HO(require("fs"));function WO(e,t,r){let n=e.get(t);if(n!==void 0)return n;let i=r();return e.set(t,i),i}se.emplace=WO;function YO(e,t){return typeof t=="string"&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:(typeof t=="string"?t.split("."):t).reduce((n,i)=>n===void 0?n:n[i],e)}se.getPropertyByPath=YO;function GO(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}se.removeUndefinedValuesFromObject=GO;async function JO(e){try{return(await Up.promises.stat(e)).isDirectory()}catch(t){if(t.code==="ENOENT")return!1;throw t}}se.isDirectory=JO;function zO(e){try{return Up.default.statSync(e).isDirectory()}catch(t){if(t.code==="ENOENT")return!1;throw t}}se.isDirectorySync=zO});var Ol=b(St=>{"use strict";var Al=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(St,"__esModule",{value:!0});St.getExtensionDescription=St.ExplorerBase=void 0;var ZO=Al(Bp()),QO=Al(require("os")),jr=Al(require("path")),XO=Bn(),xl=class{#e=!1;config;loadCache;searchCache;constructor(t){this.config=t,t.cache&&(this.loadCache=new Map,this.searchCache=new Map),this.#t()}set loadingMetaConfig(t){this.#e=t}#t(){let t=this.config;for(let r of t.searchPlaces){let n=jr.default.extname(r),i=this.config.loaders[n||"noExt"]??this.config.loaders.default;if(i===void 0)throw new Error(`Missing loader for ${Cl(r)}.`);if(typeof i!="function")throw new Error(`Loader for ${Cl(r)} is not a function: Received ${typeof i}.`)}}clearLoadCache(){this.loadCache&&this.loadCache.clear()}clearSearchCache(){this.searchCache&&this.searchCache.clear()}clearCaches(){this.clearLoadCache(),this.clearSearchCache()}toCosmiconfigResult(t,r){if(r===null)return null;if(r===void 0)return{filepath:t,config:void 0,isEmpty:!0};if(this.config.applyPackagePropertyPathToConfiguration||this.#e){let n=this.config.packageProp??this.config.moduleName;r=(0,XO.getPropertyByPath)(r,n)}return r===void 0?{filepath:t,config:void 0,isEmpty:!0}:{config:r,filepath:t}}validateImports(t,r,n){let i=jr.default.dirname(t);for(let s of r){if(typeof s!="string")throw new Error(`${t}: Key $import must contain a string or a list of strings`);let o=jr.default.resolve(i,s);if(o===t)throw new Error(`Self-import detected in ${t}`);let a=n.indexOf(o);if(a!==-1)throw new Error(`Circular import detected:
${[...n,o].map((l,c)=>`${c+1}. ${l}`).join(`
`)} (same as ${a+1}.)`)}}getSearchPlacesForDir(t,r){return(t.isGlobalConfig?r:this.config.searchPlaces).map(n=>jr.default.join(t.path,n))}getGlobalConfigDir(){return(0,ZO.default)(this.config.moduleName,{suffix:""}).config}*getGlobalDirs(t){let r=jr.default.resolve(this.config.stopDir??QO.default.homedir());yield{path:t,isGlobalConfig:!1};let n=t;for(;n!==r;){let i=jr.default.dirname(n);if(i===n)break;yield{path:i,isGlobalConfig:!1},n=i}yield{path:this.getGlobalConfigDir(),isGlobalConfig:!0}}};St.ExplorerBase=xl;function Cl(e){return e?`extension "${e}"`:"files without extensions"}St.getExtensionDescription=Cl});var El=b(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.mergeAll=Qt.hasOwn=void 0;Qt.hasOwn=Function.prototype.call.bind(Object.prototype.hasOwnProperty);var eE=Function.prototype.call.bind(Object.prototype.toString);function Vp(e){return eE(e)==="[object Object]"}function Kp(e,t,r){for(let n of Object.keys(t)){let i=t[n];if((0,Qt.hasOwn)(e,n)){if(Array.isArray(e[n])&&Array.isArray(i)){if(r.mergeArrays){e[n].push(...i);continue}}else if(Vp(e[n])&&Vp(i)){e[n]=Kp(e[n],i,r);continue}}e[n]=i}return e}function tE(e,t){return e.reduce((r,n)=>Kp(r,n,t),{})}Qt.mergeAll=tE});var Jp=b(Fr=>{"use strict";var Gp=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Explorer=void 0;var Hp=Gp(require("fs/promises")),xt=Gp(require("path")),rE=as(),Wp=Ol(),Yp=El(),Un=Bn(),kl=class extends Wp.ExplorerBase{async load(t){t=xt.default.resolve(t);let r=async()=>await this.config.transform(await this.#e(t));return this.loadCache?await(0,Un.emplace)(this.loadCache,t,r):await r()}async search(t=""){if(this.config.metaConfigFilePath){this.loadingMetaConfig=!0;let o=await this.load(this.config.metaConfigFilePath);if(this.loadingMetaConfig=!1,o&&!o.isEmpty)return o}t=xt.default.resolve(t);let r=this.#i(t),n=await r.next();if(n.done)throw new Error(`Could not find any folders to iterate through (start from ${t})`);let i=n.value,s=async()=>{if(await(0,Un.isDirectory)(i.path))for(let a of this.getSearchPlacesForDir(i,rE.globalConfigSearchPlaces))try{let l=await this.#e(a);if(l!==null&&!(l.isEmpty&&this.config.ignoreEmptySearchPlaces))return await this.config.transform(l)}catch(l){if(l.code==="ENOENT"||l.code==="EISDIR"||l.code==="ENOTDIR"||l.code==="EACCES")continue;throw l}let o=await r.next();return o.done?await this.config.transform(null):(i=o.value,this.searchCache?await(0,Un.emplace)(this.searchCache,i.path,s):await s())};return this.searchCache?await(0,Un.emplace)(this.searchCache,t,s):await s()}async#e(t,r=[]){let n=await Hp.default.readFile(t,{encoding:"utf-8"});return this.toCosmiconfigResult(t,await this.#t(t,n,r))}async#t(t,r,n){let i=await this.#r(t,r);if(!i||!(0,Yp.hasOwn)(i,"$import"))return i;let s=xt.default.dirname(t),{$import:o,...a}=i,l=Array.isArray(o)?o:[o],c=[...n,t];this.validateImports(t,l,c);let f=await Promise.all(l.map(async u=>{let d=xt.default.resolve(s,u);return(await this.#e(d,c))?.config}));return(0,Yp.mergeAll)([...f,a],{mergeArrays:this.config.mergeImportArrays})}async#r(t,r){if(r.trim()==="")return;let n=xt.default.extname(t),i=this.config.loaders[n||"noExt"]??this.config.loaders.default;if(!i)throw new Error(`No loader specified for ${(0,Wp.getExtensionDescription)(n)}`);try{let s=await i(t,r);return xt.default.basename(t,n)!=="package"?s:(0,Un.getPropertyByPath)(s,this.config.packageProp??this.config.moduleName)??null}catch(s){throw s.filepath=t,s}}async#n(t){try{return await Hp.default.stat(t),!0}catch{return!1}}async*#i(t){switch(this.config.searchStrategy){case"none":{yield{path:t,isGlobalConfig:!1};return}case"project":{let r=t;for(;;){yield{path:r,isGlobalConfig:!1};for(let i of["json","yaml"]){let s=xt.default.join(r,`package.${i}`);if(await this.#n(s))break}let n=xt.default.dirname(r);if(n===r)break;r=n}return}case"global":yield*this.getGlobalDirs(t)}}};Fr.Explorer=kl});var em=b(Rr=>{"use strict";var Xp=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.ExplorerSync=void 0;var zp=Xp(require("fs")),Ct=Xp(require("path")),nE=as(),Zp=Ol(),Qp=El(),Vn=Bn(),Tl=class extends Zp.ExplorerBase{load(t){t=Ct.default.resolve(t);let r=()=>this.config.transform(this.#e(t));return this.loadCache?(0,Vn.emplace)(this.loadCache,t,r):r()}search(t=""){if(this.config.metaConfigFilePath){this.loadingMetaConfig=!0;let o=this.load(this.config.metaConfigFilePath);if(this.loadingMetaConfig=!1,o&&!o.isEmpty)return o}t=Ct.default.resolve(t);let r=this.#i(t),n=r.next();if(n.done)throw new Error(`Could not find any folders to iterate through (start from ${t})`);let i=n.value,s=()=>{if((0,Vn.isDirectorySync)(i.path))for(let a of this.getSearchPlacesForDir(i,nE.globalConfigSearchPlacesSync))try{let l=this.#e(a);if(l!==null&&!(l.isEmpty&&this.config.ignoreEmptySearchPlaces))return this.config.transform(l)}catch(l){if(l.code==="ENOENT"||l.code==="EISDIR"||l.code==="ENOTDIR"||l.code==="EACCES")continue;throw l}let o=r.next();return o.done?this.config.transform(null):(i=o.value,this.searchCache?(0,Vn.emplace)(this.searchCache,i.path,s):s())};return this.searchCache?(0,Vn.emplace)(this.searchCache,t,s):s()}#e(t,r=[]){let n=zp.default.readFileSync(t,"utf8");return this.toCosmiconfigResult(t,this.#t(t,n,r))}#t(t,r,n){let i=this.#r(t,r);if(!i||!(0,Qp.hasOwn)(i,"$import"))return i;let s=Ct.default.dirname(t),{$import:o,...a}=i,l=Array.isArray(o)?o:[o],c=[...n,t];this.validateImports(t,l,c);let f=l.map(u=>{let d=Ct.default.resolve(s,u);return this.#e(d,c)?.config});return(0,Qp.mergeAll)([...f,a],{mergeArrays:this.config.mergeImportArrays})}#r(t,r){if(r.trim()==="")return;let n=Ct.default.extname(t),i=this.config.loaders[n||"noExt"]??this.config.loaders.default;if(!i)throw new Error(`No loader specified for ${(0,Zp.getExtensionDescription)(n)}`);try{let s=i(t,r);return Ct.default.basename(t,n)!=="package"?s:(0,Vn.getPropertyByPath)(s,this.config.packageProp??this.config.moduleName)??null}catch(s){throw s.filepath=t,s}}#n(t){try{return zp.default.statSync(t),!0}catch{return!1}}*#i(t){switch(this.config.searchStrategy){case"none":{yield{path:t,isGlobalConfig:!1};return}case"project":{let r=t;for(;;){yield{path:r,isGlobalConfig:!1};for(let i of["json","yaml"]){let s=Ct.default.join(r,`package.${i}`);if(this.#n(s))break}let n=Ct.default.dirname(r);if(n===r)break;r=n}return}case"global":yield*this.getGlobalDirs(t)}}loadSync(t){return this.load(t)}searchSync(t=""){return this.search(t)}};Rr.ExplorerSync=Tl});var Il=b(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.defaultLoadersSync=oe.defaultLoaders=oe.globalConfigSearchPlacesSync=oe.globalConfigSearchPlaces=oe.getDefaultSearchPlacesSync=oe.getDefaultSearchPlaces=oe.cosmiconfigSync=oe.cosmiconfig=void 0;var Le=as();Object.defineProperty(oe,"defaultLoaders",{enumerable:!0,get:function(){return Le.defaultLoaders}});Object.defineProperty(oe,"defaultLoadersSync",{enumerable:!0,get:function(){return Le.defaultLoadersSync}});Object.defineProperty(oe,"getDefaultSearchPlaces",{enumerable:!0,get:function(){return Le.getDefaultSearchPlaces}});Object.defineProperty(oe,"getDefaultSearchPlacesSync",{enumerable:!0,get:function(){return Le.getDefaultSearchPlacesSync}});Object.defineProperty(oe,"globalConfigSearchPlaces",{enumerable:!0,get:function(){return Le.globalConfigSearchPlaces}});Object.defineProperty(oe,"globalConfigSearchPlacesSync",{enumerable:!0,get:function(){return Le.globalConfigSearchPlacesSync}});var iE=Jp(),tm=em(),Ll=Bn(),Nl=function(t){return t};function sE(){let t=new tm.ExplorerSync({moduleName:"cosmiconfig",stopDir:process.cwd(),searchPlaces:Le.metaSearchPlaces,ignoreEmptySearchPlaces:!1,applyPackagePropertyPathToConfiguration:!0,loaders:Le.defaultLoaders,transform:Nl,cache:!0,metaConfigFilePath:null,mergeImportArrays:!0,mergeSearchPlaces:!0,searchStrategy:"none"}).search();if(!t)return null;if(t.config?.loaders)throw new Error("Can not specify loaders in meta config file");if(t.config?.searchStrategy)throw new Error("Can not specify searchStrategy in meta config file");let r={mergeSearchPlaces:!0,...t.config??{}};return{config:(0,Ll.removeUndefinedValuesFromObject)(r),filepath:t.filepath}}function oE(e,t,r){let n=r.searchPlaces?.map(i=>i.replace("{name}",e));return r.mergeSearchPlaces?[...n??[],...t]:n??t}function rm(e,t,r){let n=sE();if(!n)return{...t,...(0,Ll.removeUndefinedValuesFromObject)(r),loaders:{...t.loaders,...r.loaders}};let i=n.config,s=r.searchPlaces??t.searchPlaces;return{...t,...(0,Ll.removeUndefinedValuesFromObject)(r),metaConfigFilePath:n.filepath,...i,searchPlaces:oE(e,s,i),loaders:{...t.loaders,...r.loaders}}}function nm(e){if(e.searchStrategy!=null&&e.searchStrategy!=="global"&&e.stopDir)throw new Error('Can not supply `stopDir` option with `searchStrategy` other than "global"')}function aE(e,t){nm(t);let r={moduleName:e,searchPlaces:(0,Le.getDefaultSearchPlaces)(e),ignoreEmptySearchPlaces:!0,cache:!0,transform:Nl,loaders:Le.defaultLoaders,metaConfigFilePath:null,mergeImportArrays:!0,mergeSearchPlaces:!0,searchStrategy:t.stopDir?"global":"none"};return rm(e,r,t)}function lE(e,t){nm(t);let r={moduleName:e,searchPlaces:(0,Le.getDefaultSearchPlacesSync)(e),ignoreEmptySearchPlaces:!0,cache:!0,transform:Nl,loaders:Le.defaultLoadersSync,metaConfigFilePath:null,mergeImportArrays:!0,mergeSearchPlaces:!0,searchStrategy:t.stopDir?"global":"none"};return rm(e,r,t)}function cE(e,t={}){let r=aE(e,t),n=new iE.Explorer(r);return{search:n.search.bind(n),load:n.load.bind(n),clearLoadCache:n.clearLoadCache.bind(n),clearSearchCache:n.clearSearchCache.bind(n),clearCaches:n.clearCaches.bind(n)}}oe.cosmiconfig=cE;function uE(e,t={}){let r=lE(e,t),n=new tm.ExplorerSync(r);return{search:n.search.bind(n),load:n.load.bind(n),clearLoadCache:n.clearLoadCache.bind(n),clearSearchCache:n.clearSearchCache.bind(n),clearCaches:n.clearCaches.bind(n)}}oe.cosmiconfigSync=uE});var H,Pl,N,Ye,Kn=K(()=>{(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},e.getValidEnumValues=i=>{let s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(let o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(H||(H={}));(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Pl||(Pl={}));N=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=e=>{switch(typeof e){case"undefined":return N.undefined;case"string":return N.string;case"number":return Number.isNaN(e)?N.nan:N.number;case"boolean":return N.boolean;case"function":return N.function;case"bigint":return N.bigint;case"symbol":return N.symbol;case"object":return Array.isArray(e)?N.array:e===null?N.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?N.promise:typeof Map<"u"&&e instanceof Map?N.map:typeof Set<"u"&&e instanceof Set?N.set:typeof Date<"u"&&e instanceof Date?N.date:N.object;default:return N.unknown}}});var O,fE,_e,ls=K(()=>{Kn();O=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fE=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),_e=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){let c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};_e.create=e=>new _e(e)});var dE,st,Dl=K(()=>{ls();Kn();dE=(e,t)=>{let r;switch(e.code){case O.invalid_type:e.received===N.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,H.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${H.joinValues(e.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${H.joinValues(e.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${H.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:H.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case O.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case O.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=t.defaultError,H.assertNever(e)}return{message:r}},st=dE});function hE(e){im=e}function Br(){return im}var im,cs=K(()=>{Dl();im=st});function L(e,t){let r=Br(),n=Hn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===st?void 0:st].filter(i=>!!i)});e.common.issues.push(n)}var Hn,pE,ae,q,Xt,pe,us,fs,At,Ur,Ml=K(()=>{cs();Dl();Hn=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)a=c(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}},pE=[];ae=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return q;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let s=await i.key,o=await i.value;n.push({key:s,value:o})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return q;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}},q=Object.freeze({status:"aborted"}),Xt=e=>({status:"dirty",value:e}),pe=e=>({status:"valid",value:e}),us=e=>e.status==="aborted",fs=e=>e.status==="dirty",At=e=>e.status==="valid",Ur=e=>typeof Promise<"u"&&e instanceof Promise});var sm=K(()=>{});var P,om=K(()=>{(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(P||(P={}))});function B(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{let{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:i}}function um(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function NE(e){return new RegExp(`^${um(e)}$`)}function fm(e){let t=`${cm}T${um(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function IE(e,t){return!!((t==="v4"||!t)&&CE.test(e)||(t==="v6"||!t)&&OE.test(e))}function PE(e,t){if(!vE.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function DE(e,t){return!!((t==="v4"||!t)&&AE.test(e)||(t==="v6"||!t)&&EE.test(e))}function ME(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}function Vr(e){if(e instanceof Se){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Ne.create(Vr(n))}return new Se({...e._def,shape:()=>t})}else return e instanceof lt?new lt({...e._def,type:Vr(e.element)}):e instanceof Ne?Ne.create(Vr(e.unwrap())):e instanceof Je?Je.create(Vr(e.unwrap())):e instanceof Ge?Ge.create(e.items.map(t=>Vr(t))):e}function ql(e,t){let r=Ye(e),n=Ye(t);if(e===t)return{valid:!0,data:e};if(r===N.object&&n===N.object){let i=H.objectKeys(t),s=H.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(let a of s){let l=ql(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===N.array&&n===N.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let s=0;s<e.length;s++){let o=e[s],a=t[s],l=ql(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===N.date&&n===N.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}function dm(e,t){return new ur({values:e,typeName:j.ZodEnum,...B(t)})}function lm(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function hm(e,t={},r){return e?Et.create().superRefine((n,i)=>{let s=e(n);if(s instanceof Promise)return s.then(o=>{if(!o){let a=lm(t,n),l=a.fatal??r??!0;i.addIssue({code:"custom",...a,fatal:l})}});if(!s){let o=lm(t,n),a=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:a})}}):Et.create()}var Ie,am,V,mE,gE,yE,bE,wE,vE,_E,SE,xE,$l,CE,AE,OE,EE,kE,TE,cm,LE,Ot,er,tr,rr,nr,Kr,ir,sr,Et,at,Fe,Hr,lt,Se,or,ot,ds,ar,Ge,hs,Wr,Yr,ps,lr,cr,ur,fr,kt,Pe,Ne,Je,dr,hr,Gr,$E,Wn,Yn,pr,qE,j,jE,pm,mm,FE,RE,gm,BE,UE,VE,KE,HE,WE,YE,GE,JE,zE,ZE,QE,XE,e1,t1,r1,n1,i1,s1,o1,a1,l1,c1,u1,f1,d1,h1,p1,m1,g1,y1,b1,w1,v1,ym=K(()=>{ls();cs();om();Ml();Kn();Ie=class{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},am=(e,t)=>{if(At(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new _e(e.common.issues);return this._error=r,this._error}}};V=class{get description(){return this._def.description}_getType(t){return Ye(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ye(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ae,ctx:{common:t.parent.common,data:t.data,parsedType:Ye(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Ur(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)},i=this._parseSync({data:t,path:n.path,parent:n});return am(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return At(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>At(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Ur(i)?i:Promise.resolve(i));return am(n,s)}refine(t,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=t(i),a=()=>s.addIssue({code:O.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Pe({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ne.create(this,this._def)}nullable(){return Je.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lt.create(this)}promise(){return kt.create(this,this._def)}or(t){return or.create([this,t],this._def)}and(t){return ar.create(this,t,this._def)}transform(t){return new Pe({...B(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new dr({...B(this._def),innerType:this,defaultValue:r,typeName:j.ZodDefault})}brand(){return new Wn({typeName:j.ZodBranded,type:this,...B(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new hr({...B(this._def),innerType:this,catchValue:r,typeName:j.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Yn.create(this,t)}readonly(){return pr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},mE=/^c[^\s-]{8,}$/i,gE=/^[0-9a-z]+$/,yE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wE=/^[a-z0-9_-]{21}$/i,vE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_E=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",CE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,OE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LE=new RegExp(`^${cm}$`);Ot=class e extends V{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==N.string){let s=this._getOrReturnCtx(t);return L(s,{code:O.invalid_type,expected:N.string,received:s.parsedType}),q}let n=new ae,i;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),L(i,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),L(i,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?L(i,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&L(i,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")SE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"email",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")$l||($l=new RegExp(xE,"u")),$l.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"emoji",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")bE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"uuid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")wE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"nanoid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")mE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"cuid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")gE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"cuid2",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")yE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"ulid",code:O.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),L(i,{validation:"url",code:O.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"regex",code:O.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?fm(s).test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?LE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?NE(s).test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{code:O.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?_E.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"duration",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?IE(t.data,s.version)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"ip",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?PE(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"jwt",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?DE(t.data,s.version)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"cidr",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?kE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"base64",code:O.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?TE.test(t.data)||(i=this._getOrReturnCtx(t,i),L(i,{validation:"base64url",code:O.invalid_string,message:s.message}),n.dirty()):H.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:O.invalid_string,...P.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...P.errToObj(t)})}url(t){return this._addCheck({kind:"url",...P.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...P.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...P.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...P.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...P.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...P.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...P.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...P.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...P.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...P.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...P.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...P.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...P.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...P.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...P.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...P.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...P.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...P.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...P.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...P.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...P.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...P.errToObj(r)})}nonempty(t){return this.min(1,P.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Ot.create=e=>new Ot({checks:[],typeName:j.ZodString,coerce:e?.coerce??!1,...B(e)});er=class e extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==N.number){let s=this._getOrReturnCtx(t);return L(s,{code:O.invalid_type,expected:N.number,received:s.parsedType}),q}let n,i=new ae;for(let s of this._def.checks)s.kind==="int"?H.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),L(n,{code:O.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ME(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),L(n,{code:O.not_finite,message:s.message}),i.dirty()):H.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,P.toString(r))}gt(t,r){return this.setLimit("min",t,!1,P.toString(r))}lte(t,r){return this.setLimit("max",t,!0,P.toString(r))}lt(t,r){return this.setLimit("max",t,!1,P.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:P.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:P.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:P.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:P.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:P.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:P.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:P.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:P.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:P.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:P.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&H.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};er.create=e=>new er({checks:[],typeName:j.ZodNumber,coerce:e?.coerce||!1,...B(e)});tr=class e extends V{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==N.bigint)return this._getInvalidInput(t);let n,i=new ae;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),L(n,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):H.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return L(r,{code:O.invalid_type,expected:N.bigint,received:r.parsedType}),q}gte(t,r){return this.setLimit("min",t,!0,P.toString(r))}gt(t,r){return this.setLimit("min",t,!1,P.toString(r))}lte(t,r){return this.setLimit("max",t,!0,P.toString(r))}lt(t,r){return this.setLimit("max",t,!1,P.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:P.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:P.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:P.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:P.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:P.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:P.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};tr.create=e=>new tr({checks:[],typeName:j.ZodBigInt,coerce:e?.coerce??!1,...B(e)});rr=class extends V{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==N.boolean){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.boolean,received:n.parsedType}),q}return pe(t.data)}};rr.create=e=>new rr({typeName:j.ZodBoolean,coerce:e?.coerce||!1,...B(e)});nr=class e extends V{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==N.date){let s=this._getOrReturnCtx(t);return L(s,{code:O.invalid_type,expected:N.date,received:s.parsedType}),q}if(Number.isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return L(s,{code:O.invalid_date}),q}let n=new ae,i;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),L(i,{code:O.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),L(i,{code:O.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):H.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:P.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:P.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};nr.create=e=>new nr({checks:[],coerce:e?.coerce||!1,typeName:j.ZodDate,...B(e)});Kr=class extends V{_parse(t){if(this._getType(t)!==N.symbol){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.symbol,received:n.parsedType}),q}return pe(t.data)}};Kr.create=e=>new Kr({typeName:j.ZodSymbol,...B(e)});ir=class extends V{_parse(t){if(this._getType(t)!==N.undefined){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.undefined,received:n.parsedType}),q}return pe(t.data)}};ir.create=e=>new ir({typeName:j.ZodUndefined,...B(e)});sr=class extends V{_parse(t){if(this._getType(t)!==N.null){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.null,received:n.parsedType}),q}return pe(t.data)}};sr.create=e=>new sr({typeName:j.ZodNull,...B(e)});Et=class extends V{constructor(){super(...arguments),this._any=!0}_parse(t){return pe(t.data)}};Et.create=e=>new Et({typeName:j.ZodAny,...B(e)});at=class extends V{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pe(t.data)}};at.create=e=>new at({typeName:j.ZodUnknown,...B(e)});Fe=class extends V{_parse(t){let r=this._getOrReturnCtx(t);return L(r,{code:O.invalid_type,expected:N.never,received:r.parsedType}),q}};Fe.create=e=>new Fe({typeName:j.ZodNever,...B(e)});Hr=class extends V{_parse(t){if(this._getType(t)!==N.undefined){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.void,received:n.parsedType}),q}return pe(t.data)}};Hr.create=e=>new Hr({typeName:j.ZodVoid,...B(e)});lt=class e extends V{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==N.array)return L(r,{code:O.invalid_type,expected:N.array,received:r.parsedType}),q;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(L(r,{code:o?O.too_big:O.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(L(r,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(L(r,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Ie(r,o,r.path,a)))).then(o=>ae.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Ie(r,o,r.path,a)));return ae.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:P.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:P.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:P.toString(r)}})}nonempty(t){return this.min(1,t)}};lt.create=(e,t)=>new lt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...B(t)});Se=class e extends V{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=H.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==N.object){let c=this._getOrReturnCtx(t);return L(c,{code:O.invalid_type,expected:N.object,received:c.parsedType}),q}let{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fe&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let l=[];for(let c of o){let f=s[c],u=i.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Ie(i,u,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Fe){let c=this._def.unknownKeys;if(c==="passthrough")for(let f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")a.length>0&&(L(i,{code:O.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let f of a){let u=i.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Ie(i,u,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let f of l){let u=await f.key,d=await f.value;c.push({key:u,value:d,alwaysSet:f.alwaysSet})}return c}).then(c=>ae.mergeObjectSync(n,c)):ae.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return P.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:P.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:j.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of H.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of H.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return Vr(this)}partial(t){let r={};for(let n of H.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of H.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ne;)s=s._def.innerType;r[n]=s}return new e({...this._def,shape:()=>r})}keyof(){return dm(H.objectKeys(this.shape))}};Se.create=(e,t)=>new Se({shape:()=>e,unknownKeys:"strip",catchall:Fe.create(),typeName:j.ZodObject,...B(t)});Se.strictCreate=(e,t)=>new Se({shape:()=>e,unknownKeys:"strict",catchall:Fe.create(),typeName:j.ZodObject,...B(t)});Se.lazycreate=(e,t)=>new Se({shape:e,unknownKeys:"strip",catchall:Fe.create(),typeName:j.ZodObject,...B(t)});or=class extends V{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new _e(a.ctx.common.issues));return L(r,{code:O.invalid_union,unionErrors:o}),q}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let l of n){let c={...r,common:{...r.common,issues:[]},parent:null},f=l._parseSync({data:r.data,path:r.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(l=>new _e(l));return L(r,{code:O.invalid_union,unionErrors:a}),q}}get options(){return this._def.options}};or.create=(e,t)=>new or({options:e,typeName:j.ZodUnion,...B(t)});ot=e=>e instanceof lr?ot(e.schema):e instanceof Pe?ot(e.innerType()):e instanceof cr?[e.value]:e instanceof ur?e.options:e instanceof fr?H.objectValues(e.enum):e instanceof dr?ot(e._def.innerType):e instanceof ir?[void 0]:e instanceof sr?[null]:e instanceof Ne?[void 0,...ot(e.unwrap())]:e instanceof Je?[null,...ot(e.unwrap())]:e instanceof Wn||e instanceof pr?ot(e.unwrap()):e instanceof hr?ot(e._def.innerType):[],ds=class e extends V{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==N.object)return L(r,{code:O.invalid_type,expected:N.object,received:r.parsedType}),q;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(L(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let s of r){let o=ot(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new e({typeName:j.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...B(n)})}};ar=class extends V{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(us(s)||us(o))return q;let a=ql(s.value,o.value);return a.valid?((fs(s)||fs(o))&&r.dirty(),{status:r.value,value:a.data}):(L(n,{code:O.invalid_intersection_types}),q)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ar.create=(e,t,r)=>new ar({left:e,right:t,typeName:j.ZodIntersection,...B(r)});Ge=class e extends V{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==N.array)return L(n,{code:O.invalid_type,expected:N.array,received:n.parsedType}),q;if(n.data.length<this._def.items.length)return L(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q;!this._def.rest&&n.data.length>this._def.items.length&&(L(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new Ie(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ae.mergeArray(r,o)):ae.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Ge.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ge({items:e,typeName:j.ZodTuple,rest:null,...B(t)})};hs=class e extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==N.object)return L(n,{code:O.invalid_type,expected:N.object,received:n.parsedType}),q;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Ie(n,a,n.path,a)),value:o._parse(new Ie(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ae.mergeObjectAsync(r,i):ae.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof V?new e({keyType:t,valueType:r,typeName:j.ZodRecord,...B(n)}):new e({keyType:Ot.create(),valueType:t,typeName:j.ZodRecord,...B(r)})}},Wr=class extends V{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==N.map)return L(n,{code:O.invalid_type,expected:N.map,received:n.parsedType}),q;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:i._parse(new Ie(n,a,n.path,[c,"key"])),value:s._parse(new Ie(n,l,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let l of o){let c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(c.value,f.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let l of o){let c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(c.value,f.value)}return{status:r.value,value:a}}}};Wr.create=(e,t,r)=>new Wr({valueType:t,keyType:e,typeName:j.ZodMap,...B(r)});Yr=class e extends V{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==N.set)return L(n,{code:O.invalid_type,expected:N.set,received:n.parsedType}),q;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(L(n,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(L(n,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(l){let c=new Set;for(let f of l){if(f.status==="aborted")return q;f.status==="dirty"&&r.dirty(),c.add(f.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((l,c)=>s._parse(new Ie(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new e({...this._def,minSize:{value:t,message:P.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:P.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Yr.create=(e,t)=>new Yr({valueType:e,minSize:null,maxSize:null,typeName:j.ZodSet,...B(t)});ps=class e extends V{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==N.function)return L(r,{code:O.invalid_type,expected:N.function,received:r.parsedType}),q;function n(a,l){return Hn({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Br(),st].filter(c=>!!c),issueData:{code:O.invalid_arguments,argumentsError:l}})}function i(a,l){return Hn({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Br(),st].filter(c=>!!c),issueData:{code:O.invalid_return_type,returnTypeError:l}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof kt){let a=this;return pe(async function(...l){let c=new _e([]),f=await a._def.args.parseAsync(l,s).catch(h=>{throw c.addIssue(n(l,h)),c}),u=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(u,s).catch(h=>{throw c.addIssue(i(u,h)),c})})}else{let a=this;return pe(function(...l){let c=a._def.args.safeParse(l,s);if(!c.success)throw new _e([n(l,c.error)]);let f=Reflect.apply(o,this,c.data),u=a._def.returns.safeParse(f,s);if(!u.success)throw new _e([i(f,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Ge.create(t).rest(at.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Ge.create([]).rest(at.create()),returns:r||at.create(),typeName:j.ZodFunction,...B(n)})}},lr=class extends V{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};lr.create=(e,t)=>new lr({getter:e,typeName:j.ZodLazy,...B(t)});cr=class extends V{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return L(r,{received:r.data,code:O.invalid_literal,expected:this._def.value}),q}return{status:"valid",value:t.data}}get value(){return this._def.value}};cr.create=(e,t)=>new cr({value:e,typeName:j.ZodLiteral,...B(t)});ur=class e extends V{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return L(r,{expected:H.joinValues(n),received:r.parsedType,code:O.invalid_type}),q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return L(r,{received:r.data,code:O.invalid_enum_value,options:n}),q}return pe(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};ur.create=dm;fr=class extends V{_parse(t){let r=H.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==N.string&&n.parsedType!==N.number){let i=H.objectValues(r);return L(n,{expected:H.joinValues(i),received:n.parsedType,code:O.invalid_type}),q}if(this._cache||(this._cache=new Set(H.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=H.objectValues(r);return L(n,{received:n.data,code:O.invalid_enum_value,options:i}),q}return pe(t.data)}get enum(){return this._def.values}};fr.create=(e,t)=>new fr({values:e,typeName:j.ZodNativeEnum,...B(t)});kt=class extends V{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==N.promise&&r.common.async===!1)return L(r,{code:O.invalid_type,expected:N.promise,received:r.parsedType}),q;let n=r.parsedType===N.promise?r.data:Promise.resolve(r.data);return pe(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};kt.create=(e,t)=>new kt({type:e,typeName:j.ZodPromise,...B(t)});Pe=class extends V{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{L(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return q;let l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?q:l.status==="dirty"?Xt(l.value):r.value==="dirty"?Xt(l.value):l});{if(r.value==="aborted")return q;let a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?q:a.status==="dirty"?Xt(a.value):r.value==="dirty"?Xt(a.value):a}}if(i.type==="refinement"){let o=a=>{let l=i.refinement(a,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?q:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?q:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!At(o))return q;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>At(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):q);H.assertNever(i)}};Pe.create=(e,t,r)=>new Pe({schema:e,typeName:j.ZodEffects,effect:t,...B(r)});Pe.createWithPreprocess=(e,t,r)=>new Pe({schema:t,effect:{type:"preprocess",transform:e},typeName:j.ZodEffects,...B(r)});Ne=class extends V{_parse(t){return this._getType(t)===N.undefined?pe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ne.create=(e,t)=>new Ne({innerType:e,typeName:j.ZodOptional,...B(t)});Je=class extends V{_parse(t){return this._getType(t)===N.null?pe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Je.create=(e,t)=>new Je({innerType:e,typeName:j.ZodNullable,...B(t)});dr=class extends V{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===N.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};dr.create=(e,t)=>new dr({innerType:e,typeName:j.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...B(t)});hr=class extends V{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ur(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _e(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _e(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};hr.create=(e,t)=>new hr({innerType:e,typeName:j.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...B(t)});Gr=class extends V{_parse(t){if(this._getType(t)!==N.nan){let n=this._getOrReturnCtx(t);return L(n,{code:O.invalid_type,expected:N.nan,received:n.parsedType}),q}return{status:"valid",value:t.data}}};Gr.create=e=>new Gr({typeName:j.ZodNaN,...B(e)});$E=Symbol("zod_brand"),Wn=class extends V{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Yn=class e extends V{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?q:s.status==="dirty"?(r.dirty(),Xt(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?q:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:j.ZodPipeline})}},pr=class extends V{_parse(t){let r=this._def.innerType._parse(t),n=i=>(At(i)&&(i.value=Object.freeze(i.value)),i);return Ur(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};pr.create=(e,t)=>new pr({innerType:e,typeName:j.ZodReadonly,...B(t)});qE={object:Se.lazycreate};(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(j||(j={}));jE=(e,t={message:`Input not instance of ${e.name}`})=>hm(r=>r instanceof e,t),pm=Ot.create,mm=er.create,FE=Gr.create,RE=tr.create,gm=rr.create,BE=nr.create,UE=Kr.create,VE=ir.create,KE=sr.create,HE=Et.create,WE=at.create,YE=Fe.create,GE=Hr.create,JE=lt.create,zE=Se.create,ZE=Se.strictCreate,QE=or.create,XE=ds.create,e1=ar.create,t1=Ge.create,r1=hs.create,n1=Wr.create,i1=Yr.create,s1=ps.create,o1=lr.create,a1=cr.create,l1=ur.create,c1=fr.create,u1=kt.create,f1=Pe.create,d1=Ne.create,h1=Je.create,p1=Pe.createWithPreprocess,m1=Yn.create,g1=()=>pm().optional(),y1=()=>mm().optional(),b1=()=>gm().optional(),w1={string:e=>Ot.create({...e,coerce:!0}),number:e=>er.create({...e,coerce:!0}),boolean:e=>rr.create({...e,coerce:!0}),bigint:e=>tr.create({...e,coerce:!0}),date:e=>nr.create({...e,coerce:!0})},v1=q});var S={};qe(S,{BRAND:()=>$E,DIRTY:()=>Xt,EMPTY_PATH:()=>pE,INVALID:()=>q,NEVER:()=>v1,OK:()=>pe,ParseStatus:()=>ae,Schema:()=>V,ZodAny:()=>Et,ZodArray:()=>lt,ZodBigInt:()=>tr,ZodBoolean:()=>rr,ZodBranded:()=>Wn,ZodCatch:()=>hr,ZodDate:()=>nr,ZodDefault:()=>dr,ZodDiscriminatedUnion:()=>ds,ZodEffects:()=>Pe,ZodEnum:()=>ur,ZodError:()=>_e,ZodFirstPartyTypeKind:()=>j,ZodFunction:()=>ps,ZodIntersection:()=>ar,ZodIssueCode:()=>O,ZodLazy:()=>lr,ZodLiteral:()=>cr,ZodMap:()=>Wr,ZodNaN:()=>Gr,ZodNativeEnum:()=>fr,ZodNever:()=>Fe,ZodNull:()=>sr,ZodNullable:()=>Je,ZodNumber:()=>er,ZodObject:()=>Se,ZodOptional:()=>Ne,ZodParsedType:()=>N,ZodPipeline:()=>Yn,ZodPromise:()=>kt,ZodReadonly:()=>pr,ZodRecord:()=>hs,ZodSchema:()=>V,ZodSet:()=>Yr,ZodString:()=>Ot,ZodSymbol:()=>Kr,ZodTransformer:()=>Pe,ZodTuple:()=>Ge,ZodType:()=>V,ZodUndefined:()=>ir,ZodUnion:()=>or,ZodUnknown:()=>at,ZodVoid:()=>Hr,addIssueToContext:()=>L,any:()=>HE,array:()=>JE,bigint:()=>RE,boolean:()=>gm,coerce:()=>w1,custom:()=>hm,date:()=>BE,datetimeRegex:()=>fm,defaultErrorMap:()=>st,discriminatedUnion:()=>XE,effect:()=>f1,enum:()=>l1,function:()=>s1,getErrorMap:()=>Br,getParsedType:()=>Ye,instanceof:()=>jE,intersection:()=>e1,isAborted:()=>us,isAsync:()=>Ur,isDirty:()=>fs,isValid:()=>At,late:()=>qE,lazy:()=>o1,literal:()=>a1,makeIssue:()=>Hn,map:()=>n1,nan:()=>FE,nativeEnum:()=>c1,never:()=>YE,null:()=>KE,nullable:()=>h1,number:()=>mm,object:()=>zE,objectUtil:()=>Pl,oboolean:()=>b1,onumber:()=>y1,optional:()=>d1,ostring:()=>g1,pipeline:()=>m1,preprocess:()=>p1,promise:()=>u1,quotelessJson:()=>fE,record:()=>r1,set:()=>i1,setErrorMap:()=>hE,strictObject:()=>ZE,string:()=>pm,symbol:()=>UE,transformer:()=>f1,tuple:()=>t1,undefined:()=>VE,union:()=>QE,unknown:()=>WE,util:()=>H,void:()=>GE});var jl=K(()=>{cs();Ml();sm();Kn();ym();ls()});var Fl=K(()=>{jl();jl()});var Tt=K(()=>{Fl();Fl()});function S1(){try{return _1.parse(process.env)}catch(e){throw e instanceof S.ZodError&&process.exit(1),e}}var _1,ct,Rl=K(()=>{"use strict";Tt();_1=S.object({CLAUDE_MODEL:S.enum(["claude-sonnet-4-20250514","claude-opus-4-20250514"]).optional().default("claude-sonnet-4-20250514"),ENABLE_MESSAGE_LOGGING:S.string().optional().transform(e=>e!=="false").default("true"),CLAUDE_LOG_MESSAGES:S.string().optional().transform(e=>e!=="false").default("true"),CLAUDE_OUTPUT_DIR:S.string().optional().default(".claude-tutorial-output"),CLAUDE_SESSION_ID:S.string().uuid().optional()});ct=S1()});function Lt(){return{...Gn,model:ct.CLAUDE_MODEL}}var Gn,Jn=K(()=>{"use strict";Rl();Gn={model:"claude-sonnet-4-20250514",temperature:.7,maxTokens:4096}});function A1(e){return`${e.configPath||"default"}:${e.profile||"none"}`}async function vm(e={}){let t=A1(e),r=bm.get(t);if(r&&!e.cliOptions)return r;try{let n={...C1};if(e.configPath){let a=await(0,wm.cosmiconfig)("fondation",{searchPlaces:[e.configPath],stopDir:process.cwd()}).load(e.configPath);if(!a)throw new Error(`Configuration file not found: ${e.configPath}`);let l=x1.parse(a.config),{profiles:c,...f}=l;if(n={...n,...f},e.profile){let u={...Bl,...c},d=u[e.profile];if(!d){let h=Object.keys(u).join(", ");throw new Error(`Profile "${e.profile}" not found. Available: ${h}`)}n={...n,...d}}}if(e.profile&&!e.configPath){let o=Bl[e.profile];if(!o){let a=Object.keys(Bl).join(", ");throw new Error(`Profile "${e.profile}" not found. Available: ${a}`)}n={...n,...o}}let i=Lt();if(n={...n,...ct.CLAUDE_MODEL&&{model:ct.CLAUDE_MODEL},...ct.CLAUDE_OUTPUT_DIR&&{outputDir:ct.CLAUDE_OUTPUT_DIR},...ct.ENABLE_MESSAGE_LOGGING!==void 0&&{logMessages:ct.ENABLE_MESSAGE_LOGGING},...i.temperature!==void 0&&{temperature:i.temperature},...i.maxTokens!==void 0&&{maxOutputTokens:i.maxTokens}},e.cliOptions){let o={model:"model",outputDir:"outputDir",verbose:"verbose",quiet:"quiet",tools:"tools",maxTokens:"maxOutputTokens"};for(let[a,l]of Object.entries(o))e.cliOptions[a]!==void 0&&(n[l]=e.cliOptions[a]);e.cliOptions.quiet!==void 0&&(n.verbose=!e.cliOptions.quiet)}let s=Ul.parse(n);return e.cliOptions||bm.set(t,s),s}catch(n){if(n instanceof S.ZodError){let i=n.issues.map(s=>`  - ${s.path.join(".")}: ${s.message}`).join(`
`);throw new Error(`Configuration validation failed:
${i}`)}throw n}}function _m(e,t={}){t.profile&&process.stdout.write(`Using profile: ${t.profile}
`),process.stdout.write(`${JSON.stringify(e,null,2)}
`)}var wm,Ul,x1,C1,Bl,bm,Vl=K(()=>{"use strict";wm=bt(Il(),1);Tt();Jn();Rl();Ul=S.object({model:S.string().optional(),outputDir:S.string().optional(),temperature:S.number().min(0).max(1).optional(),maxOutputTokens:S.number().positive().optional(),logMessages:S.boolean().optional(),verbose:S.boolean().optional(),tools:S.array(S.string()).optional(),thinking:S.union([S.boolean(),S.object({enabled:S.boolean(),maxTokens:S.number().positive().optional(),verbose:S.boolean().optional()})]).optional(),showToolLogs:S.boolean().optional(),showSystemLogs:S.boolean().optional()}),x1=Ul.extend({profiles:S.record(S.string(),Ul).optional()}),C1={model:Gn.model,outputDir:".claude-output",temperature:Gn.temperature||.7,maxOutputTokens:Gn.maxTokens||4096,logMessages:!0,verbose:!1,tools:["Write","Read","LS","Glob","Grep","Edit","MultiEdit","Bash","TodoRead","TodoWrite","Task","WebFetch","WebSearch","NotebookRead","NotebookEdit","exit_plan_mode"],showToolLogs:!0,showSystemLogs:!1},Bl={clean:{showToolLogs:!1,showSystemLogs:!1,verbose:!1},dev:{verbose:!0,logMessages:!0,showSystemLogs:!0,showToolLogs:!0},debug:{verbose:!0,logMessages:!0,showSystemLogs:!0,showToolLogs:!0,thinking:{enabled:!0,maxTokens:32e3,verbose:!0}},production:{temperature:.3,showToolLogs:!1,showSystemLogs:!1},test:{tools:["Read"],maxOutputTokens:1e3,outputDir:"./test-output",showSystemLogs:!1}},bm=new Map});var Hl=b((U9,Cm)=>{"use strict";var zn=e=>e&&typeof e.message=="string",Kl=e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return zn(r)?r:void 0}else return zn(t)?t:void 0},Sm=(e,t)=>{if(!zn(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=Kl(e);return n?(t.add(e),r+`
caused by: `+Sm(n,t)):r},O1=e=>Sm(e,new Set),xm=(e,t,r)=>{if(!zn(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let i=Kl(e);if(i){t.add(e);let s=typeof e.cause=="function";return n+(s?"":": ")+xm(i,t,s)}else return n},E1=e=>xm(e,new Set);Cm.exports={isErrorLike:zn,getErrorCause:Kl,stackWithCauses:O1,messageWithCauses:E1}});var Wl=b((V9,Om)=>{"use strict";var k1=Symbol("circular-ref-tag"),ms=Symbol("pino-raw-err-ref"),Am=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[ms]},set:function(e){this[ms]=e}}});Object.defineProperty(Am,ms,{writable:!0,value:{}});Om.exports={pinoErrProto:Am,pinoErrorSymbols:{seen:k1,rawSymbol:ms}}});var Tm=b((K9,km)=>{"use strict";km.exports=Gl;var{messageWithCauses:T1,stackWithCauses:L1,isErrorLike:Em}=Hl(),{pinoErrProto:N1,pinoErrorSymbols:I1}=Wl(),{seen:Yl}=I1,{toString:P1}=Object.prototype;function Gl(e){if(!Em(e))return e;e[Yl]=void 0;let t=Object.create(N1);t.type=P1.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=T1(e),t.stack=L1(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>Gl(r)));for(let r in e)if(t[r]===void 0){let n=e[r];Em(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Yl)&&(t[r]=Gl(n)):t[r]=n}return delete e[Yl],t.raw=e,t}});var Nm=b((H9,Lm)=>{"use strict";Lm.exports=ys;var{isErrorLike:Jl}=Hl(),{pinoErrProto:D1,pinoErrorSymbols:M1}=Wl(),{seen:gs}=M1,{toString:$1}=Object.prototype;function ys(e){if(!Jl(e))return e;e[gs]=void 0;let t=Object.create(D1);t.type=$1.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>ys(r))),Jl(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,gs)&&(t.cause=ys(e.cause));for(let r in e)if(t[r]===void 0){let n=e[r];Jl(n)?Object.prototype.hasOwnProperty.call(n,gs)||(t[r]=ys(n)):t[r]=n}return delete e[gs],t.raw=e,t}});var Mm=b((W9,Dm)=>{"use strict";Dm.exports={mapHttpRequest:q1,reqSerializer:Pm};var zl=Symbol("pino-raw-req-ref"),Im=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[zl]},set:function(e){this[zl]=e}}});Object.defineProperty(Im,zl,{writable:!0,value:{}});function Pm(e){let t=e.info||e.socket,r=Object.create(Im);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function q1(e){return{req:Pm(e)}}});var Fm=b((Y9,jm)=>{"use strict";jm.exports={mapHttpResponse:j1,resSerializer:qm};var Zl=Symbol("pino-raw-res-ref"),$m=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Zl]},set:function(e){this[Zl]=e}}});Object.defineProperty($m,Zl,{writable:!0,value:{}});function qm(e){let t=Object.create($m);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function j1(e){return{res:qm(e)}}});var Xl=b((G9,Rm)=>{"use strict";var Ql=Tm(),F1=Nm(),bs=Mm(),ws=Fm();Rm.exports={err:Ql,errWithCause:F1,mapHttpRequest:bs.mapHttpRequest,mapHttpResponse:ws.mapHttpResponse,req:bs.reqSerializer,res:ws.resSerializer,wrapErrorSerializer:function(t){return t===Ql?t:function(n){return t(Ql(n))}},wrapRequestSerializer:function(t){return t===bs.reqSerializer?t:function(n){return t(bs.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===ws.resSerializer?t:function(n){return t(ws.resSerializer(n))}}}});var ec=b((J9,Bm)=>{"use strict";function R1(e,t){return t}Bm.exports=function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=R1;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),i=[];for(let s of n)s&&i.push(s.getFileName());return i}});var Vm=b((z9,Um)=>{"use strict";Um.exports=B1;function B1(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(/〇/.test(s))throw Error();let o=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(o)||/\/\*/.test(o))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${o}
            if ([o${o}].length !== 1) throw Error()`)()}catch{throw Error(r(s))}})}}});var vs=b((Z9,Km)=>{"use strict";Km.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Wm=b((Q9,Hm)=>{"use strict";var U1=vs();Hm.exports=V1;function V1({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(U1).map(f=>f.replace(/'|"|`/g,""));let l=s[0]==="[";a=a.map(f=>f[0]==="["?f.substr(1,f.length-2):f);let c=a.indexOf("*");if(c>-1){let f=a.slice(0,c),u=f.join("."),d=a.slice(c+1,a.length),h=d.length>0;r++,t.push({before:f,beforeStr:u,after:d,nested:h})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:l};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var Gm=b((X9,Ym)=>{"use strict";var K1=vs();Ym.exports=H1;function H1({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i,censorFctTakesPath:s},o){let a=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${J1(n,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${W1(e,i,s)}
    this.compileRestore()
    ${Y1(r>0,i,s)}
    this.secret = originalSecret
    ${G1(t)}
  `).bind(o);return a.state=o,t===!1&&(a.restore=l=>o.restore(l)),a}function W1(e,t,r){return Object.keys(e).map(n=>{let{escPath:i,leadingBracket:s,path:o}=e[n],a=s?1:0,l=s?"":".",c=[];for(var f;(f=K1.exec(n))!==null;){let[,p]=f,{index:m,input:g}=f;m>a&&c.push(g.substring(0,m-(p?0:1)))}var u=c.map(p=>`o${l}${p}`).join(" && ");u.length===0?u+=`o${l}${n} != null`:u+=` && o${l}${n} != null`;let d=`
      switch (true) {
        ${c.reverse().map(p=>`
          case o${l}${p} === censor:
            secret[${i}].circle = ${JSON.stringify(p)}
            break
        `).join(`
`)}
      }
    `,h=r?`val, ${JSON.stringify(o)}`:"val";return`
      if (${u}) {
        const val = o${l}${n}
        if (val === censor) {
          secret[${i}].precensored = true
        } else {
          secret[${i}].val = val
          o${l}${n} = ${t?`censor(${h})`:"censor"}
          ${d}
        }
      }
    `}).join(`
`)}function Y1(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}function G1(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function J1(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var rc=b((eK,Zm)=>{"use strict";Zm.exports={groupRedact:Z1,groupRestore:z1,nestedRedact:X1,nestedRestore:Q1};function z1({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function Z1(e,t,r,n,i){let s=Jm(e,t);if(s==null||typeof s=="string")return{keys:null,values:null,target:s,flat:!0};let o=Object.keys(s),a=o.length,l=t.length,c=i?[...t]:void 0,f=new Array(a);for(var u=0;u<a;u++){let d=o[u];f[u]=s[d],i?(c[l]=d,s[d]=r(s[d],c)):n?s[d]=r(s[d]):s[d]=r}return{keys:o,values:f,target:s,flat:!0}}function Q1(e){for(let t=0;t<e.length;t++){let{target:r,path:n,value:i}=e[t],s=r;for(let o=n.length-1;o>0;o--)s=s[n[o]];s[n[0]]=i}}function X1(e,t,r,n,i,s,o){let a=Jm(t,r);if(a==null)return;let l=Object.keys(a),c=l.length;for(var f=0;f<c;f++){let u=l[f];ek(e,a,u,r,n,i,s,o)}return e}function tc(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}function ek(e,t,r,n,i,s,o,a){let l=i.length,c=l-1,f=r;var u=-1,d,h,p,m=null,g=null,w,y,v=!1,_=0,C=0,E=tk();if(p=d=t[r],typeof d=="object"){for(;d!=null&&++u<l&&(C+=1,r=i[u],m=p,!(r!=="*"&&!g&&!(typeof d=="object"&&r in d)));)if(!(r==="*"&&(g==="*"&&(v=!0),g=r,u!==c))){if(g){let A=Object.keys(d);for(var I=0;I<A.length;I++){let k=A[I];if(y=d[k],w=r==="*",v)E=ut(E,k,C),_=u,p=zm(y,_-1,r,n,i,s,o,a,f,d,h,p,w,k,u,c,E,e,t[f],C+1);else if(w||typeof y=="object"&&y!==null&&r in y){if(w?p=y:p=y[r],h=u!==c?p:o?a?s(p,[...n,f,...i]):s(p):s,w){let F=Zn(ut(E,k,C),p,t[f]);e.push(F),d[k]=h}else if(y[r]!==h)if(h===void 0&&s!==void 0||tc(y,r)&&h===p)E=ut(E,k,C);else{E=ut(E,k,C);let F=Zn(ut(E,r,C+1),p,t[f]);e.push(F),y[r]=h}}}g=null}else{if(p=d[r],E=ut(E,r,C),h=u!==c?p:o?a?s(p,[...n,f,...i]):s(p):s,!(tc(d,r)&&h===p||h===void 0&&s!==void 0)){let A=Zn(E,p,t[f]);e.push(A),d[r]=h}d=d[r]}if(typeof d!="object")break}}}function Jm(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}function zm(e,t,r,n,i,s,o,a,l,c,f,u,d,h,p,m,g,w,y,v){if(t===0&&(d||typeof e=="object"&&e!==null&&r in e)){if(d?u=e:u=e[r],f=p!==m?u:o?a?s(u,[...n,l,...i]):s(u):s,d){let _=Zn(g,u,y);w.push(_),c[h]=f}else if(e[r]!==f){if(!(f===void 0&&s!==void 0||tc(e,r)&&f===u)){let _=Zn(ut(g,r,v+1),u,y);w.push(_),e[r]=f}}}for(let _ in e)typeof e[_]=="object"&&(g=ut(g,_,v),zm(e[_],t-1,r,n,i,s,o,a,l,c,f,u,d,h,p,m,g,w,y,v+1))}function tk(){return{parent:null,key:null,children:[],depth:0}}function ut(e,t,r){if(e.depth===r)return ut(e.parent,t,r);var n={parent:e,key:t,depth:r,children:[]};return e.children.push(n),n}function Zn(e,t,r){let n=e,i=[];do i.push(n.key),n=n.parent;while(n.parent!=null);return{path:i,value:t,target:r}}});var Xm=b((tK,Qm)=>{"use strict";var{groupRestore:rk,nestedRestore:nk}=rc();Qm.exports=ik;function ik(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,n=Object.keys(t),i=sk(t,n),s=r>0,o=s?{secret:t,groupRestore:rk,nestedRestore:nk}:{secret:t};this.restore=Function("o",ok(i,n,s)).bind(o),this.restore.state=o}}function sk(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,l=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${l}
      }
    `}).join("")}function ok(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}});var tg=b((rK,eg)=>{"use strict";eg.exports=ak;function ak(e){let{secret:t,censor:r,compileRestore:n,serialize:i,groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}=e,c=[{secret:t,censor:r,compileRestore:n}];return i!==!1&&c.push({serialize:i}),l>0&&c.push({groupRedact:s,nestedRedact:o,wildcards:a,wcLen:l}),Object.assign(...c)}});var ig=b((nK,ng)=>{"use strict";var rg=Vm(),lk=Wm(),ck=Gm(),uk=Xm(),{groupRedact:fk,nestedRedact:dk}=rc(),hk=tg(),pk=vs(),mk=rg(),nc=e=>e;nc.restore=nc;var gk="[REDACTED]";ic.rx=pk;ic.validator=rg;ng.exports=ic;function ic(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:gk,s=typeof i=="function",o=s&&i.length>1;if(t.length===0)return r||nc;mk({paths:t,serialize:r,censor:i});let{wildcards:a,wcLen:l,secret:c}=lk({paths:t,censor:i}),f=uk(),u="strict"in e?e.strict:!0;return ck({secret:c,wcLen:l,serialize:r,strict:u,isCensorFct:s,censorFctTakesPath:o},hk({secret:c,censor:i,compileRestore:f,serialize:r,groupRedact:fk,nestedRedact:dk,wildcards:a,wcLen:l}))}});var Jr=b((iK,sg)=>{"use strict";var yk=Symbol("pino.setLevel"),bk=Symbol("pino.getLevel"),wk=Symbol("pino.levelVal"),vk=Symbol("pino.levelComp"),_k=Symbol("pino.useLevelLabels"),Sk=Symbol("pino.useOnlyCustomLevels"),xk=Symbol("pino.mixin"),Ck=Symbol("pino.lsCache"),Ak=Symbol("pino.chindings"),Ok=Symbol("pino.asJson"),Ek=Symbol("pino.write"),kk=Symbol("pino.redactFmt"),Tk=Symbol("pino.time"),Lk=Symbol("pino.timeSliceIndex"),Nk=Symbol("pino.stream"),Ik=Symbol("pino.stringify"),Pk=Symbol("pino.stringifySafe"),Dk=Symbol("pino.stringifiers"),Mk=Symbol("pino.end"),$k=Symbol("pino.formatOpts"),qk=Symbol("pino.messageKey"),jk=Symbol("pino.errorKey"),Fk=Symbol("pino.nestedKey"),Rk=Symbol("pino.nestedKeyStr"),Bk=Symbol("pino.mixinMergeStrategy"),Uk=Symbol("pino.msgPrefix"),Vk=Symbol("pino.wildcardFirst"),Kk=Symbol.for("pino.serializers"),Hk=Symbol.for("pino.formatters"),Wk=Symbol.for("pino.hooks"),Yk=Symbol.for("pino.metadata");sg.exports={setLevelSym:yk,getLevelSym:bk,levelValSym:wk,levelCompSym:vk,useLevelLabelsSym:_k,mixinSym:xk,lsCacheSym:Ck,chindingsSym:Ak,asJsonSym:Ok,writeSym:Ek,serializersSym:Kk,redactFmtSym:kk,timeSym:Tk,timeSliceIndexSym:Lk,streamSym:Nk,stringifySym:Ik,stringifySafeSym:Pk,stringifiersSym:Dk,endSym:Mk,formatOptsSym:$k,messageKeySym:qk,errorKeySym:jk,nestedKeySym:Fk,wildcardFirstSym:Vk,needsMetadataGsym:Yk,useOnlyCustomLevelsSym:Sk,formattersSym:Hk,hooksSym:Wk,nestedKeyStrSym:Rk,mixinMergeStrategySym:Bk,msgPrefixSym:Uk}});var ac=b((sK,cg)=>{"use strict";var oc=ig(),{redactFmtSym:Gk,wildcardFirstSym:_s}=Jr(),{rx:sc,validator:Jk}=oc,og=Jk({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),ag="[Redacted]",lg=!1;function zk(e,t){let{paths:r,censor:n}=Zk(e),i=r.reduce((a,l)=>{sc.lastIndex=0;let c=sc.exec(l),f=sc.exec(l),u=c[1]!==void 0?c[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):c[0];if(u==="*"&&(u=_s),f===null)return a[u]=null,a;if(a[u]===null)return a;let{index:d}=f,h=`${l.substr(d,l.length-1)}`;return a[u]=a[u]||[],u!==_s&&a[u].length===0&&a[u].push(...a[_s]||[]),u===_s&&Object.keys(a).forEach(function(p){a[p]&&a[p].push(h)}),a[u].push(h),a},{}),s={[Gk]:oc({paths:r,censor:n,serialize:t,strict:lg})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,l)=>{if(i[l]===null)a[l]=c=>o(c,[l]);else{let c=typeof n=="function"?(f,u)=>n(f,[l,...u]):n;a[l]=oc({paths:i[l],censor:c,serialize:t,strict:lg})}return a},s)}function Zk(e){if(Array.isArray(e))return e={paths:e,censor:ag},og(e),e;let{paths:t,censor:r=ag,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),og({paths:t,censor:r}),{paths:t,censor:r}}cg.exports=zk});var fg=b((oK,ug)=>{"use strict";var Qk=()=>"",Xk=()=>`,"time":${Date.now()}`,eT=()=>`,"time":${Math.round(Date.now()/1e3)}`,tT=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;ug.exports={nullTime:Qk,epochTime:Xk,unixTime:eT,isoTime:tT}});var hg=b((aK,dg)=>{"use strict";function rT(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}dg.exports=nT;function nT(e,t,r){var n=r&&r.stringify||rT,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var l=t.length;if(l===0)return e;for(var c="",f=1-i,u=-1,d=e&&e.length||0,h=0;h<d;){if(e.charCodeAt(h)===37&&h+1<d){switch(u=u>-1?u:0,e.charCodeAt(h+1)){case 100:case 102:if(f>=l||t[f]==null)break;u<h&&(c+=e.slice(u,h)),c+=Number(t[f]),u=h+2,h++;break;case 105:if(f>=l||t[f]==null)break;u<h&&(c+=e.slice(u,h)),c+=Math.floor(Number(t[f])),u=h+2,h++;break;case 79:case 111:case 106:if(f>=l||t[f]===void 0)break;u<h&&(c+=e.slice(u,h));var p=typeof t[f];if(p==="string"){c+="'"+t[f]+"'",u=h+2,h++;break}if(p==="function"){c+=t[f].name||"<anonymous>",u=h+2,h++;break}c+=n(t[f]),u=h+2,h++;break;case 115:if(f>=l)break;u<h&&(c+=e.slice(u,h)),c+=String(t[f]),u=h+2,h++;break;case 37:u<h&&(c+=e.slice(u,h)),c+="%",u=h+2,h++,f--;break}++f}++h}return u===-1?e:(u<d&&(c+=e.slice(u)),c)}});var cc=b((lK,lc)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));lc.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};lc.exports=e}});var dc=b((cK,vg)=>{"use strict";var Q=require("fs"),iT=require("events"),sT=require("util").inherits,pg=require("path"),fc=cc(),oT=require("assert"),Ss=100,xs=Buffer.allocUnsafe(0),aT=16*1024,mg="buffer",gg="utf8",[lT,cT]=(process.versions.node||"0.0").split(".").map(Number),uT=lT>=22&&cT>=7;function yg(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(s,o){if(s){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",s)}):t.emit("error",s);return}let a=t._reopening;t.fd=o,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():a&&process.nextTick(()=>t.emit("drain")))}let n=t.append?"a":"w",i=t.mode;if(t.sync)try{t.mkdir&&Q.mkdirSync(pg.dirname(e),{recursive:!0});let s=Q.openSync(e,n,i);r(null,s)}catch(s){throw r(s),s}else t.mkdir?Q.mkdir(pg.dirname(e),{recursive:!0},s=>{if(s)return r(s);Q.open(e,n,i,r)}):Q.open(e,n,i,r)}function Re(e){if(!(this instanceof Re))return new Re(e);let{fd:t,dest:r,minLength:n,maxLength:i,maxWrite:s,periodicFlush:o,sync:a,append:l=!0,mkdir:c,retryEAGAIN:f,fsync:u,contentMode:d,mode:h}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=i||0,this.maxWrite=s||aT,this._periodicFlush=o||0,this._periodicFlushTimer=void 0,this.sync=a||!1,this.writable=!0,this._fsync=u||!1,this.append=l||!1,this.mode=h,this.retryEAGAIN=f||(()=>!0),this.mkdir=c||!1;let p,m;if(d===mg)this._writingBuf=xs,this.write=hT,this.flush=mT,this.flushSync=yT,this._actualWrite=wT,p=()=>Q.writeSync(this.fd,this._writingBuf),m=()=>Q.write(this.fd,this._writingBuf,this.release);else if(d===void 0||d===gg)this._writingBuf="",this.write=dT,this.flush=pT,this.flushSync=gT,this._actualWrite=bT,p=()=>Q.writeSync(this.fd,this._writingBuf,"utf8"),m=()=>Q.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${gg}" and "${mg}", but passed ${d}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")yg(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(g,w)=>{if(g){if((g.code==="EAGAIN"||g.code==="EBUSY")&&this.retryEAGAIN(g,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{fc(Ss),this.release(void 0,0)}catch(_){this.release(_)}else setTimeout(m,Ss);else this._writing=!1,this.emit("error",g);return}this.emit("write",w);let y=uc(this._writingBuf,this._len,w);if(this._len=y.len,this._writingBuf=y.writingBuf,this._writingBuf.length){if(!this.sync){m();return}try{do{let _=p(),C=uc(this._writingBuf,this._len,_);this._len=C.len,this._writingBuf=C.writingBuf}while(this._writingBuf.length)}catch(_){this.release(_);return}}this._fsync&&Q.fsyncSync(this.fd);let v=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):v>this.minLength?this._actualWrite():this._ending?v>0?this._actualWrite():(this._writing=!1,Cs(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(fT,this)):this.emit("drain"))},this.on("newListener",function(g){g==="drain"&&(this._asyncDrainScheduled=!1)}),this._periodicFlush!==0&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function uc(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}function fT(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}sT(Re,iT);function bg(e,t){return e.length===0?xs:e.length===1?e[0]:Buffer.concat(e,t)}function dT(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function hT(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,n=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||n[n.length-1]+e.length>this.maxWrite?(r.push([e]),n.push(e.length)):(r[r.length-1].push(e),n[n.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function wg(e){this._flushPending=!0;let t=()=>{if(this._fsync)this._flushPending=!1,e();else try{Q.fsync(this.fd,n=>{this._flushPending=!1,e(n)})}catch(n){e(n)}this.off("error",r)},r=n=>{this._flushPending=!1,e(n),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function pT(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&wg.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function mT(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&wg.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}Re.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&Q.close(t,r=>{if(r)return this.emit("error",r)})}),yg(this.file,this)};Re.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():Cs(this)))};function gT(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=Q.writeSync(this.fd,e,"utf8"),r=uc(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;fc(Ss)}}try{Q.fsyncSync(this.fd)}catch{}}function yT(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=xs);let e=xs;for(;this._bufs.length||e.length;){e.length<=0&&(e=bg(this._bufs[0],this._lens[0]));try{let t=Q.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;fc(Ss)}}}Re.prototype.destroy=function(){this.destroyed||Cs(this)};function bT(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=Q.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else Q.write(this.fd,this._writingBuf,"utf8",e)}function wT(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:bg(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=Q.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else uT&&(this._writingBuf=Buffer.from(this._writingBuf)),Q.write(this.fd,this._writingBuf,e)}function Cs(e){if(e.fd===-1){e.once("ready",Cs.bind(null,e));return}e._periodicFlushTimer!==void 0&&clearInterval(e._periodicFlushTimer),e.destroyed=!0,e._bufs=[],e._lens=[],oT(typeof e.fd=="number",`sonic.fd must be a number, got ${typeof e.fd}`);try{Q.fsync(e.fd,t)}catch{}function t(){e.fd!==1&&e.fd!==2?Q.close(e.fd,r):r()}function r(n){if(n){e.emit("error",n);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}Re.SonicBoom=Re;Re.default=Re;vg.exports=Re});var As=b((uK,Ag)=>{"use strict";var Be={exit:[],beforeExit:[]},_g={exit:ST,beforeExit:xT},zr;function vT(){zr===void 0&&(zr=new FinalizationRegistry(CT))}function _T(e){Be[e].length>0||process.on(e,_g[e])}function Sg(e){Be[e].length>0||(process.removeListener(e,_g[e]),Be.exit.length===0&&Be.beforeExit.length===0&&(zr=void 0))}function ST(){xg("exit")}function xT(){xg("beforeExit")}function xg(e){for(let t of Be[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}Be[e]=[]}function CT(e){for(let t of["exit","beforeExit"]){let r=Be[t].indexOf(e);Be[t].splice(r,r+1),Sg(t)}}function Cg(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");_T(e);let n=new WeakRef(t);n.fn=r,vT(),zr.register(t,n),Be[e].push(n)}function AT(e,t){Cg("exit",e,t)}function OT(e,t){Cg("beforeExit",e,t)}function ET(e){if(zr!==void 0){zr.unregister(e);for(let t of["exit","beforeExit"])Be[t]=Be[t].filter(r=>{let n=r.deref();return n&&n!==e}),Sg(t)}}Ag.exports={register:AT,registerBeforeExit:OT,unregister:ET}});var Og=b((fK,kT)=>{kT.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var kg=b((dK,Eg)=>{"use strict";function TT(e,t,r,n,i){let s=Date.now()+n,o=Atomics.load(e,t);if(o===r){i(null,"ok");return}let a=o,l=c=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{a=o,o=Atomics.load(e,t),o===a?l(c>=1e3?1e3:c*2):o===r?i(null,"ok"):i(null,"not-equal")},c)};l(1)}function LT(e,t,r,n,i){let s=Date.now()+n,o=Atomics.load(e,t);if(o!==r){i(null,"ok");return}let a=l=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{o=Atomics.load(e,t),o!==r?i(null,"ok"):a(l>=1e3?1e3:l*2)},l)};a(1)}Eg.exports={wait:TT,waitDiff:LT}});var Lg=b((hK,Tg)=>{"use strict";Tg.exports={WRITE_INDEX:4,READ_INDEX:8}});var Mg=b((pK,Dg)=>{"use strict";var{version:NT}=Og(),{EventEmitter:IT}=require("events"),{Worker:PT}=require("worker_threads"),{join:DT}=require("path"),{pathToFileURL:MT}=require("url"),{wait:$T}=kg(),{WRITE_INDEX:xe,READ_INDEX:ze}=Lg(),qT=require("buffer"),jT=require("assert"),x=Symbol("kImpl"),FT=qT.constants.MAX_STRING_LENGTH,Qn=class{constructor(t){this._value=t}deref(){return this._value}},Es=class{register(){}unregister(){}},RT=process.env.NODE_V8_COVERAGE?Es:global.FinalizationRegistry||Es,BT=process.env.NODE_V8_COVERAGE?Qn:global.WeakRef||Qn,Ng=new RT(e=>{e.exited||e.terminate()});function UT(e,t){let{filename:r,workerData:n}=t,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||DT(__dirname,"lib","worker.js"),o=new PT(s,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:MT(r).href,dataBuf:e[x].dataBuf,stateBuf:e[x].stateBuf,workerData:{$context:{threadStreamVersion:NT},...n}}});return o.stream=new Qn(e),o.on("message",VT),o.on("exit",Pg),Ng.register(e,o),o}function Ig(e){jT(!e[x].sync),e[x].needDrain&&(e[x].needDrain=!1,e.emit("drain"))}function Os(e){let t=Atomics.load(e[x].state,xe),r=e[x].data.length-t;if(r>0){if(e[x].buf.length===0){e[x].flushing=!1,e[x].ending?yc(e):e[x].needDrain&&process.nextTick(Ig,e);return}let n=e[x].buf.slice(0,r),i=Buffer.byteLength(n);i<=r?(e[x].buf=e[x].buf.slice(r),ks(e,n,Os.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[x].state,ze,0),Atomics.store(e[x].state,xe,0);i>e[x].data.length;)r=r/2,n=e[x].buf.slice(0,r),i=Buffer.byteLength(n);e[x].buf=e[x].buf.slice(r),ks(e,n,Os.bind(null,e))}})}else if(r===0){if(t===0&&e[x].buf.length===0)return;e.flush(()=>{Atomics.store(e[x].state,ze,0),Atomics.store(e[x].state,xe,0),Os(e)})}else Ze(e,new Error("overwritten"))}function VT(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new BT(t),t.flush(()=>{t[x].ready=!0,t.emit("ready")});break;case"ERROR":Ze(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:Ze(t,new Error("this should not happen: "+e.code))}}function Pg(e){let t=this.stream.deref();t!==void 0&&(Ng.unregister(t),t.worker.exited=!0,t.worker.off("exit",Pg),Ze(t,e!==0?new Error("the worker thread exited"):null))}var pc=class extends IT{constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[x]={},this[x].stateBuf=new SharedArrayBuffer(128),this[x].state=new Int32Array(this[x].stateBuf),this[x].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[x].data=Buffer.from(this[x].dataBuf),this[x].sync=t.sync||!1,this[x].ending=!1,this[x].ended=!1,this[x].needDrain=!1,this[x].destroyed=!1,this[x].flushing=!1,this[x].ready=!1,this[x].finished=!1,this[x].errored=null,this[x].closed=!1,this[x].buf="",this.worker=UT(this,t),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(t){if(this[x].destroyed)return mc(this,new Error("the worker has exited")),!1;if(this[x].ending)return mc(this,new Error("the worker is ending")),!1;if(this[x].flushing&&this[x].buf.length+t.length>=FT)try{hc(this),this[x].flushing=!0}catch(r){return Ze(this,r),!1}if(this[x].buf+=t,this[x].sync)try{return hc(this),!0}catch(r){return Ze(this,r),!1}return this[x].flushing||(this[x].flushing=!0,setImmediate(Os,this)),this[x].needDrain=this[x].data.length-this[x].buf.length-Atomics.load(this[x].state,xe)<=0,!this[x].needDrain}end(){this[x].destroyed||(this[x].ending=!0,yc(this))}flush(t){if(this[x].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[x].state,xe);$T(this[x].state,ze,r,1/0,(n,i)=>{if(n){Ze(this,n),process.nextTick(t,n);return}if(i==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[x].destroyed||(hc(this),gc(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[x].ready}get destroyed(){return this[x].destroyed}get closed(){return this[x].closed}get writable(){return!this[x].destroyed&&!this[x].ending}get writableEnded(){return this[x].ending}get writableFinished(){return this[x].finished}get writableNeedDrain(){return this[x].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[x].errored}};function mc(e,t){setImmediate(()=>{e.emit("error",t)})}function Ze(e,t){e[x].destroyed||(e[x].destroyed=!0,t&&(e[x].errored=t,mc(e,t)),e.worker.exited?setImmediate(()=>{e[x].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[x].closed=!0,e.emit("close")}))}function ks(e,t,r){let n=Atomics.load(e[x].state,xe),i=Buffer.byteLength(t);return e[x].data.write(t,n),Atomics.store(e[x].state,xe,n+i),Atomics.notify(e[x].state,xe),r(),!0}function yc(e){if(!(e[x].ended||!e[x].ending||e[x].flushing)){e[x].ended=!0;try{e.flushSync();let t=Atomics.load(e[x].state,ze);Atomics.store(e[x].state,xe,-1),Atomics.notify(e[x].state,xe);let r=0;for(;t!==-1;){if(Atomics.wait(e[x].state,ze,t,1e3),t=Atomics.load(e[x].state,ze),t===-2){Ze(e,new Error("end() failed"));return}if(++r===10){Ze(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[x].finished=!0,e.emit("finish")})}catch(t){Ze(e,t)}}}function hc(e){let t=()=>{e[x].ending?yc(e):e[x].needDrain&&process.nextTick(Ig,e)};for(e[x].flushing=!1;e[x].buf.length!==0;){let r=Atomics.load(e[x].state,xe),n=e[x].data.length-r;if(n===0){gc(e),Atomics.store(e[x].state,ze,0),Atomics.store(e[x].state,xe,0);continue}else if(n<0)throw new Error("overwritten");let i=e[x].buf.slice(0,n),s=Buffer.byteLength(i);if(s<=n)e[x].buf=e[x].buf.slice(n),ks(e,i,t);else{for(gc(e),Atomics.store(e[x].state,ze,0),Atomics.store(e[x].state,xe,0);s>e[x].buf.length;)n=n/2,i=e[x].buf.slice(0,n),s=Buffer.byteLength(i);e[x].buf=e[x].buf.slice(n),ks(e,i,t)}}}function gc(e){if(e[x].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[x].state,xe),r=0;for(;;){let n=Atomics.load(e[x].state,ze);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[x].state,ze,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}Dg.exports=pc});var vc=b((mK,$g)=>{"use strict";var{createRequire:KT}=require("module"),HT=ec(),{join:bc,isAbsolute:WT,sep:YT}=require("node:path"),GT=cc(),wc=As(),JT=Mg();function zT(e){wc.register(e,QT),wc.registerBeforeExit(e,XT),e.on("close",function(){wc.unregister(e)})}function ZT(e,t,r,n){let i=new JT({filename:e,workerData:t,workerOpts:r,sync:n});i.on("ready",s),i.on("close",function(){process.removeListener("exit",o)}),process.on("exit",o);function s(){process.removeListener("exit",o),i.unref(),r.autoEnd!==!1&&zT(i)}function o(){i.closed||(i.flushSync(),GT(100),i.end())}return i}function QT(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function XT(e){e.flushSync()}function eL(e){let{pipeline:t,targets:r,levels:n,dedupe:i,worker:s={},caller:o=HT(),sync:a=!1}=e,l={...e.options},c=typeof o=="string"?[o]:o,f="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},u=e.target;if(u&&r)throw new Error("only one of target or targets can be specified");return r?(u=f["pino-worker"]||bc(__dirname,"worker.js"),l.targets=r.filter(h=>h.target).map(h=>({...h,target:d(h.target)})),l.pipelines=r.filter(h=>h.pipeline).map(h=>h.pipeline.map(p=>({...p,level:h.level,target:d(p.target)})))):t&&(u=f["pino-worker"]||bc(__dirname,"worker.js"),l.pipelines=[t.map(h=>({...h,target:d(h.target)}))]),n&&(l.levels=n),i&&(l.dedupe=i),l.pinoWillSendConfig=!0,ZT(d(u),l,s,a);function d(h){if(h=f[h]||h,WT(h)||h.indexOf("file://")===0)return h;if(h==="pino/file")return bc(__dirname,"..","file.js");let p;for(let m of c)try{let g=m==="node:repl"?process.cwd()+YT:m;p=KT(g).resolve(h);break}catch{continue}if(!p)throw new Error(`unable to determine transport target for "${h}"`);return p}}$g.exports=eL});var Ns=b((gK,Yg)=>{"use strict";var qg=hg(),{mapHttpRequest:tL,mapHttpResponse:rL}=Xl(),Sc=dc(),jg=As(),{lsCacheSym:nL,chindingsSym:Bg,writeSym:Fg,serializersSym:Ug,formatOptsSym:Rg,endSym:iL,stringifiersSym:Vg,stringifySym:Kg,stringifySafeSym:xc,wildcardFirstSym:Hg,nestedKeySym:sL,formattersSym:Wg,messageKeySym:oL,errorKeySym:aL,nestedKeyStrSym:lL,msgPrefixSym:Ts}=Jr(),{isMainThread:cL}=require("worker_threads"),uL=vc();function Zr(){}function fL(e,t){if(!t)return r;return function(...i){t.call(this,i,r,e)};function r(n,...i){if(typeof n=="object"){let s=n;n!==null&&(n.method&&n.headers&&n.socket?n=tL(n):typeof n.setHeader=="function"&&(n=rL(n)));let o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),typeof this[Ts]=="string"&&s!==void 0&&s!==null&&(s=this[Ts]+s),this[Fg](n,qg(s,o,this[Rg]),e)}else{let s=n===void 0?i.shift():n;typeof this[Ts]=="string"&&s!==void 0&&s!==null&&(s=this[Ts]+s),this[Fg](null,qg(s,i,this[Rg]),e)}}}function _c(e){let t="",r=0,n=!1,i=255,s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function dL(e,t,r,n){let i=this[Kg],s=this[xc],o=this[Vg],a=this[iL],l=this[Bg],c=this[Ug],f=this[Wg],u=this[oL],d=this[aL],h=this[nL][r]+n;h=h+l;let p;f.log&&(e=f.log(e));let m=o[Hg],g="";for(let y in e)if(p=e[y],Object.prototype.hasOwnProperty.call(e,y)&&p!==void 0){c[y]?p=c[y](p):y===d&&c.err&&(p=c.err(p));let v=o[y]||m;switch(typeof p){case"undefined":case"function":continue;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":v&&(p=v(p));break;case"string":p=(v||_c)(p);break;default:p=(v||i)(p,s)}if(p===void 0)continue;let _=_c(y);g+=","+_+":"+p}let w="";if(t!==void 0){p=c[u]?c[u](t):t;let y=o[u]||m;switch(typeof p){case"function":break;case"number":Number.isFinite(p)===!1&&(p=null);case"boolean":y&&(p=y(p)),w=',"'+u+'":'+p;break;case"string":p=(y||_c)(p),w=',"'+u+'":'+p;break;default:p=(y||i)(p,s),w=',"'+u+'":'+p}}return this[sL]&&g?h+this[lL]+g.slice(1)+"}"+w+a:h+g+w+a}function hL(e,t){let r,n=e[Bg],i=e[Kg],s=e[xc],o=e[Vg],a=o[Hg],l=e[Ug],c=e[Wg].bindings;t=c(t);for(let f in t)if(r=t[f],(f!=="level"&&f!=="serializers"&&f!=="formatters"&&f!=="customLevels"&&t.hasOwnProperty(f)&&r!==void 0)===!0){if(r=l[f]?l[f](r):r,r=(o[f]||a||i)(r,s),r===void 0)continue;n+=',"'+f+'":'+r}return n}function pL(e){return e.write!==e.constructor.prototype.write}function Ls(e){let t=new Sc(e);return t.on("error",r),!e.sync&&cL&&(jg.register(t,mL),t.on("close",function(){jg.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=Zr,t.end=Zr,t.flushSync=Zr,t.destroy=Zr;return}t.removeListener("error",r),t.emit("error",n)}}function mL(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function gL(e){return function(r,n,i={},s){if(typeof i=="string")s=Ls({dest:i}),i={};else if(typeof s=="string"){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");s=Ls({dest:s})}else if(i instanceof Sc||i.writable||i._writableState)s=i,i={};else if(i.transport){if(i.transport instanceof Sc||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&typeof i.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let l;i.customLevels&&(l=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),s=uL({caller:n,...i.transport,levels:l})}if(i=Object.assign({},e,i),i.serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),i.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:a}=i;return o===!1&&(i.level="silent"),a||(i.onChild=Zr),s||(pL(process.stdout)?s=process.stdout:s=Ls({fd:process.stdout.fd||1})),{opts:i,stream:s}}}function yL(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[xc])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function bL(e,t,r){return{level:e,bindings:t,log:r}}function wL(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}Yg.exports={noop:Zr,buildSafeSonicBoom:Ls,asChindings:hL,asJson:dL,genLog:fL,createArgsNormalizer:gL,stringify:yL,buildFormatters:bL,normalizeDestFileDescriptor:wL}});var Is=b((yK,Gg)=>{var vL={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},_L={ASC:"ASC",DESC:"DESC"};Gg.exports={DEFAULT_LEVELS:vL,SORTING_ORDER:_L}});var Oc=b((bK,Qg)=>{"use strict";var{lsCacheSym:SL,levelValSym:Cc,useOnlyCustomLevelsSym:xL,streamSym:CL,formattersSym:AL,hooksSym:OL,levelCompSym:Jg}=Jr(),{noop:EL,genLog:mr}=Ns(),{DEFAULT_LEVELS:Qe,SORTING_ORDER:zg}=Is(),Zg={fatal:e=>{let t=mr(Qe.fatal,e);return function(...r){let n=this[CL];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>mr(Qe.error,e),warn:e=>mr(Qe.warn,e),info:e=>mr(Qe.info,e),debug:e=>mr(Qe.debug,e),trace:e=>mr(Qe.trace,e)},Ac=Object.keys(Qe).reduce((e,t)=>(e[Qe[t]]=t,e),{}),kL=Object.keys(Ac).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function TL(e){let t=e[AL].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[SL]=n,e}function LL(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function NL(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Cc],i=this[Cc]=r[e],s=this[xL],o=this[Jg],a=this[OL].logMethod;for(let l in r){if(o(r[l],i)===!1){this[l]=EL;continue}this[l]=LL(l,s)?Zg[l](a):mr(r[l],a)}this.emit("level-change",e,i,t[n],n,this)}function IL(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function PL(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[Jg](r,this[Cc])}function DL(e,t,r){return e===zg.DESC?t<=r:t>=r}function ML(e){return typeof e=="string"?DL.bind(null,e):e}function $L(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:Ac,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:Qe,e);return{labels:n,values:i}}function qL(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(Ac).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:Qe,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function jL(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}function FL(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(zg).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}Qg.exports={initialLsCache:kL,genLsCache:TL,levelMethods:Zg,getLevel:IL,setLevel:NL,isLevelEnabled:PL,mappings:$L,assertNoLevelCollisions:jL,assertDefaultLevelFound:qL,genLevelComparison:ML,assertLevelComparison:FL}});var Ec=b((wK,Xg)=>{"use strict";Xg.exports={version:"9.7.0"}});var uy=b((_K,cy)=>{"use strict";var{EventEmitter:RL}=require("node:events"),{lsCacheSym:BL,levelValSym:UL,setLevelSym:Tc,getLevelSym:ey,chindingsSym:Lc,parsedChindingsSym:VL,mixinSym:KL,asJsonSym:sy,writeSym:HL,mixinMergeStrategySym:WL,timeSym:YL,timeSliceIndexSym:GL,streamSym:oy,serializersSym:gr,formattersSym:kc,errorKeySym:JL,messageKeySym:zL,useOnlyCustomLevelsSym:ZL,needsMetadataGsym:QL,redactFmtSym:XL,stringifySym:eN,formatOptsSym:tN,stringifiersSym:rN,msgPrefixSym:ty,hooksSym:nN}=Jr(),{getLevel:iN,setLevel:sN,isLevelEnabled:oN,mappings:aN,initialLsCache:lN,genLsCache:cN,assertNoLevelCollisions:uN}=Oc(),{asChindings:ay,asJson:fN,buildFormatters:ry,stringify:ny}=Ns(),{version:dN}=Ec(),hN=ac(),pN=class{},ly={constructor:pN,child:mN,bindings:gN,setBindings:yN,flush:_N,isLevelEnabled:oN,version:dN,get level(){return this[ey]()},set level(e){this[Tc](e)},get levelVal(){return this[UL]},set levelVal(e){throw Error("levelVal is read-only")},[BL]:lN,[HL]:wN,[sy]:fN,[ey]:iN,[Tc]:sN};Object.setPrototypeOf(ly,RL.prototype);cy.exports=function(){return Object.create(ly)};var iy=e=>e;function mN(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[gr],n=this[kc],i=Object.create(this);if(t.hasOwnProperty("serializers")===!0){i[gr]=Object.create(null);for(let f in r)i[gr][f]=r[f];let l=Object.getOwnPropertySymbols(r);for(var s=0;s<l.length;s++){let f=l[s];i[gr][f]=r[f]}for(let f in t.serializers)i[gr][f]=t.serializers[f];let c=Object.getOwnPropertySymbols(t.serializers);for(var o=0;o<c.length;o++){let f=c[o];i[gr][f]=t.serializers[f]}}else i[gr]=r;if(t.hasOwnProperty("formatters")){let{level:l,bindings:c,log:f}=t.formatters;i[kc]=ry(l||n.level,c||iy,f||n.log)}else i[kc]=ry(n.level,iy,n.log);if(t.hasOwnProperty("customLevels")===!0&&(uN(this.levels,t.customLevels),i.levels=aN(t.customLevels,i[ZL]),cN(i)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){i.redact=t.redact;let l=hN(i.redact,ny),c={stringify:l[XL]};i[eN]=ny,i[rN]=l,i[tN]=c}typeof t.msgPrefix=="string"&&(i[ty]=(this[ty]||"")+t.msgPrefix),i[Lc]=ay(i,e);let a=t.level||this.level;return i[Tc](a),this.onChild(i),i}function gN(){let t=`{${this[Lc].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function yN(e){let t=ay(this,e);this[Lc]=t,delete this[VL]}function bN(e,t){return Object.assign(t,e)}function wN(e,t,r){let n=this[YL](),i=this[KL],s=this[JL],o=this[zL],a=this[WL]||bN,l,c=this[nN].streamWrite;e==null?l={}:e instanceof Error?(l={[s]:e},t===void 0&&(t=e.message)):(l=e,t===void 0&&e[o]===void 0&&e[s]&&(t=e[s].message)),i&&(l=a(l,i(l,r,this)));let f=this[sy](l,t,r,n),u=this[oy];u[QL]===!0&&(u.lastLevel=r,u.lastObj=l,u.lastMsg=t,u.lastTime=n.slice(this[GL]),u.lastLogger=this),u.write(c?c(f):f)}function vN(){}function _N(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[oy];typeof t.flush=="function"?t.flush(e||vN):e&&e()}});var py=b((Dc,hy)=>{"use strict";var{hasOwnProperty:Xn}=Object.prototype,br=Pc();br.configure=Pc;br.stringify=br;br.default=br;Dc.stringify=br;Dc.configure=Pc;hy.exports=br;var SN=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function Nt(e){return e.length<5e3&&!SN.test(e)?`"${e}"`:JSON.stringify(e)}function Nc(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],i=r;for(;i!==0&&e[i-1]>n;)e[i]=e[i-1],i--;e[i]=n}return e}var xN=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function Ic(e){return xN.call(e)!==void 0&&e.length!==0}function fy(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",i=`"0":${n}${e[0]}`;for(let s=1;s<r;s++)i+=`${t}"${s}":${n}${e[s]}`;return i}function CN(e){if(Xn.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function AN(e){let t;if(Xn.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}function ON(e,t){let r;if(Xn.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}function dy(e,t){let r;if(Xn.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function yr(e){return e===1?"1 item":`${e} items`}function EN(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}function kN(e){if(Xn.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function Pc(e){e={...e};let t=kN(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=CN(e),n=ON(e,"bigint"),i=AN(e),s=typeof i=="function"?i:void 0,o=dy(e,"maximumDepth"),a=dy(e,"maximumBreadth");function l(h,p,m,g,w,y){let v=p[h];switch(typeof v=="object"&&v!==null&&typeof v.toJSON=="function"&&(v=v.toJSON(h)),v=g.call(p,h,v),typeof v){case"string":return Nt(v);case"object":{if(v===null)return"null";if(m.indexOf(v)!==-1)return r;let _="",C=",",E=y;if(Array.isArray(v)){if(v.length===0)return"[]";if(o<m.length+1)return'"[Array]"';m.push(v),w!==""&&(y+=w,_+=`
${y}`,C=`,
${y}`);let $=Math.min(v.length,a),T=0;for(;T<$-1;T++){let ke=l(String(T),v,m,g,w,y);_+=ke!==void 0?ke:"null",_+=C}let we=l(String(T),v,m,g,w,y);if(_+=we!==void 0?we:"null",v.length-1>a){let ke=v.length-a-1;_+=`${C}"... ${yr(ke)} not stringified"`}return w!==""&&(_+=`
${E}`),m.pop(),`[${_}]`}let I=Object.keys(v),A=I.length;if(A===0)return"{}";if(o<m.length+1)return'"[Object]"';let k="",F="";w!==""&&(y+=w,C=`,
${y}`,k=" ");let G=Math.min(A,a);i&&!Ic(v)&&(I=Nc(I,s)),m.push(v);for(let $=0;$<G;$++){let T=I[$],we=l(T,v,m,g,w,y);we!==void 0&&(_+=`${F}${Nt(T)}:${k}${we}`,F=C)}if(A>a){let $=A-a;_+=`${F}"...":${k}"${yr($)} not stringified"`,F=C}return w!==""&&F.length>1&&(_=`
${y}${_}
${E}`),m.pop(),`{${_}}`}case"number":return isFinite(v)?String(v):t?t(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(v);default:return t?t(v):void 0}}function c(h,p,m,g,w,y){switch(typeof p=="object"&&p!==null&&typeof p.toJSON=="function"&&(p=p.toJSON(h)),typeof p){case"string":return Nt(p);case"object":{if(p===null)return"null";if(m.indexOf(p)!==-1)return r;let v=y,_="",C=",";if(Array.isArray(p)){if(p.length===0)return"[]";if(o<m.length+1)return'"[Array]"';m.push(p),w!==""&&(y+=w,_+=`
${y}`,C=`,
${y}`);let A=Math.min(p.length,a),k=0;for(;k<A-1;k++){let G=c(String(k),p[k],m,g,w,y);_+=G!==void 0?G:"null",_+=C}let F=c(String(k),p[k],m,g,w,y);if(_+=F!==void 0?F:"null",p.length-1>a){let G=p.length-a-1;_+=`${C}"... ${yr(G)} not stringified"`}return w!==""&&(_+=`
${v}`),m.pop(),`[${_}]`}m.push(p);let E="";w!==""&&(y+=w,C=`,
${y}`,E=" ");let I="";for(let A of g){let k=c(A,p[A],m,g,w,y);k!==void 0&&(_+=`${I}${Nt(A)}:${E}${k}`,I=C)}return w!==""&&I.length>1&&(_=`
${y}${_}
${v}`),m.pop(),`{${_}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function f(h,p,m,g,w){switch(typeof p){case"string":return Nt(p);case"object":{if(p===null)return"null";if(typeof p.toJSON=="function"){if(p=p.toJSON(h),typeof p!="object")return f(h,p,m,g,w);if(p===null)return"null"}if(m.indexOf(p)!==-1)return r;let y=w;if(Array.isArray(p)){if(p.length===0)return"[]";if(o<m.length+1)return'"[Array]"';m.push(p),w+=g;let k=`
${w}`,F=`,
${w}`,G=Math.min(p.length,a),$=0;for(;$<G-1;$++){let we=f(String($),p[$],m,g,w);k+=we!==void 0?we:"null",k+=F}let T=f(String($),p[$],m,g,w);if(k+=T!==void 0?T:"null",p.length-1>a){let we=p.length-a-1;k+=`${F}"... ${yr(we)} not stringified"`}return k+=`
${y}`,m.pop(),`[${k}]`}let v=Object.keys(p),_=v.length;if(_===0)return"{}";if(o<m.length+1)return'"[Object]"';w+=g;let C=`,
${w}`,E="",I="",A=Math.min(_,a);Ic(p)&&(E+=fy(p,C,a),v=v.slice(p.length),A-=p.length,I=C),i&&(v=Nc(v,s)),m.push(p);for(let k=0;k<A;k++){let F=v[k],G=f(F,p[F],m,g,w);G!==void 0&&(E+=`${I}${Nt(F)}: ${G}`,I=C)}if(_>a){let k=_-a;E+=`${I}"...": "${yr(k)} not stringified"`,I=C}return I!==""&&(E=`
${w}${E}
${y}`),m.pop(),`{${E}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function u(h,p,m){switch(typeof p){case"string":return Nt(p);case"object":{if(p===null)return"null";if(typeof p.toJSON=="function"){if(p=p.toJSON(h),typeof p!="object")return u(h,p,m);if(p===null)return"null"}if(m.indexOf(p)!==-1)return r;let g="",w=p.length!==void 0;if(w&&Array.isArray(p)){if(p.length===0)return"[]";if(o<m.length+1)return'"[Array]"';m.push(p);let E=Math.min(p.length,a),I=0;for(;I<E-1;I++){let k=u(String(I),p[I],m);g+=k!==void 0?k:"null",g+=","}let A=u(String(I),p[I],m);if(g+=A!==void 0?A:"null",p.length-1>a){let k=p.length-a-1;g+=`,"... ${yr(k)} not stringified"`}return m.pop(),`[${g}]`}let y=Object.keys(p),v=y.length;if(v===0)return"{}";if(o<m.length+1)return'"[Object]"';let _="",C=Math.min(v,a);w&&Ic(p)&&(g+=fy(p,",",a),y=y.slice(p.length),C-=p.length,_=","),i&&(y=Nc(y,s)),m.push(p);for(let E=0;E<C;E++){let I=y[E],A=u(I,p[I],m);A!==void 0&&(g+=`${_}${Nt(I)}:${A}`,_=",")}if(v>a){let E=v-a;g+=`${_}"...":"${yr(E)} not stringified"`}return m.pop(),`{${g}}`}case"number":return isFinite(p)?String(p):t?t(p):"null";case"boolean":return p===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(p);default:return t?t(p):void 0}}function d(h,p,m){if(arguments.length>1){let g="";if(typeof m=="number"?g=" ".repeat(Math.min(m,10)):typeof m=="string"&&(g=m.slice(0,10)),p!=null){if(typeof p=="function")return l("",{"":h},[],p,g,"");if(Array.isArray(p))return c("",h,[],EN(p),g,"")}if(g.length!==0)return f("",h,[],g,"")}return u("",h,[])}return d}});var yy=b((SK,gy)=>{"use strict";var Mc=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:my}=Is(),TN=my.info;function LN(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Object.create(my);n.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(u=>{n[u]=t.levels[u]});let i={write:s,add:l,emit:o,flushSync:a,end:c,minLevel:0,streams:[],clone:f,[Mc]:!0,streamLevels:n};return Array.isArray(e)?e.forEach(l,i):l.call(i,e),e=null,i;function s(u){let d,h=this.lastLevel,{streams:p}=this,m=0,g;for(let w=IN(p.length,t.dedupe);DN(w,p.length,t.dedupe);w=PN(w,t.dedupe))if(d=p[w],d.level<=h){if(m!==0&&m!==d.level)break;if(g=d.stream,g[Mc]){let{lastTime:y,lastMsg:v,lastObj:_,lastLogger:C}=this;g.lastLevel=h,g.lastTime=y,g.lastMsg=v,g.lastObj=_,g.lastLogger=C}g.write(u),t.dedupe&&(m=d.level)}else if(!t.dedupe)break}function o(...u){for(let{stream:d}of this.streams)typeof d.emit=="function"&&d.emit(...u)}function a(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync()}function l(u){if(!u)return i;let d=typeof u.write=="function"||u.stream,h=u.write?u:u.stream;if(!d)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:p,streamLevels:m}=this,g;typeof u.levelVal=="number"?g=u.levelVal:typeof u.level=="string"?g=m[u.level]:typeof u.level=="number"?g=u.level:g=TN;let w={stream:h,level:g,levelVal:void 0,id:r++};return p.unshift(w),p.sort(NN),this.minLevel=p[0].level,i}function c(){for(let{stream:u}of this.streams)typeof u.flushSync=="function"&&u.flushSync(),u.end()}function f(u){let d=new Array(this.streams.length);for(let h=0;h<d.length;h++)d[h]={level:u,stream:this.streams[h].stream};return{write:s,add:l,minLevel:u,streams:d,clone:f,emit:o,flushSync:a,[Mc]:!0}}}function NN(e,t){return e.level-t.level}function IN(e,t){return t?e-1:0}function PN(e,t){return t?e-1:e+1}function DN(e,t,r){return r?e>=0:e<t}gy.exports=LN});var Ny=b((xK,De)=>{"use strict";var MN=require("node:os"),Ay=Xl(),$N=ec(),qN=ac(),Oy=fg(),jN=uy(),Ey=Jr(),{configure:FN}=py(),{assertDefaultLevelFound:RN,mappings:ky,genLsCache:BN,genLevelComparison:UN,assertLevelComparison:VN}=Oc(),{DEFAULT_LEVELS:Ty,SORTING_ORDER:KN}=Is(),{createArgsNormalizer:HN,asChindings:WN,buildSafeSonicBoom:by,buildFormatters:YN,stringify:$c,normalizeDestFileDescriptor:wy,noop:GN}=Ns(),{version:JN}=Ec(),{chindingsSym:vy,redactFmtSym:zN,serializersSym:_y,timeSym:ZN,timeSliceIndexSym:QN,streamSym:XN,stringifySym:Sy,stringifySafeSym:qc,stringifiersSym:xy,setLevelSym:eI,endSym:tI,formatOptsSym:rI,messageKeySym:nI,errorKeySym:iI,nestedKeySym:sI,mixinSym:oI,levelCompSym:aI,useOnlyCustomLevelsSym:lI,formattersSym:Cy,hooksSym:cI,nestedKeyStrSym:uI,mixinMergeStrategySym:fI,msgPrefixSym:dI}=Ey,{epochTime:Ly,nullTime:hI}=Oy,{pid:pI}=process,mI=MN.hostname(),gI=Ay.err,yI={level:"info",levelComparison:KN.ASC,levels:Ty,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:pI,hostname:mI},serializers:Object.assign(Object.create(null),{err:gI}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:Ly,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},bI=HN(yI),wI=Object.assign(Object.create(null),Ay);function jc(...e){let t={},{opts:r,stream:n}=bI(t,$N(),...e);r.level&&typeof r.level=="string"&&Ty[r.level.toLowerCase()]!==void 0&&(r.level=r.level.toLowerCase());let{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:l,errorKey:c,nestedKey:f,base:u,name:d,level:h,customLevels:p,levelComparison:m,mixin:g,mixinMergeStrategy:w,useOnlyCustomLevels:y,formatters:v,hooks:_,depthLimit:C,edgeLimit:E,onChild:I,msgPrefix:A}=r,k=FN({maximumDepth:C,maximumBreadth:E}),F=YN(v.level,v.bindings,v.log),G=$c.bind({[qc]:k}),$=i?qN(i,G):{},T=i?{stringify:$[zN]}:{stringify:G},we="}"+(s?`\r
`:`
`),ke=WN.bind(null,{[vy]:"",[_y]:o,[xy]:$,[Sy]:$c,[qc]:k,[Cy]:F}),Yt="";u!==null&&(d===void 0?Yt=ke(u):Yt=ke(Object.assign({},u,{name:d})));let $d=a instanceof Function?a:a?Ly:hI,Ix=$d().indexOf(":")+1;if(y&&!p)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(g&&typeof g!="function")throw Error(`Unknown mixin type "${typeof g}" - expected "function"`);if(A&&typeof A!="string")throw Error(`Unknown msgPrefix type "${typeof A}" - expected "string"`);RN(h,p,y);let qd=ky(p,y);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:qd,messageKey:l,errorKey:c}}),VN(m);let Px=UN(m);return Object.assign(t,{levels:qd,[aI]:Px,[lI]:y,[XN]:n,[ZN]:$d,[QN]:Ix,[Sy]:$c,[qc]:k,[xy]:$,[tI]:we,[rI]:T,[nI]:l,[iI]:c,[sI]:f,[uI]:f?`,${JSON.stringify(f)}:{`:"",[_y]:o,[oI]:g,[fI]:w,[vy]:Yt,[Cy]:F,[cI]:_,silent:GN,onChild:I,[dI]:A}),Object.setPrototypeOf(t,jN()),BN(t),t[eI](h),t}De.exports=jc;De.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=wy(e.dest||process.stdout.fd),by(e)):by({dest:wy(e),minLength:0});De.exports.transport=vc();De.exports.multistream=yy();De.exports.levels=ky();De.exports.stdSerializers=wI;De.exports.stdTimeFunctions=Object.assign({},Oy);De.exports.symbols=Ey;De.exports.version=JN;De.exports.default=jc;De.exports.pino=jc});var Rc=b(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});var vI=require("tty");function _I(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Fc=_I(vI),{env:It={},argv:Py=[],platform:SI=""}=typeof process>"u"?{}:process,xI="NO_COLOR"in It||Py.includes("--no-color"),CI="FORCE_COLOR"in It||Py.includes("--color"),AI=SI==="win32",Dy=It.TERM==="dumb",OI=Fc&&Fc.isatty&&Fc.isatty(1)&&It.TERM&&!Dy,EI="CI"in It&&("GITHUB_ACTIONS"in It||"GITLAB_CI"in It||"CIRCLECI"in It),My=!xI&&(CI||AI&&!Dy||OI||EI),$y=(e,t,r,n,i=t.substring(0,e)+n,s=t.substring(e+r.length),o=s.indexOf(r))=>i+(o<0?s:$y(o,s,r,n)),kI=(e,t,r,n,i)=>e<0?r+t+n:r+$y(e,t,n,i)+n,TI=(e,t,r=e,n=e.length+1)=>i=>i||!(i===""||i===void 0)?kI((""+i).indexOf(t,n),i,e,t,r):"",U=(e,t,r)=>TI(`\x1B[${e}m`,`\x1B[${t}m`,r),Iy={reset:U(0,0),bold:U(1,22,"\x1B[22m\x1B[1m"),dim:U(2,22,"\x1B[22m\x1B[2m"),italic:U(3,23),underline:U(4,24),inverse:U(7,27),hidden:U(8,28),strikethrough:U(9,29),black:U(30,39),red:U(31,39),green:U(32,39),yellow:U(33,39),blue:U(34,39),magenta:U(35,39),cyan:U(36,39),white:U(37,39),gray:U(90,39),bgBlack:U(40,49),bgRed:U(41,49),bgGreen:U(42,49),bgYellow:U(43,49),bgBlue:U(44,49),bgMagenta:U(45,49),bgCyan:U(46,49),bgWhite:U(47,49),blackBright:U(90,39),redBright:U(91,39),greenBright:U(92,39),yellowBright:U(93,39),blueBright:U(94,39),magentaBright:U(95,39),cyanBright:U(96,39),whiteBright:U(97,39),bgBlackBright:U(100,49),bgRedBright:U(101,49),bgGreenBright:U(102,49),bgYellowBright:U(103,49),bgBlueBright:U(104,49),bgMagentaBright:U(105,49),bgCyanBright:U(106,49),bgWhiteBright:U(107,49)},qy=({useColor:e=My}={})=>e?Iy:Object.keys(Iy).reduce((t,r)=>({...t,[r]:String}),{}),{reset:LI,bold:NI,dim:II,italic:PI,underline:DI,inverse:MI,hidden:$I,strikethrough:qI,black:jI,red:FI,green:RI,yellow:BI,blue:UI,magenta:VI,cyan:KI,white:HI,gray:WI,bgBlack:YI,bgRed:GI,bgGreen:JI,bgYellow:zI,bgBlue:ZI,bgMagenta:QI,bgCyan:XI,bgWhite:eP,blackBright:tP,redBright:rP,greenBright:nP,yellowBright:iP,blueBright:sP,magentaBright:oP,cyanBright:aP,whiteBright:lP,bgBlackBright:cP,bgRedBright:uP,bgGreenBright:fP,bgYellowBright:dP,bgBlueBright:hP,bgMagentaBright:pP,bgCyanBright:mP,bgWhiteBright:gP}=qy();R.bgBlack=YI;R.bgBlackBright=cP;R.bgBlue=ZI;R.bgBlueBright=hP;R.bgCyan=XI;R.bgCyanBright=mP;R.bgGreen=JI;R.bgGreenBright=fP;R.bgMagenta=QI;R.bgMagentaBright=pP;R.bgRed=GI;R.bgRedBright=uP;R.bgWhite=eP;R.bgWhiteBright=gP;R.bgYellow=zI;R.bgYellowBright=dP;R.black=jI;R.blackBright=tP;R.blue=UI;R.blueBright=sP;R.bold=NI;R.createColors=qy;R.cyan=KI;R.cyanBright=aP;R.dim=II;R.gray=WI;R.green=RI;R.greenBright=nP;R.hidden=$I;R.inverse=MI;R.isColorSupported=My;R.italic=PI;R.magenta=VI;R.magentaBright=oP;R.red=FI;R.redBright=rP;R.reset=LI;R.strikethrough=qI;R.underline=DI;R.white=HI;R.whiteBright=lP;R.yellow=BI;R.yellowBright=iP});var Ry=b((AK,Fy)=>{Fy.exports=jy;function jy(e,t){if(e&&t)return jy(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Uc=b((OK,Bc)=>{var By=Ry();Bc.exports=By(Ps);Bc.exports.strict=By(Uy);Ps.proto=Ps(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ps(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Uy(this)},configurable:!0})});function Ps(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Uy(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Hy=b((EK,Ky)=>{var yP=Uc(),bP=function(){},wP=global.Bare?queueMicrotask:process.nextTick.bind(process),vP=function(e){return e.setHeader&&typeof e.abort=="function"},_P=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Vy=function(e,t,r){if(typeof t=="function")return Vy(e,null,t);t||(t={}),r=yP(r||bP);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,l=function(){e.writable||c()},c=function(){o=!1,s||r.call(e)},f=function(){s=!1,o||r.call(e)},u=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},d=function(g){r.call(e,g)},h=function(){wP(p)},p=function(){if(!a){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},m=function(){e.req.on("finish",c)};return vP(e)?(e.on("complete",c),e.on("abort",h),e.req?m():e.on("request",m)):o&&!n&&(e.on("end",l),e.on("close",l)),_P(e)&&e.on("exit",u),e.on("end",f),e.on("finish",c),t.error!==!1&&e.on("error",d),e.on("close",h),function(){a=!0,e.removeListener("complete",c),e.removeListener("abort",h),e.removeListener("request",m),e.req&&e.req.removeListener("finish",c),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("exit",u),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",h)}};Ky.exports=Vy});var Gy=b((kK,Yy)=>{var SP=Uc(),xP=Hy(),Ds;try{Ds=require("fs")}catch{}var ei=function(){},CP=typeof process>"u"?!1:/^v?\.0/.test(process.version),Ms=function(e){return typeof e=="function"},AP=function(e){return!CP||!Ds?!1:(e instanceof(Ds.ReadStream||ei)||e instanceof(Ds.WriteStream||ei))&&Ms(e.close)},OP=function(e){return e.setHeader&&Ms(e.abort)},EP=function(e,t,r,n){n=SP(n);var i=!1;e.on("close",function(){i=!0}),xP(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,AP(e))return e.close(ei);if(OP(e))return e.abort();if(Ms(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}}},Wy=function(e){e()},kP=function(e,t){return e.pipe(t)},TP=function(){var e=Array.prototype.slice.call(arguments),t=Ms(e[e.length-1]||ei)&&e.pop()||ei;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,a=s>0;return EP(i,o,a,function(l){r||(r=l),l&&n.forEach(Wy),!o&&(n.forEach(Wy),t(r))})});return e.reduce(kP)};Yy.exports=TP});var Qy=b((TK,Zy)=>{"use strict";var{Transform:LP}=require("stream"),{StringDecoder:NP}=require("string_decoder"),Pt=Symbol("last"),$s=Symbol("decoder");function IP(e,t,r){let n;if(this.overflow){if(n=this[$s].write(e).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[Pt]+=this[$s].write(e),n=this[Pt].split(this.matcher);this[Pt]=n.pop();for(let i=0;i<n.length;i++)try{zy(this,this.mapper(n[i]))}catch(s){return r(s)}if(this.overflow=this[Pt].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function PP(e){if(this[Pt]+=this[$s].end(),this[Pt])try{zy(this,this.mapper(this[Pt]))}catch(t){return e(t)}e()}function zy(e,t){t!==void 0&&e.push(t)}function Jy(e){return e}function DP(e,t,r){switch(e=e||/\r?\n/,t=t||Jy,r=r||{},arguments.length){case 1:typeof e=="function"?(t=e,e=/\r?\n/):typeof e=="object"&&!(e instanceof RegExp)&&!e[Symbol.split]&&(r=e,e=/\r?\n/);break;case 2:typeof e=="function"?(r=t,t=e,e=/\r?\n/):typeof t=="object"&&(r=t,t=Jy)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=IP,r.flush=PP,r.readableObjectMode=!0;let n=new LP(r);return n[Pt]="",n[$s]=new NP("utf8"),n.matcher=e,n.mapper=t,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){this._writableState.errorEmitted=!1,s(i)},n}Zy.exports=DP});var nb=b((LK,rb)=>{"use strict";var Xy=Symbol.for("pino.metadata"),MP=Qy(),{Duplex:$P}=require("stream"),{parentPort:eb,workerData:tb}=require("worker_threads");function qP(){let e,t,r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}rb.exports=function(t,r={}){let n=r.expectPinoConfig===!0&&tb?.workerData?.pinoWillSendConfig===!0,i=r.parse==="lines",s=typeof r.parseLine=="function"?r.parseLine:JSON.parse,o=r.close||jP,a=MP(function(c){let f;try{f=s(c)}catch(u){this.emit("unknown",c,u);return}if(f===null){this.emit("unknown",c,"Null value ignored");return}return typeof f!="object"&&(f={data:f,time:Date.now()}),a[Xy]&&(a.lastTime=f.time,a.lastLevel=f.level,a.lastObj=f),i?c:f},{autoDestroy:!0});if(a._destroy=function(c,f){let u=o(c,f);u&&typeof u.then=="function"&&u.then(f,f)},r.expectPinoConfig===!0&&tb?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{a.emit("error",new Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),r.metadata!==!1&&(a[Xy]=!0,a.lastTime=0,a.lastLevel=0,a.lastObj=null),n){let c={},f=qP();return eb.on("message",function u(d){d.code==="PINO_CONFIG"&&(c=d.config,f.resolve(),eb.off("message",u))}),Object.defineProperties(a,{levels:{get(){return c.levels}},messageKey:{get(){return c.messageKey}},errorKey:{get(){return c.errorKey}}}),f.then(l)}return l();function l(){let c=t(a);if(c&&typeof c.catch=="function")c.catch(f=>{a.destroy(f)}),c=null;else if(r.enablePipelining&&c)return $P.from({writable:a,readable:c});return a}};function jP(e,t){process.nextTick(t,e)}});var ft=b((NK,ib)=>{"use strict";ib.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}});var qs=b((IK,ab)=>{"use strict";ab.exports=FP;var{LEVELS:sb,LEVEL_NAMES:ob}=ft();function FP(e,t,r){let n=e?t||sb:Object.assign({},sb,t),i=e?r||ob:Object.assign({},ob,r);return function(s){let o="default";return Number.isInteger(+s)?o=Object.prototype.hasOwnProperty.call(n,s)?s:o:o=Object.prototype.hasOwnProperty.call(i,s.toLowerCase())?i[s.toLowerCase()]:o,[n[o],o]}}});var Yc=b((PK,ub)=>{"use strict";var dt=e=>e,Vc={default:dt,60:dt,50:dt,40:dt,30:dt,20:dt,10:dt,message:dt,greyMessage:dt},{createColors:lb}=Rc(),RP=qs(),ti=lb({useColor:!0}),{white:Kc,bgRed:BP,red:UP,yellow:VP,green:KP,blue:HP,gray:Hc,cyan:cb}=ti,js={default:Kc,60:BP,50:UP,40:VP,30:KP,20:HP,10:Hc,message:cb,greyMessage:Hc};function WP(e){return e.reduce(function(t,[r,n]){return t[r]=typeof ti[n]=="function"?ti[n]:Kc,t},{default:Kc,message:cb,greyMessage:Hc})}function Wc(e){return function(t,r,{customLevels:n,customLevelNames:i}={}){let[s,o]=RP(e,n,i)(t);return Object.prototype.hasOwnProperty.call(r,o)?r[o](s):r.default(s)}}function YP(e){let t=Wc(e),r=function(n,i){return t(n,Vc,i)};return r.message=Vc.message,r.greyMessage=Vc.greyMessage,r.colors=lb({useColor:!1}),r}function GP(e){let t=Wc(e),r=function(n,i){return t(n,js,i)};return r.message=js.message,r.greyMessage=js.greyMessage,r.colors=ti,r}function JP(e,t){let r=WP(e),n=t?r:Object.assign({},js,r),i=Wc(t),s=function(o,a){return i(o,n,a)};return s.colors=ti,s.message=s.message||n.message,s.greyMessage=s.greyMessage||n.greyMessage,s}ub.exports=function(t=!1,r,n){return t&&r!==void 0?JP(r,n):t?GP(n):YP(n)}});var Gc=b((DK,fb)=>{"use strict";fb.exports=function(){}});var hb=b((MK,db)=>{"use strict";db.exports=QP;var{isMainThread:zP}=require("worker_threads"),ZP=dc(),Fs=Gc();function QP(e){let t=new ZP(e);return t.on("error",r),!process.env.NODE_V8_COVERAGE&&!e.sync&&zP&&XP(t),t;function r(n){if(n.code==="EPIPE"){t.write=Fs,t.end=Fs,t.flushSync=Fs,t.destroy=Fs;return}t.removeListener("error",r)}}function XP(e){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let t=As();t.register(e,eD),e.on("close",function(){t.unregister(e)})}}function eD(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}});var Rs=b(($K,pb)=>{"use strict";pb.exports=tD;function tD(e){return e instanceof Date&&!Number.isNaN(e.getTime())}});var Jc=b((qK,mb)=>{"use strict";mb.exports=nD;var rD=Rs();function nD(e){let t=new Date(e);return rD(t)||(t=new Date(+e)),t}});var Bs=b((jK,gb)=>{"use strict";gb.exports=iD;function iD(e){let t=[],r=!1,n="";for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"){r=!0;continue}if(r){r=!1,n+=s;continue}if(s==="."){t.push(n),n="";continue}n+=s}return n.length&&t.push(n),t}});var Qr=b((FK,yb)=>{"use strict";yb.exports=oD;var sD=Bs();function oD(e,t){let r=Array.isArray(t)?t:sD(t);for(let n of r){if(!Object.prototype.hasOwnProperty.call(e,n))return;e=e[n]}return e}});var zc=b((RK,bb)=>{"use strict";bb.exports=cD;var aD=Qr(),lD=Bs();function cD(e,t){let r=lD(t),n=r.pop();e=aD(e,r),e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,n)&&delete e[n]}});var Tb=b(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});var uD=Function.prototype.toString,Zc=Object.create,fD=Object.prototype.toString,dD=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(t){return!!~this._keys.indexOf(t)},e.prototype.get=function(t){return this._values[this._keys.indexOf(t)]},e.prototype.set=function(t,r){this._keys.push(t),this._values.push(r)},e}();function hD(){return new dD}function pD(){return new WeakMap}var mD=typeof WeakMap<"u"?pD:hD;function Xc(e){if(!e)return Zc(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:Zc(e);if(t&&~uD.call(t).indexOf("[native code]"))try{return new t}catch{}return Zc(e)}function gD(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}function yD(e){return e.flags}var bD=/test/g.flags==="g"?yD:gD;function wb(e){var t=fD.call(e);return t.substring(8,t.length-1)}function wD(e){return e[Symbol.toStringTag]||wb(e)}var vD=typeof Symbol<"u"?wD:wb,_D=Object.defineProperty,SD=Object.getOwnPropertyDescriptor,vb=Object.getOwnPropertyNames,eu=Object.getOwnPropertySymbols,_b=Object.prototype,Sb=_b.hasOwnProperty,xD=_b.propertyIsEnumerable,xb=typeof eu=="function";function CD(e){return vb(e).concat(eu(e))}var AD=xb?CD:vb;function Vs(e,t,r){for(var n=AD(e),i=0,s=n.length,o=void 0,a=void 0;i<s;++i)if(o=n[i],!(o==="callee"||o==="caller")){if(a=SD(e,o),!a){t[o]=r.copier(e[o],r);continue}!a.get&&!a.set&&(a.value=r.copier(a.value,r));try{_D(t,o,a)}catch{t[o]=a.value}}return t}function OD(e,t){var r=new t.Constructor;t.cache.set(e,r);for(var n=0,i=e.length;n<i;++n)r[n]=t.copier(e[n],t);return r}function ED(e,t){var r=new t.Constructor;return t.cache.set(e,r),Vs(e,r,t)}function Cb(e,t){return e.slice(0)}function kD(e,t){return e.slice(0,e.size,e.type)}function TD(e,t){return new t.Constructor(Cb(e.buffer))}function LD(e,t){return new t.Constructor(e.getTime())}function Ab(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(n,i){r.set(i,t.copier(n,t))}),r}function ND(e,t){return Vs(e,Ab(e,t),t)}function ID(e,t){var r=Xc(t.prototype);t.cache.set(e,r);for(var n in e)Sb.call(e,n)&&(r[n]=t.copier(e[n],t));return r}function PD(e,t){var r=Xc(t.prototype);t.cache.set(e,r);for(var n in e)Sb.call(e,n)&&(r[n]=t.copier(e[n],t));for(var i=eu(e),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],xD.call(e,a)&&(r[a]=t.copier(e[a],t));return r}var DD=xb?PD:ID;function MD(e,t){var r=Xc(t.prototype);return t.cache.set(e,r),Vs(e,r,t)}function Qc(e,t){return new t.Constructor(e.valueOf())}function $D(e,t){var r=new t.Constructor(e.source,bD(e));return r.lastIndex=e.lastIndex,r}function Us(e,t){return e}function Ob(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(n){r.add(t.copier(n,t))}),r}function qD(e,t){return Vs(e,Ob(e,t),t)}var jD=Array.isArray,tu=Object.assign,FD=Object.getPrototypeOf||function(e){return e.__proto__},Eb={array:OD,arrayBuffer:Cb,blob:kD,dataView:TD,date:LD,error:Us,map:Ab,object:DD,regExp:$D,set:Ob},RD=tu({},Eb,{array:ED,map:ND,object:MD,set:qD});function BD(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:Qc,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:Qc,Object:e.object,Promise:Us,RegExp:e.regExp,Set:e.set,String:Qc,WeakMap:Us,WeakSet:Us,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function ru(e){var t=tu({},Eb,e),r=BD(t),n=r.Array,i=r.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=FD(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(jD(o))return n(o,a);var l=r[vD(o)];return l?l(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:mD(),copier:s,prototype:void 0})}}function kb(e){return ru(tu({},RD,e))}var UD=kb({}),VD=ru({});Xr.copyStrict=UD;Xr.createCopier=ru;Xr.createStrictCopier=kb;Xr.default=VD});var nu=b((UK,Lb)=>{"use strict";Lb.exports=YD;var{createCopier:KD}=Tb(),HD=KD({}),WD=zc();function YD({log:e,context:t}){let{ignoreKeys:r,includeKeys:n}=t,i=HD(e);if(n){let s={};return n.forEach(o=>{s[o]=i[o]}),s}return r.forEach(s=>{WD(i,s)}),i}});var Ib=b((iu,Nb)=>{"use strict";function en(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?en=function(r){return typeof r}:en=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},en(e)}(function(e){var t=arguments,r=function(){var l=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g;return function(u,d,h,p){if(t.length===1&&a(u)==="string"&&!/\d/.test(u)&&(d=u,u=void 0),u=u||u===0?u:new Date,u instanceof Date||(u=new Date(u)),isNaN(u))throw TypeError("Invalid date");d=String(r.masks[d]||d||r.masks.default);var m=d.slice(0,4);(m==="UTC:"||m==="GMT:")&&(d=d.slice(4),h=!0,m==="GMT:"&&(p=!0));var g=function(){return h?"getUTC":"get"},w=function(){return u[g()+"Date"]()},y=function(){return u[g()+"Day"]()},v=function(){return u[g()+"Month"]()},_=function(){return u[g()+"FullYear"]()},C=function(){return u[g()+"Hours"]()},E=function(){return u[g()+"Minutes"]()},I=function(){return u[g()+"Seconds"]()},A=function(){return u[g()+"Milliseconds"]()},k=function(){return h?0:u.getTimezoneOffset()},F=function(){return s(u)},G=function(){return o(u)},$={d:function(){return w()},dd:function(){return n(w())},ddd:function(){return r.i18n.dayNames[y()]},DDD:function(){return i({y:_(),m:v(),d:w(),_:g(),dayName:r.i18n.dayNames[y()],short:!0})},dddd:function(){return r.i18n.dayNames[y()+7]},DDDD:function(){return i({y:_(),m:v(),d:w(),_:g(),dayName:r.i18n.dayNames[y()+7]})},m:function(){return v()+1},mm:function(){return n(v()+1)},mmm:function(){return r.i18n.monthNames[v()]},mmmm:function(){return r.i18n.monthNames[v()+12]},yy:function(){return String(_()).slice(2)},yyyy:function(){return n(_(),4)},h:function(){return C()%12||12},hh:function(){return n(C()%12||12)},H:function(){return C()},HH:function(){return n(C())},M:function(){return E()},MM:function(){return n(E())},s:function(){return I()},ss:function(){return n(I())},l:function(){return n(A(),3)},L:function(){return n(Math.floor(A()/10))},t:function(){return C()<12?r.i18n.timeNames[0]:r.i18n.timeNames[1]},tt:function(){return C()<12?r.i18n.timeNames[2]:r.i18n.timeNames[3]},T:function(){return C()<12?r.i18n.timeNames[4]:r.i18n.timeNames[5]},TT:function(){return C()<12?r.i18n.timeNames[6]:r.i18n.timeNames[7]},Z:function(){return p?"GMT":h?"UTC":(String(u).match(c)||[""]).pop().replace(f,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(k()>0?"-":"+")+n(Math.floor(Math.abs(k())/60)*100+Math.abs(k())%60,4)},p:function(){return(k()>0?"-":"+")+n(Math.floor(Math.abs(k())/60),2)+":"+n(Math.floor(Math.abs(k())%60),2)},S:function(){return["th","st","nd","rd"][w()%10>3?0:(w()%100-w()%10!=10)*w()%10]},W:function(){return F()},WW:function(){return n(F())},N:function(){return G()}};return d.replace(l,function(T){return T in $?$[T]():T.slice(1,T.length-1)})}}();r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var n=function(c,f){for(c=String(c),f=f||2;c.length<f;)c="0"+c;return c},i=function(c){var f=c.y,u=c.m,d=c.d,h=c._,p=c.dayName,m=c.short,g=m===void 0?!1:m,w=new Date,y=new Date;y.setDate(y[h+"Date"]()-1);var v=new Date;v.setDate(v[h+"Date"]()+1);var _=function(){return w[h+"Date"]()},C=function(){return w[h+"Month"]()},E=function(){return w[h+"FullYear"]()},I=function(){return y[h+"Date"]()},A=function(){return y[h+"Month"]()},k=function(){return y[h+"FullYear"]()},F=function(){return v[h+"Date"]()},G=function(){return v[h+"Month"]()},$=function(){return v[h+"FullYear"]()};return E()===f&&C()===u&&_()===d?g?"Tdy":"Today":k()===f&&A()===u&&I()===d?g?"Ysd":"Yesterday":$()===f&&G()===u&&F()===d?g?"Tmw":"Tomorrow":p},s=function(c){var f=new Date(c.getFullYear(),c.getMonth(),c.getDate());f.setDate(f.getDate()-(f.getDay()+6)%7+3);var u=new Date(f.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);var d=f.getTimezoneOffset()-u.getTimezoneOffset();f.setHours(f.getHours()-d);var h=(f-u)/(864e5*7);return 1+Math.floor(h)},o=function(c){var f=c.getDay();return f===0&&(f=7),f},a=function(c){return c===null?"null":c===void 0?"undefined":en(c)!=="object"?en(c):Array.isArray(c)?"array":{}.toString.call(c).slice(8,-1).toLowerCase()};typeof define=="function"&&define.amd?define(function(){return r}):(typeof iu>"u"?"undefined":en(iu))==="object"?Nb.exports=r:e.dateFormat=r})(void 0)});var su=b((VK,Pb)=>{"use strict";Pb.exports=QD;var{DATE_FORMAT:GD,DATE_FORMAT_SIMPLE:JD}=ft(),ri=Ib(),zD=Jc(),ZD=Rs();function QD(e,t=!1){if(t===!1)return e;let r=zD(e);if(!ZD(r))return e;if(t===!0)return ri(r,JD);let n=t.toUpperCase();if(n==="SYS:STANDARD")return ri(r,GD);let i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?ri(r,t):ri(r,t.slice(4)):ri(r,`UTC:${t}`)}});var ou=b((KK,Db)=>{"use strict";Db.exports=XD;function XD(e){return e?typeof e=="string"?e.split(",").reduce((t,r,n)=>{let[i,s=n]=r.split(":");return t[i.toLowerCase()]=s,t},{}):Object.prototype.toString.call(e)==="[object Object]"?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}:{}}});var au=b((HK,Mb)=>{"use strict";Mb.exports=eM;function eM(e){return e?typeof e=="string"?e.split(",").reduce((t,r,n)=>{let[i,s=n]=r.split(":");return t[s]=i.toUpperCase(),t},{default:"USERLVL"}):Object.prototype.toString.call(e)==="[object Object]"?Object.keys(e).reduce((t,r)=>(t[e[r]]=r.toUpperCase(),t),{default:"USERLVL"}):{}:{}}});var lu=b((WK,$b)=>{"use strict";$b.exports=rM;var tM=Qr();function rM(e,t){return e=e.replace(/{if (.*?)}(.*?){end}/g,r),e=e.replace(/{if (.*?)}/g,""),e=e.replace(/{end}/g,""),e.replace(/\s+/g," ").trim();function r(n,i,s){let o=tM(t,i);return o&&s.includes(i)?s.replace(new RegExp("{"+i+"}","g"),o):""}}});var Ks=b((YK,qb)=>{"use strict";qb.exports=nM;function nM(e){return Object.prototype.toString.apply(e)==="[object Object]"}});var ni=b((GK,jb)=>{"use strict";jb.exports=iM;function iM({input:e,ident:t="    ",eol:r=`
`}){let n=e.split(/\r?\n/);for(let i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}});var Ub=b((JK,Bb)=>{"use strict";Bb.exports=lM;var{LEVEL_NAMES:Fb}=ft(),Rb=Yc(),sM=au(),oM=ou(),aM=qs();function lM(e){let t=e.crlf?`\r
`:`
`,r="    ",{customPrettifiers:n,errorLikeObjectKeys:i,hideObject:s,levelFirst:o,levelKey:a,levelLabel:l,messageFormat:c,messageKey:f,minimumLevel:u,singleLine:d,timestampKey:h,translateTime:p}=e,m=e.errorProps.split(","),g=typeof e.useOnlyCustomProps=="boolean"?e.useOnlyCustomProps:e.useOnlyCustomProps==="true",w=sM(e.customLevels),y=oM(e.customLevels),v=aM(g,w,y),_;if(e.customColors)if(typeof e.customColors=="string")_=e.customColors.split(",").reduce((F,G)=>{let[$,T]=G.split(":"),ke=(g?e.customLevels:y[$]!==void 0)?y[$]:Fb[$],Yt=ke!==void 0?ke:$;return F.push([Yt,T]),F},[]);else if(typeof e.customColors=="object")_=Object.keys(e.customColors).reduce((F,G)=>{let[$,T]=[G,e.customColors[G]],ke=(g?e.customLevels:y[$]!==void 0)?y[$]:Fb[$],Yt=ke!==void 0?ke:$;return F.push([Yt,T]),F},[]);else throw new Error("options.customColors must be of type string or object.");let C={customLevels:w,customLevelNames:y};g===!0&&!e.customLevels&&(C.customLevels=void 0,C.customLevelNames=void 0);let E=e.include!==void 0?new Set(e.include.split(",")):void 0,I=!E&&e.ignore?new Set(e.ignore.split(",")):void 0,A=Rb(e.colorize,_,g),k=e.colorizeObjects?A:Rb(!1,[],!1);return{EOL:t,IDENT:r,colorizer:A,customColors:_,customLevelNames:y,customLevels:w,customPrettifiers:n,customProperties:C,errorLikeObjectKeys:i,errorProps:m,getLevelLabelData:v,hideObject:s,ignoreKeys:I,includeKeys:E,levelFirst:o,levelKey:a,levelLabel:l,messageFormat:c,messageKey:f,minimumLevel:u,objectColorizer:k,singleLine:d,timestampKey:h,translateTime:p,useOnlyCustomProps:g}}});var Gb=b((zK,Yb)=>{Yb.exports=ii;ii.default=ii;ii.stable=Hb;ii.stableStringify=Hb;var Hs="[...]",Vb="[Circular]",vr=[],wr=[];function Kb(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ii(e,t,r,n){typeof n>"u"&&(n=Kb()),cu(e,"",0,[],void 0,0,n);var i;try{wr.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,Wb(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;vr.length!==0;){var s=vr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function tn(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),vr.push([n,r,t,i])):wr.push([t,r,e]):(n[r]=e,vr.push([n,r,t]))}function cu(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){tn(Vb,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){tn(Hs,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){tn(Hs,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)cu(e[a],a,a,n,e,s,o);else{var l=Object.keys(e);for(a=0;a<l.length;a++){var c=l[a];cu(e[c],c,a,n,e,s,o)}}n.pop()}}function cM(e,t){return e<t?-1:e>t?1:0}function Hb(e,t,r,n){typeof n>"u"&&(n=Kb());var i=uu(e,"",0,[],void 0,0,n)||e,s;try{wr.length===0?s=JSON.stringify(i,t,r):s=JSON.stringify(i,Wb(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;vr.length!==0;){var o=vr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function uu(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){tn(Vb,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){tn(Hs,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){tn(Hs,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)uu(e[a],a,a,n,e,s,o);else{var l={},c=Object.keys(e).sort(cM);for(a=0;a<c.length;a++){var f=c[a];uu(e[f],f,a,n,e,s,o),l[f]=e[f]}if(typeof i<"u")vr.push([i,t,e]),i[t]=l;else return l}n.pop()}}function Wb(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(wr.length>0)for(var n=0;n<wr.length;n++){var i=wr[n];if(i[1]===t&&i[0]===r){r=i[2],wr.splice(n,1);break}}return e.call(this,t,r)}}});var fu=b((ZK,Jb)=>{"use strict";Jb.exports=fM;var uM=ni();function fM({keyName:e,lines:t,eol:r,ident:n}){let i="",s=uM({input:t,ident:n,eol:r}),o=`${n}${e}: ${s}${r}`.split(r);for(let a=0;a<o.length;a+=1){a!==0&&(i+=r);let l=o[a];if(/^\s*"stack"/.test(l)){let c=/^(\s*"stack":)\s*(".*"),?$/.exec(l);if(c&&c.length===3){let f=/^\s*/.exec(l)[0].length+4,u=" ".repeat(f),d=c[2];i+=c[1]+r+u+JSON.parse(d).replace(/\n/g,r+u)}else i+=l}else i+=l}return i}});var Ws=b((QK,zb)=>{"use strict";zb.exports=mM;var{LOGGER_KEYS:dM}=ft(),du=Gb(),hM=ni(),pM=fu();function mM({log:e,excludeLoggerKeys:t=!0,skipKeys:r=[],context:n}){let{EOL:i,IDENT:s,customPrettifiers:o,errorLikeObjectKeys:a,objectColorizer:l,singleLine:c,colorizer:f}=n,u=[].concat(r);t===!0&&Array.prototype.push.apply(u,dM);let d="",{plain:h,errors:p}=Object.entries(e).reduce(({plain:m,errors:g},[w,y])=>{if(u.includes(w)===!1){let v=typeof o[w]=="function"?o[w](y,w,e,{colors:f.colors}):y;a.includes(w)?g[w]=v:m[w]=v}return{plain:m,errors:g}},{plain:{},errors:{}});return c?(Object.keys(h).length>0&&(d+=l.greyMessage(du(h))),d+=i,d=d.replace(/\\\\/gi,"\\")):Object.entries(h).forEach(([m,g])=>{let w=typeof o[m]=="function"?g:du(g,null,2);if(w===void 0)return;w=w.replace(/\\\\/gi,"\\");let y=hM({input:w,ident:s,eol:i});d+=`${s}${m}:${y.startsWith(i)?"":" "}${y}${i}`}),Object.entries(p).forEach(([m,g])=>{let w=typeof o[m]=="function"?g:du(g,null,2);w!==void 0&&(d+=pM({keyName:m,lines:w,eol:i,ident:s}))}),d}});var hu=b((XK,Zb)=>{"use strict";Zb.exports=vM;var{LOGGER_KEYS:gM}=ft(),yM=Ks(),bM=ni(),wM=Ws();function vM({log:e,context:t}){let{EOL:r,IDENT:n,errorProps:i,messageKey:s}=t,o=e.stack,a=bM({input:o,ident:n,eol:r}),l=`${n}${a}${r}`;if(i.length>0){let c=gM.concat(s,"type","stack"),f;i[0]==="*"?f=Object.keys(e).filter(u=>c.includes(u)===!1):f=i.filter(u=>c.includes(u)===!1);for(let u=0;u<f.length;u+=1){let d=f[u];if(d in e){if(yM(e[d])){let h=wM({log:e[d],excludeLoggerKeys:!1,context:{...t,IDENT:n+n}});l=`${l}${n}${d}: {${r}${h}${n}}${r}`;continue}l=`${l}${n}${d}: ${e[d]}${r}`}}}return l}});var pu=b((eH,Qb)=>{"use strict";Qb.exports=SM;var _M=Qr();function SM({log:e,context:t}){let{colorizer:r,customLevels:n,customLevelNames:i,levelKey:s,getLevelLabelData:o}=t,a=t.customPrettifiers?.level,l=_M(e,s);if(l===void 0)return;let c=r(l,{customLevels:n,customLevelNames:i});if(a){let[f]=o(l);return a(l,s,e,{label:f,labelColorized:c,colors:r.colors})}return c}});var mu=b((tH,e0)=>{"use strict";e0.exports=AM;var{LEVELS:xM}=ft(),Xb=Qr(),CM=lu();function AM({log:e,context:t}){let{colorizer:r,customLevels:n,levelKey:i,levelLabel:s,messageFormat:o,messageKey:a,useOnlyCustomProps:l}=t;if(o&&typeof o=="string"){let c=CM(o,e),f=String(c).replace(/{([^{}]+)}/g,function(u,d){let h;return d===s&&(h=Xb(e,i))!==void 0?(l?n===void 0:n[h]===void 0)?xM[h]:n[h]:Xb(e,d)||""});return r.message(f)}if(o&&typeof o=="function"){let c=o(e,a,s,{colors:r.colors});return r.message(c)}if(a in e&&!(typeof e[a]!="string"&&typeof e[a]!="number"&&typeof e[a]!="boolean"))return r.message(e[a])}});var gu=b((rH,t0)=>{"use strict";t0.exports=OM;function OM({log:e,context:t}){let{customPrettifiers:r,colorizer:n}=t,i="";if(e.name||e.pid||e.hostname){if(i+="(",e.name&&(i+=r.name?r.name(e.name,"name",e,{colors:n.colors}):e.name),e.pid){let s=r.pid?r.pid(e.pid,"pid",e,{colors:n.colors}):e.pid;e.name&&e.pid?i+="/"+s:i+=s}if(e.hostname){let s=r.hostname?r.hostname(e.hostname,"hostname",e,{colors:n.colors}):e.hostname;i+=`${i==="("?"on":" on"} ${s}`}i+=")"}if(e.caller){let s=r.caller?r.caller(e.caller,"caller",e,{colors:n.colors}):e.caller;i+=`${i===""?"":" "}<${s}>`}if(i!=="")return i}});var yu=b((nH,r0)=>{"use strict";r0.exports=kM;var EM=su();function kM({log:e,context:t}){let{timestampKey:r,translateTime:n}=t,i=t.customPrettifiers?.time,s=null;if(r in e?s=e[r]:"timestamp"in e&&(s=e.timestamp),s===null)return;let o=n?EM(s,n):s;return i?i(o):`[${o}]`}});var i0=b((iH,n0)=>{"use strict";n0.exports={buildSafeSonicBoom:hb(),createDate:Jc(),deleteLogProperty:zc(),filterLog:nu(),formatTime:su(),getPropertyValue:Qr(),handleCustomLevelsNamesOpts:ou(),handleCustomLevelsOpts:au(),interpretConditionals:lu(),isObject:Ks(),isValidDate:Rs(),joinLinesWithIndentation:ni(),noop:Gc(),parseFactoryOptions:Ub(),prettifyErrorLog:hu(),prettifyError:fu(),prettifyLevel:pu(),prettifyMessage:mu(),prettifyMetadata:gu(),prettifyObject:Ws(),prettifyTime:yu(),splitPropertyKey:Bs(),getLevelLabelData:qs()}});var c0=b((sH,rn)=>{"use strict";var TM=typeof Buffer<"u",s0=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,o0=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a0(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),TM&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let i=r&&r.protoAction||"error",s=r&&r.constructorAction||"error";if(i==="ignore"&&s==="ignore")return n;if(i!=="ignore"&&s!=="ignore"){if(s0.test(e)===!1&&o0.test(e)===!1)return n}else if(i!=="ignore"&&s==="ignore"){if(s0.test(e)===!1)return n}else if(o0.test(e)===!1)return n;return l0(n,{protoAction:i,constructorAction:s,safe:r&&r.safe})}function l0(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let i=[e];for(;i.length;){let s=i;i=[];for(let o of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let a in o){let l=o[a];l&&typeof l=="object"&&i.push(l)}}}return e}function bu(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a0(e,t,r)}finally{Error.stackTraceLimit=n}}function LM(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a0(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}rn.exports=bu;rn.exports.default=bu;rn.exports.parse=bu;rn.exports.safeParse=LM;rn.exports.scan=l0});var d0=b((oH,f0)=>{"use strict";f0.exports=UM;var NM=c0(),u0=Ks(),IM=hu(),PM=pu(),DM=mu(),MM=gu(),$M=Ws(),qM=yu(),jM=nu(),{LEVELS:FM,LEVEL_KEY:RM,LEVEL_NAMES:wu}=ft(),BM=e=>{try{return{value:NM.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}};function UM(e){let t;if(u0(e))t=e;else{let a=BM(e);if(a.err||!u0(a.value))return e+this.EOL;t=a.value}if(this.minimumLevel){let a;this.useOnlyCustomProps?a=this.customLevels:a=this.customLevelNames[this.minimumLevel]!==void 0;let l;if(a?l=this.customLevelNames[this.minimumLevel]:l=wu[this.minimumLevel],l||(l=typeof this.minimumLevel=="string"?wu[this.minimumLevel]:wu[FM[this.minimumLevel].toLowerCase()]),t[this.levelKey===void 0?RM:this.levelKey]<l)return}let r=DM({log:t,context:this.context});(this.ignoreKeys||this.includeKeys)&&(t=jM({log:t,context:this.context}));let n=PM({log:t,context:{...this.context,...this.context.customProperties}}),i=MM({log:t,context:this.context}),s=qM({log:t,context:this.context}),o="";if(this.levelFirst&&n&&(o=`${n}`),s&&o===""?o=`${s}`:s&&(o=`${o} ${s}`),!this.levelFirst&&n&&(o.length>0?o=`${o} ${n}`:o=n),i&&(o.length>0?o=`${o} ${i}:`:o=i),o.endsWith(":")===!1&&o!==""&&(o+=":"),r!==void 0&&(o.length>0?o=`${o} ${r}`:o=r),o.length>0&&!this.singleLine&&(o+=this.EOL),t.type==="Error"&&typeof t.stack=="string"){let a=IM({log:t,context:this.context});this.singleLine&&(o+=this.EOL),o+=a}else if(this.hideObject===!1){let a=[this.messageKey,this.levelKey,this.timestampKey].map(c=>c.replaceAll(/\\/g,"")).filter(c=>typeof t[c]=="string"||typeof t[c]=="number"||typeof t[c]=="boolean"),l=$M({log:t,skipKeys:a,context:this.context});this.singleLine&&!/^\s$/.test(l)&&(o+=" "),o+=l}return o}});var m0=b((aH,Dt)=>{"use strict";var{isColorSupported:h0}=Rc(),VM=Gy(),{Transform:KM}=require("stream"),HM=nb(),WM=Yc(),{ERROR_LIKE_KEYS:p0,LEVEL_KEY:YM,LEVEL_LABEL:GM,MESSAGE_KEY:JM,TIMESTAMP_KEY:zM}=ft(),{buildSafeSonicBoom:ZM,parseFactoryOptions:QM}=i0(),XM=d0(),e$={colorize:h0,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:p0,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:YM,levelLabel:GM,messageFormat:null,messageKey:JM,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:zM,translateTime:!0,useOnlyCustomProps:!0};function vu(e){let t=QM(Object.assign({},e$,e));return XM.bind({...t,context:t})}function Ys(e={}){let t=vu(e),r;return HM(function(n){n.on("message",function s(o){!o||o.code!=="PINO_CONFIG"||(Object.assign(e,{messageKey:o.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...e.errorLikeObjectKeys||p0,o.config.errorKey])),customLevels:o.config.levels.values}),t=vu(e),n.off("message",s))});let i=new KM({objectMode:!0,autoDestroy:!0,transform(s,o,a){let l=t(s);a(null,l)}});return typeof e.destination=="object"&&typeof e.destination.write=="function"?r=e.destination:r=ZM({dest:e.destination||1,append:e.append,mkdir:e.mkdir,sync:e.sync}),n.on("unknown",function(s){r.write(s+`
`)}),VM(n,i,r),i},{parse:"lines",close(n,i){r.on("close",()=>{i(n)})}})}Dt.exports=Ys;Dt.exports.build=Ys;Dt.exports.PinoPretty=Ys;Dt.exports.prettyFactory=vu;Dt.exports.colorizerFactory=WM;Dt.exports.isColorSupported=h0;Dt.exports.default=Ys});function sn(e={}){let{verbose:t,json:r,silent:n,quiet:i,logFile:s,context:o}=e,l=(0,g0.isatty)(process.stdout.fd||0)&&!r&&!s;if(n||i)return(0,nn.default)({enabled:!1,level:"fatal"});let f={level:t?"debug":"info",...o&&{base:{context:o}},formatters:{level:u=>({level:u})}};if(l)return(0,nn.default)(f,t$({colorize:!0,ignore:"pid,hostname",translateTime:"HH:MM:ss",messageFormat:"{context} {msg}",customPrettifiers:{context:u=>u?`[${u}]`:""}}));if(s){let u=nn.default.transport({target:"pino/file",options:{destination:s}});return(0,nn.default)(f,u)}return(0,nn.default)(f)}function y0(){return Gs||(Gs=sn()),Gs}function b0(e){Gs=e}function w0(e,t){return e.child(t)}var g0,nn,t$,Gs,Xe,si,Js=K(()=>{"use strict";g0=require("node:tty"),nn=bt(Ny(),1),t$=m0();Gs=null;Xe={commandStart:e=>`Starting ${e} command`,commandComplete:(e,t)=>`Completed ${e} command in ${t}ms`,commandFailed:(e,t)=>`${e} command failed: ${t}`,configLoading:"Loading configuration",configLoaded:e=>`Configuration loaded from ${e}`,configError:e=>`Configuration error: ${e}`,queryStart:e=>`Starting query with model ${e}`,queryComplete:e=>`Query completed in ${e}ms`,queryAborted:"Query aborted by user",toolExecute:e=>`Executing tool: ${e}`,toolExecuteWithArgs:(e,t)=>`\u{1F527} ${e}: ${t}`,toolComplete:(e,t)=>`Tool ${e} completed in ${t}ms`,toolCompleteWithResult:(e,t,r)=>`\u2705 ${e}: ${r} (${t}ms)`,toolError:(e,t)=>`Tool ${e} failed: ${t}`,thinkingStart:"Claude is thinking...",thinkingContent:e=>`\u{1F4AD} ${e}`,thinkingEnd:e=>`Thinking complete (${e}ms)`},si=class{startTime;constructor(){this.startTime=Date.now()}elapsed(){return Date.now()-this.startTime}log(t,r,n="info"){let i=this.elapsed();t[n]({duration:i},`${r} (${i}ms)`)}}});function _0(e,t){let r=y$[e];if(!r)return{success:!0,data:t};let n=r.safeParse(t);return n.success?{success:!0,data:n.data}:{success:!1,data:t,error:n.error}}function S0(e,t=200){if(typeof e=="string")return e.length>t?`${e.substring(0,t)}...`:e;if(e==null)return"(empty)";if(typeof e=="object")try{let r=JSON.stringify(e,null,2);return r.length>t?`${r.substring(0,t)}...`:r}catch{return"[Complex object]"}return String(e)}var r$,uH,fH,n$,i$,s$,o$,a$,l$,c$,u$,f$,d$,h$,p$,m$,g$,v0,y$,dH,x0=K(()=>{"use strict";Tt();r$=S.string(),uH=S.string(),fH=S.literal(""),n$=S.string(),i$=S.string(),s$=S.string(),o$=S.string(),a$=S.string(),l$=S.string(),c$=S.string(),u$=S.string(),f$=S.string(),d$=S.string(),h$=S.string(),p$=S.string(),m$=S.string(),g$=S.string(),v0=S.union([S.string(),S.object({description:S.string().optional(),result:S.unknown()}),S.unknown()]),y$={Bash:n$,Read:i$,Write:s$,Edit:o$,MultiEdit:a$,LS:l$,Glob:c$,Grep:u$,TodoRead:f$,TodoWrite:d$,WebFetch:h$,WebSearch:p$,NotebookRead:m$,NotebookEdit:g$,Task:v0,exit_plan_mode:S.string()},dH=S.union([r$,v0,S.unknown()])});function C0(e){switch(e.type){case"assistant":return b$(e);case"user":return w$(e);case"system":return v$(e);case"result":return _$(e);default:return null}}function b$(e){let t=[],r=new Date;if(e.message?.content&&Array.isArray(e.message.content))for(let n=0;n<e.message.content.length;n++){let i=e.message.content[n],s=new Date(r.getTime()+n);i.type==="text"?t.push({id:e.message.id||oi(),role:"assistant",content:i.text,timestamp:s}):i.type==="tool_use"&&t.push({id:i.id||oi(),role:"tool",content:`Using tool: ${i.name}`,timestamp:s,toolUse:{name:i.name,input:i.input,status:"pending"},...e.parent_tool_use_id&&{parentToolUseId:e.parent_tool_use_id}})}else typeof e.message=="string"&&t.push({id:oi(),role:"assistant",content:e.message,timestamp:r});return t}function w$(e){if(e.message?.content&&Array.isArray(e.message.content)){if(e.message.content.find(n=>n.type==="tool_result"))return null;let r=e.message.content.filter(n=>n.type==="text").map(n=>n.text).join("");if(r)return{id:oi(),role:"user",content:r,timestamp:new Date}}else if(typeof e.message=="string")return{id:oi(),role:"user",content:e.message,timestamp:new Date};return null}function v$(e){return null}function _$(e){return null}function A0(e){return e.type==="assistant"}function O0(e){return e.type==="user"}function E0(e){return e.type==="system"}function k0(e){return e.type==="result"}function oi(){return`msg_${Date.now()}_${Math.random().toString(36).substring(2,11)}`}var T0=K(()=>{"use strict"});var _u,Su,ai,L0=K(()=>{"use strict";_u=class{sessions=new Map;async save(t){this.sessions.set(t.id,t)}async load(t){return this.sessions.get(t)||null}async list(){return Array.from(this.sessions.values()).map(t=>({id:t.id,createdAt:t.createdAt,lastUsedAt:t.lastUsedAt}))}async delete(t){this.sessions.delete(t)}},Su=class{storage;constructor(t=new _u){this.storage=t}async createSession(t=crypto.randomUUID()){let r={id:t,messages:[],createdAt:new Date,lastUsedAt:new Date};return await this.storage.save(r),r}async getSession(t){let r=await this.storage.load(t);return r&&(r.lastUsedAt=new Date,await this.storage.save(r)),r}async addMessage(t,r){let n=await this.getSession(t);n&&(n.messages.push(r),await this.storage.save(n))}async clearSession(t){let r=await this.getSession(t);r&&(r.messages=[],await this.storage.save(r))}async deleteSession(t){await this.storage.delete(t)}async listSessions(){return this.storage.list()}},ai=new Su});var N0,on,xu,zs,I0=K(()=>{"use strict";N0=require("node:fs"),on=require("node:fs/promises"),xu=require("node:path"),zs=class{logDir;currentLogFile;isEnabled;constructor(t=!0,r){this.logDir=r||(0,xu.join)(process.cwd(),"logs"),this.currentLogFile=this.getLogFileName(),this.isEnabled=t}getLogFileName(){let r=new Date().toISOString().split("T")[0];return(0,xu.join)(this.logDir,`conversation-${r}.log`)}async ensureLogDirectory(){(0,N0.existsSync)(this.logDir)||await(0,on.mkdir)(this.logDir,{recursive:!0})}formatLogEntry(t){return`${JSON.stringify(t)}
`}async logSDKMessage(t,r="incoming"){if(this.isEnabled)try{await this.ensureLogDirectory();let n={timestamp:new Date().toISOString(),type:"sdk_message",direction:r,messageType:t.type,data:t};await(0,on.appendFile)(this.currentLogFile,this.formatLogEntry(n))}catch{}}async logUserPrompt(t){if(this.isEnabled)try{await this.ensureLogDirectory();let r={timestamp:new Date().toISOString(),type:"user_prompt",direction:"outgoing",data:{prompt:t}};await(0,on.appendFile)(this.currentLogFile,this.formatLogEntry(r))}catch{}}async logUIMessage(t,r="incoming"){if(this.isEnabled)try{await this.ensureLogDirectory();let n={timestamp:new Date().toISOString(),type:"ui_message",direction:r,data:t};await(0,on.appendFile)(this.currentLogFile,this.formatLogEntry(n))}catch{}}checkAndRotateLog(){let t=this.getLogFileName();t!==this.currentLogFile&&(this.currentLogFile=t)}setEnabled(t){this.isEnabled=t}getLogFilePath(){return this.currentLogFile}}});var q0={};qe(q0,{AbortError:()=>li,query:()=>ht});function ht({prompt:e,options:{abortController:t=new AbortController,allowedTools:r=[],appendSystemPrompt:n,customSystemPrompt:i,cwd:s,disallowedTools:o=[],executable:a=O$()?"bun":"node",executableArgs:l=[],maxTurns:c,mcpServers:f,pathToClaudeCodeExecutable:u=(0,Ou.join)(x$,"cli.js"),permissionMode:d="default",permissionPromptToolName:h,continue:p,resume:m,model:g,fallbackModel:w,strictMcpConfig:y}={}}){process.env.CLAUDE_CODE_ENTRYPOINT||(process.env.CLAUDE_CODE_ENTRYPOINT="sdk-ts");let v=["--output-format","stream-json","--verbose"];if(i&&v.push("--system-prompt",i),n&&v.push("--append-system-prompt",n),c&&v.push("--max-turns",c.toString()),g&&v.push("--model",g),h&&v.push("--permission-prompt-tool",h),p&&v.push("--continue"),m&&v.push("--resume",m),r.length>0&&v.push("--allowedTools",r.join(",")),o.length>0&&v.push("--disallowedTools",o.join(",")),f&&Object.keys(f).length>0&&v.push("--mcp-config",JSON.stringify({mcpServers:f})),y&&v.push("--strict-mcp-config"),d!=="default"&&v.push("--permission-mode",d),w){if(g&&w===g)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");v.push("--fallback-model",w)}if(typeof e=="string"?v.push("--print",e.trim()):v.push("--input-format","stream-json"),!(0,$0.existsSync)(u))throw new ReferenceError(`Claude Code executable not found at ${u}. Is options.pathToClaudeCodeExecutable set?`);A$(`Spawning Claude Code process: ${a} ${[...l,u,...v].join(" ")}`);let _=(0,P0.spawn)(a,[...l,u,...v],{cwd:s,stdio:["pipe","pipe","pipe"],signal:t.signal,env:{...process.env}}),C;typeof e=="string"?_.stdin.end():(C$(e,_.stdin,t),C=_.stdin),process.env.DEBUG&&_.stderr.on("data",k=>{console.error("Claude Code stderr:",k.toString())});let E=()=>{_.killed||_.kill("SIGTERM")};t.signal.addEventListener("abort",E),process.on("exit",E);let I=new Promise(k=>{_.on("close",F=>{t.signal.aborted&&A.setError(new li("Claude Code process aborted by user")),F!==0?A.setError(new Error(`Claude Code process exited with code ${F}`)):k()})}),A=new Au(C,_.stdout,I);return _.on("error",k=>{t.signal.aborted?A.setError(new li("Claude Code process aborted by user")):A.setError(new Error(`Failed to spawn Claude Code process: ${k.message}`))}),I.finally(()=>{E(),t.signal.removeEventListener("abort",E),process.env.CLAUDE_SDK_MCP_SERVERS&&delete process.env.CLAUDE_SDK_MCP_SERVERS}),A}async function C$(e,t,r){for await(let n of e){if(r.signal.aborted)break;t.write(JSON.stringify(n)+`
`)}t.end()}function A$(e){process.env.DEBUG&&console.debug(e)}function O$(){return process.versions.bun!==void 0||process.env.BUN_INSTALL!==void 0}var P0,Ou,D0,M0,$0,Cu,S$,x$,Au,li,an=K(()=>{P0=require("child_process"),Ou=require("path"),D0=require("url"),M0=require("readline"),$0=require("fs"),Cu=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(t){this.returned=t}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((t,r)=>{this.readResolve=t,this.readReject=r})}enqueue(t){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:t})}else this.queue.push(t)}done(){if(this.isDone=!0,this.readResolve){let t=this.readResolve;this.readResolve=void 0,this.readReject=void 0,t({done:!0,value:void 0})}}error(t){if(this.hasError=t,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(t)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},S$=(0,D0.fileURLToPath)(import_meta_url),x$=(0,Ou.join)(S$,"..");Au=class{childStdin;childStdout;processExitPromise;pendingControlResponses=new Map;sdkMessages;inputStream=new Cu;constructor(t,r,n){this.childStdin=t,this.childStdout=r,this.processExitPromise=n,this.readMessages(),this.sdkMessages=this.readSdkMessages()}setError(t){this.inputStream.error(t)}next(...[t]){return this.sdkMessages.next(t)}return(t){return this.sdkMessages.return(t)}throw(t){return this.sdkMessages.throw(t)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){let t=(0,M0.createInterface)({input:this.childStdout});try{for await(let r of t)if(r.trim()){let n=JSON.parse(r);if(n.type==="control_response"){let i=this.pendingControlResponses.get(n.response.request_id);i&&i(n.response);continue}this.inputStream.enqueue(n)}await this.processExitPromise}catch(r){this.inputStream.error(r)}finally{this.inputStream.done(),t.close()}}async*readSdkMessages(){for await(let t of this.inputStream)yield t}async interrupt(){if(!this.childStdin)throw new Error("Interrupt requires --input-format stream-json");await this.request({subtype:"interrupt"},this.childStdin)}request(t,r){let n=Math.random().toString(36).substring(2,15),i={request_id:n,type:"control_request",request:t};return new Promise((s,o)=>{this.pendingControlResponses.set(n,a=>{a.subtype==="success"?s(a):o(new Error(a.error))}),r.write(JSON.stringify(i)+`
`)})}};li=class extends Error{}});async function*j0({prompt:e,abortController:t,options:r}){let n={prompt:e,...t&&{abortController:t},...r&&{options:r}},i=ht(n);try{for await(let s of i){if(t?.signal.aborted)return;yield s}}catch(s){if(s instanceof Error&&(s.name==="AbortError"||s.message.includes("Claude Code process exited with code 143")))return;throw s}}var F0=K(()=>{"use strict";an()});var Eu,R0,B0,ku,U0,ci,Zs,V0=K(()=>{"use strict";Eu=require("node:fs/promises"),R0=require("node:module"),B0=require("node:path");Js();x0();T0();L0();I0();F0();ku=class extends Error{constructor(t="Query aborted by user"){super(t),this.name="QueryAbortError"}};try{U0=(0,R0.createRequire)(import_meta_url).resolve("@anthropic-ai/claude-code/cli.js")}catch{}ci=new Map,Zs=class{handlers;options;messageLogger;abortController;toolUseToMessageId=new Map;sessionId=null;logger;isAborted=!1;constructor(t,r={}){this.handlers=t,this.options=r,r.logMessages!==!1&&(this.messageLogger=new zs(!0)),this.logger=r.logger||y0()}async processQuery(t){this.isAborted=!1;let r=Date.now();this.logger.debug("Starting query processing",{promptLength:t.length,model:this.options.model,sessionId:this.sessionId});try{this.messageLogger&&await this.messageLogger.logUserPrompt(t);let n=await this.loadSystemPrompt();this.logger.trace("System prompt loaded",{length:n.length}),this.abortController=new AbortController;let i=[],s={prompt:t,abortController:this.abortController,options:{customSystemPrompt:n,allowedTools:this.options.allowedTools||["Write","Read","LS","Glob","Grep","Edit","MultiEdit","Bash","TodoRead","TodoWrite","Task","WebFetch","WebSearch","NotebookRead","NotebookEdit","exit_plan_mode"],cwd:this.options.workingDirectory||process.cwd(),...this.options.model&&{model:this.options.model},...this.options.maxThinkingTokens&&this.options.maxThinkingTokens>0&&{maxThinkingTokens:this.options.maxThinkingTokens},...this.sessionId&&{resume:this.sessionId}}};this.options.abortSignal&&this.options.abortSignal.addEventListener("abort",()=>{this.abortController?.abort()}),this.logger.trace("Executing Claude query",{allowedTools:s.options.allowedTools,claudeCodePath:U0});for await(let o of j0(s)){if(this.isAborted){this.logger.debug("Query loop exiting due to abort");break}if(i.push(o),this.logger.trace("Received SDK message",{type:o.type}),!this.sessionId&&"session_id"in o&&o.session_id&&(this.sessionId=o.session_id,this.logger.debug("Session ID captured",{sessionId:this.sessionId}),this.options.sessionId&&(await ai.getSession(this.options.sessionId)||await ai.createSession(this.options.sessionId))),this.messageLogger&&await this.messageLogger.logSDKMessage(o,"incoming"),this.logger.trace("SDK message details",{type:o.type,subtype:o.subtype,hasThinking:"thinking"in o}),o.type==="assistant"&&o.message&&typeof o.message=="object"&&(this.handlers.onThinkingStart||this.handlers.onThinkingContent||this.handlers.onThinkingEnd)){let a=o.message;if(a.content&&Array.isArray(a.content)){let l=a.content.find(c=>c.type==="thinking"&&c.thinking);if(l?.thinking){let c=a.id||"unknown",f=l.thinking;this.logger.trace("Found thinking content",{type:l.type,thinkingLength:f.length}),this.handlers.onThinkingStart?.(c),this.handlers.onThinkingContent?.(c,f),this.handlers.onThinkingEnd?.(c)}}}if(this.isAborted)break;if(E0(o))o.subtype;else if(O0(o)){if(this.isAborted)break;if(o.message?.content&&Array.isArray(o.message.content)){let l=o.message.content.find(c=>typeof c=="object"&&c!==null&&"type"in c&&c.type==="tool_result");if(l?.tool_use_id){let c=this.toolUseToMessageId.get(l.tool_use_id);if(c){let f=_0("",l.content),u=S0(f.data);this.handlers.onMessageUpdate(c.messageId,{toolUse:{result:u,status:"completed"}}),this.handlers.onToolResult(c.messageId,c.toolName,{success:!0,output:u}),this.toolUseToMessageId.delete(l.tool_use_id)}}}}else if(A0(o)){if(this.isAborted)break;let a=C0(o);if(this.logger.trace("Assistant message received",{messageCount:Array.isArray(a)?a.length:1}),Array.isArray(a))for(let l of a)l.role==="tool"&&l.toolUse&&(this.toolUseToMessageId.set(l.id,{messageId:l.id,toolName:l.toolUse.name}),this.handlers.onToolUse(l.id,l.toolUse.name,l.toolUse.input)),this.handlers.onMessage(l),l.role==="assistant"&&l.content&&(this.handlers.onStreamStart?.(l.id),this.handlers.onStreamContent?.(l.id,l.content),this.handlers.onStreamEnd?.(l.id)),this.messageLogger&&await this.messageLogger.logUIMessage(l)}else if(k0(o)){if(this.isAborted)break;if(o.subtype==="success"){let a=Date.now()-r;this.logger.info("Query completed successfully",{duration:a,messageCount:i.length}),this.handlers.onComplete()}else o.subtype==="error_max_turns"?(this.logger.warn("Query reached maximum turns limit"),this.handlers.onError(new Error("Maximum conversation turns reached"))):o.subtype==="error_during_execution"&&(this.logger.error("Query execution error"),this.handlers.onError(new Error("Error occurred during query execution")))}}if(this.options.sessionId&&!this.isAborted)for(let o of i)await ai.addMessage(this.options.sessionId,o)}catch(n){let i=Date.now()-r;if(this.isAborted){this.logger.info("Query aborted",{duration:i});return}if(n instanceof Error&&(n.name==="AbortError"||n.message.includes("Claude Code process exited with code 143")))throw this.logger.info("Query terminated by abort signal",{duration:i}),new ku;this.logger.error("Query processing failed",{error:n instanceof Error?n.message:"Unknown error",duration:i}),this.handlers.onError(n instanceof Error?n:new Error("Unknown error occurred"))}}async loadSystemPrompt(){if(this.options.systemPrompt){if(!this.options.systemPrompt.includes("/"))return this.options.systemPrompt;let n=ci.get(this.options.systemPrompt);if(n)return n;try{let i=await(0,Eu.readFile)(this.options.systemPrompt,"utf-8");return ci.set(this.options.systemPrompt,i),i}catch{}}let t=(0,B0.resolve)(process.cwd(),"prompts/general.md"),r=ci.get(t);if(r)return r;try{let n=await(0,Eu.readFile)(t,"utf-8");return ci.set(t,n),n}catch{let i="You are Claude, an AI assistant.";return ci.set(t,i),i}}abort(){this.isAborted=!0,this.abortController&&(this.abortController.abort(),this.abortController=void 0),this.toolUseToMessageId.clear(),this.handlers.onAbort?.(),this.logger.debug("Query processor aborted completely")}resetSession(){this.sessionId=null,this.toolUseToMessageId.clear(),this.options.sessionId&&ai.clearSession(this.options.sessionId).catch(t=>{this.options.logger?.error("Failed to clear session",t)})}getSessionId(){return this.sessionId}}});var Me,Qs,K0,EH,_r=K(()=>{"use strict";je();Me=new Nn("-m, --model <model>","Claude model to use").choices(["claude-sonnet-4-20250514","claude-opus-4-20250514"]),Qs=new Nn("-o, --output-dir <dir>","output directory for generated files"),K0=new Nn("--tools <tools...>","allowed tools (comma-separated)").default(["Read","Write","Edit","Bash"]),EH=new Nn("-q, --quiet","suppress non-essential output")});function H0(e,t){switch(e){case"json":return new Tu(t);case"markdown":return new Lu(t);default:return new Xs(t)}}var Xs,Tu,Lu,W0=K(()=>{"use strict";Xs=class{options;messages=new Map;constructor(t){this.options=t}onMessage(t){this.messages.set(t.id,t),t.role==="user"&&this.options.quiet}onMessageUpdate(t,r){let n=this.messages.get(t);n&&Object.assign(n,r)}onToolUse(t,r,n){}onToolResult(t,r,n){}onStreamStart(t){}onStreamContent(t,r){this.options.stream&&process.stdout.write(r)}onStreamEnd(t){if(this.options.stream){let r=this.messages.get(t);r&&!r.content.endsWith(`
`)&&process.stdout.write(`
`)}}onComplete(t){if(!this.options.stream)for(let r of Array.from(this.messages.values()))r.role==="assistant"&&(process.stdout.write(r.content),r.content.endsWith(`
`)||process.stdout.write(`
`));this.options.quiet}onError(t){}},Tu=class{options;constructor(t){this.options=t}result={messages:[],tools:[],error:null,stats:{}};onMessage(t){this.result.messages.push({id:t.id,role:t.role,content:t.content,timestamp:t.timestamp})}onMessageUpdate(t,r){let n=this.result.messages.find(i=>i.id===t);n&&Object.assign(n,r)}onToolUse(t,r,n){this.result.tools.push({messageId:t,tool:r,args:n,timestamp:new Date})}onToolResult(t,r,n){let i=this.result.tools.find(s=>s.messageId===t&&s.tool===r);i&&(i.result=n)}onStreamStart(t){}onStreamContent(t,r){}onStreamEnd(t){}onComplete(t){this.result.stats=t,process.stdout.write(`${JSON.stringify(this.result,null,2)}
`)}onError(t){this.result.error={message:t.message,code:t.code||"UNKNOWN"}}},Lu=class extends Xs{hasShownAssistantHeader=!1;onMessage(t){super.onMessage(t),t.role==="user"&&!this.options.quiet&&process.stdout.write(`
### User
${t.content}
`)}onStreamStart(t){this.hasShownAssistantHeader=!1}onStreamContent(t,r){this.options.stream&&(!this.hasShownAssistantHeader&&!this.options.quiet&&(process.stdout.write(`
### Assistant
`),this.hasShownAssistantHeader=!0),process.stdout.write(r))}onToolUse(t,r,n){}}});var J0={};qe(J0,{runCommand:()=>E$});async function k$(e,t){if(t.prompt)return t.prompt;if(t.file){let r=(0,G0.resolve)(process.cwd(),t.file);return await(0,Y0.readFile)(r,"utf-8")}return t.stdin||!process.stdin.isTTY?await T$():e||null}async function T$(){let e=[];return new Promise((t,r)=>{process.stdin.on("data",n=>e.push(n)),process.stdin.on("end",()=>{t(Buffer.concat(e).toString("utf-8"))}),process.stdin.on("error",r)})}function L$(e,t){switch(e){case"Glob":return`Searching for "${t.pattern}" in ${t.path||"current directory"}`;case"Read":return`Reading file ${t.file_path}`;case"Write":return`Writing to ${t.file_path}`;case"Edit":return`Editing ${t.file_path}`;case"MultiEdit":return`Making multiple edits to ${t.file_path}`;case"Bash":return`Running command: ${t.command}`;case"Grep":return`Searching for "${t.pattern}" in ${t.include||"all files"}`;case"LS":return`Listing directory ${t.path}`;case"WebFetch":return`Fetching ${t.url}`;case"WebSearch":return`Searching web for: ${t.query}`;default:return`Executing ${e}`}}function N$(e,t){let r=t.output;switch(e){case"Glob":return r?`Found ${r.split(`
`).filter(Boolean).length} files`:"No files found";case"Read":if(r){let n=r.split(`
`).length,i=r.length;return`Read ${n} lines (${(i/1024).toFixed(1)}KB)`}return"File read";case"Bash":{let n=!!t.output,i=!!t.error;return t.success!==!1&&(n||!i)?"Command succeeded":"Command failed"}case"Write":case"Edit":case"MultiEdit":return t.success?"File updated":"Update failed";case"Grep":return r?`Found ${r.split(`
`).filter(Boolean).length} matches`:"No matches found";case"LS":return r?`Listed ${r.split(`
`).filter(Boolean).length} items`:"Directory listed";default:return"Completed"}}async function I$(e,t){let{config:r,logger:n,formatter:i}=t,s=!1,o=0,a=Date.now(),l=new Map,c=null;t.showSystemLogs&&n.info(Xe.queryStart(t.model||r.model));let f={onMessage:d=>{o++,n.trace("Message received",{id:d.id,role:d.role,contentLength:d.content?.length||0}),i.onMessage(d)},onMessageUpdate:(d,h)=>{n.trace("Message updated",{id:d,hasContent:!!h.content}),i.onMessageUpdate(d,h)},onToolUse:(d,h,p)=>{let m=L$(h,p);l.set(d,Date.now()),t.showToolLogs&&(t.showSystemLogs?n.info(`[\u23FA] ${h}: ${m}`,{messageId:d}):process.stdout.write(`[\u23FA] ${h}: ${m}
`)),i.onToolUse(d,h,p)},onToolResult:(d,h,p)=>{let m=l.get(d),g=m?Date.now()-m:0,w=N$(h,p);l.delete(d);let y=!!p.output,v=!!p.error,_=p.success!==!1&&(y||!v),C=_?"\u2713":"\u2717";if(t.showSystemLogs&&h==="Bash"&&n.debug(`Bash tool result: success=${p.success}, isSuccess=${_}, hasOutput=${y}, hasError=${v}`),t.showToolLogs&&(t.showSystemLogs?n.info(`[${C}] ${h}: ${w} (${g}ms)`,{messageId:d,result:p,success:_}):process.stdout.write(`[${C}] ${h}: ${w} (${g}ms)
`),!_&&h==="Bash"&&p.error)){let E=typeof p.error=="string"?p.error:JSON.stringify(p.error);t.showSystemLogs?n.error(`Bash command error: ${E}`,{messageId:d}):process.stdout.write(`   Error: ${E}
`)}i.onToolResult(d,h,p)},onStreamStart:d=>{i.onStreamStart(d)},onStreamContent:(d,h)=>{i.onStreamContent(d,h)},onStreamEnd:d=>{i.onStreamEnd(d)},onThinkingStart:t.thinking?d=>{c=Date.now(),t.showSystemLogs?n.info("\u{1F4AD} Claude is thinking...",{messageId:d}):process.stdout.write(`\u{1F4AD} Claude is thinking...
`)}:void 0,onThinkingContent:t.thinking?(d,h)=>{t.showSystemLogs?n.info(`\u{1F4AD} ${h}`,{messageId:d}):h.split(`
`).length<=3&&process.stdout.write(`\u{1F4AD} ${h}
`)}:void 0,onThinkingEnd:t.thinking?d=>{let h=c?Date.now()-c:0;c=null,t.showSystemLogs?n.info(`\u2514\u2500 Thinking complete (${(h/1e3).toFixed(1)}s)`,{messageId:d}):process.stdout.write(`\u2514\u2500 Thinking complete (${(h/1e3).toFixed(1)}s)

`)}:void 0,onComplete:()=>{let d=Date.now()-a;t.showSystemLogs&&n.info(Xe.queryComplete(d),{messageCount:o}),i.onComplete({duration:d,messageCount:o})},onError:d=>{s=!0,n.error("Query execution error",{error:d.message,stack:d.stack}),i.onError(d)},onAbort:()=>{n.warn(Xe.queryAborted)}},u=new Zs(f,{model:t.model||r.model,...t.systemPrompt&&{systemPrompt:t.systemPrompt},temperature:r.temperature,maxTokens:t.maxTokens||r.maxOutputTokens,maxThinkingTokens:t.maxThinkingTokens||0,...t.session&&{sessionId:t.session},logMessages:r.logMessages,allowedTools:t.tools||r.tools||[],workingDirectory:process.cwd(),logger:n});if(process.on("SIGINT",()=>{n.warn("Received SIGINT, aborting query"),u.abort(),process.exit(130)}),await u.processQuery(e),s)throw new Error("Query execution failed")}var Y0,G0,E$,z0=K(()=>{"use strict";Y0=require("node:fs/promises"),G0=require("node:path");je();V0();_r();Js();W0();E$=new Z("run").description("Run a prompt in headless mode").argument("[prompt]","prompt text (if not using -p or -f)").allowUnknownOption(!0).option("-p, --prompt <text>","provide prompt directly").option("-f, --file <path>","read prompt from file").option("--stdin","read prompt from stdin").option("--thinking","enable thinking mode and show reasoning process").option("--session <id>","session ID for context").option("--system-prompt <path>","custom system prompt file").addOption(Me).addOption(K0).addHelpText("after",`
Global Options (available with all commands):
  -v, --verbose                 enable verbose output for debugging
  -q, --quiet                   minimal output (just results)
  --json                        output structured JSON format
  --profile <profile>           use configuration profile
  --config <path>               path to custom config file

Examples:
  $ fondation run "What is TypeScript?"
  $ fondation run -p "Analyze this code" --thinking
  $ fondation run -f prompt.txt --quiet
  $ fondation run "Explain this error" --verbose
  
Use "fondation --help" for more information about global options.`).action(async(e,t,r)=>{let n=r.optsWithGlobals()._config,i=r.optsWithGlobals()._logger,s=r.optsWithGlobals()._timer,o=r.optsWithGlobals().quiet,a=r.optsWithGlobals().verbose,l=w0(i,{command:"run",model:t.model||n.model}),c=!o,f=o?!1:a;f&&l.info(Xe.commandStart("run"));try{f&&l.debug("Determining prompt source");let u=await k$(e,t);if(!u)throw new Error("No prompt provided. Use -p, -f, --stdin, or provide as argument.");f&&l.debug("Prompt loaded",{length:u.length,source:t.file?"file":t.stdin?"stdin":t.prompt?"flag":"argument"});let d=r.optsWithGlobals().json,h=d?"json":"text",p=H0(h,{stream:!0,quiet:o,json:d});f&&l.debug("Output formatter created",{format:h});let m=t.thinking||!1,g=m?4e4:0;f&&l.debug("Thinking configuration",{enabled:m,maxTokens:g}),await I$(u,{...t,config:n,logger:l,formatter:p,thinking:m,maxThinkingTokens:g,showToolLogs:c,showSystemLogs:f}),f&&s.log(l,Xe.commandComplete("run",s.elapsed())),process.exit(0)}catch(u){let d=u;l.error(Xe.commandFailed("run",d.message),{error:d}),r.optsWithGlobals().json?process.stderr.write(`${JSON.stringify({error:d.message})}
`):o||process.stderr.write(`${d.message}
`),process.exit(1)}})});var ew={};qe(ew,{chatCommand:()=>P$});function D$(e,t){let r={};return t.model?r.CLAUDE_MODEL=t.model:e.model&&(r.CLAUDE_MODEL=e.model),t.outputDir?r.CLAUDE_OUTPUT_DIR=t.outputDir:e.outputDir&&(r.CLAUDE_OUTPUT_DIR=e.outputDir),t.history===!1?r.CLAUDE_LOG_MESSAGES="false":e.logMessages!==void 0&&(r.CLAUDE_LOG_MESSAGES=e.logMessages.toString()),t.resume&&(r.CLAUDE_SESSION_ID=t.resume),Object.keys(process.env).forEach(n=>{if(n.startsWith("CLAUDE_")&&!r[n]){let i=process.env[n];i&&(r[n]=i)}}),r}async function M$(e,t,r){try{if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return r.debug("Invalid session ID format",{sessionId:e}),!1;let i=t.outputDir||".claude-output",s=(0,Sr.join)(i,"sessions",`${e}.json`);return(0,eo.existsSync)(s)?!0:(r.debug("Session file not found",{sessionFile:s}),!1)}catch(n){return r.debug("Session validation error",{error:n}),!1}}function $$(){let e=[(0,Sr.join)(Z0,"..","..","..","src","dev.tsx"),(0,Sr.join)(process.cwd(),"src","dev.tsx"),(0,Sr.join)(Z0,"..","dev.tsx")];for(let t of e)if((0,eo.existsSync)(t))return t;return e[0]||"src/dev.tsx"}function q$(e,t,r){if(t){r.debug(`Chat UI terminated by signal ${t}`);let n=process.platform==="win32"?1:128+(t==="SIGINT"?2:15);process.exit(n)}else e!==null?(r.debug(`Chat UI exited with code ${e}`),process.exit(e)):(r.debug("Chat UI exited without code or signal"),process.exit(0))}var Q0,eo,Sr,X0,Z0,P$,tw=K(()=>{"use strict";Q0=require("node:child_process"),eo=require("node:fs"),Sr=require("node:path"),X0=require("node:url");je();_r();Z0=(0,Sr.dirname)((0,X0.fileURLToPath)(import_meta_url)),P$=new Z("chat").description("Launch interactive chat UI").addOption(Me).option("-r, --resume <session>","resume specific session").option("--no-history","disable conversation history (messages won't be saved)").option("-o, --output-dir <dir>","set output directory").addHelpText("after",`
Global Options (available with all commands):
  -v, --verbose                 enable verbose output for debugging
  -q, --quiet                   suppress all logs and tool output (minimal output)
  --json                        output structured JSON format
  --profile <profile>           use configuration profile (clean, dev, debug, production, test)
  --config <path>               path to custom config file
  --log-file <path>             write logs to specified file

Examples:
  $ fondation chat
  $ fondation chat --resume session-abc123
  $ fondation chat --model claude-opus-4-20250514
  $ fondation chat --verbose --output-dir ./my-sessions
  
Use "fondation --help" for more information about global options.`).action(async e=>{let t=e._config,r=e._logger;try{let n=D$(t,e),i=$$();if(!(0,eo.existsSync)(i))throw new Error(`Chat UI not found at ${i}`);e.resume&&(await M$(e.resume,t,r)||r.warn(`Session ${e.resume} not found, starting new session`)),r.debug("Spawning chat UI",{devPath:i,env:Object.keys(n).filter(a=>a.startsWith("CLAUDE_"))});let s=(0,Q0.spawn)("bun",["run",i],{stdio:"inherit",env:{...process.env,...n},cwd:process.cwd()});["SIGINT","SIGTERM","SIGTSTP","SIGCONT"].forEach(a=>{process.on(a,()=>{s.killed||s.kill(a)})}),s.on("exit",(a,l)=>{q$(a,l,r)}),s.on("error",a=>{r.error("Failed to launch chat UI",{error:a.message}),process.exit(1)})}catch(n){r.error("Chat command failed",{error:n instanceof Error?n.message:"Unknown error"}),process.exit(1)}})});var bv={};qe(bv,{CORE_SCHEMA:()=>lv,DEFAULT_SCHEMA:()=>cv,FAILSAFE_SCHEMA:()=>ov,JSON_SCHEMA:()=>av,Schema:()=>sv,Type:()=>iv,YAMLException:()=>hv,default:()=>Kj,dump:()=>dv,load:()=>uv,loadAll:()=>fv,safeDump:()=>yv,safeLoad:()=>mv,safeLoadAll:()=>gv,types:()=>pv});function yw(e){return typeof e>"u"||e===null}function j$(e){return typeof e=="object"&&e!==null}function F$(e){return Array.isArray(e)?e:yw(e)?[]:[e]}function R$(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function B$(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function U$(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function bw(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function fi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=bw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function Nu(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Iu(e,t){return ne.repeat(" ",t-e.length)+e}function J$(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Nu(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),u),a=ne.repeat(" ",t.indent)+Iu((e.line-l+1).toString(),f)+" | "+c.str+`
`+a;for(c=Nu(e.buffer,n[o],i[o],e.position,u),a+=ne.repeat(" ",t.indent)+Iu((e.line+1).toString(),f)+" | "+c.str+`
`,a+=ne.repeat("-",t.indent+f+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=Nu(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),u),a+=ne.repeat(" ",t.indent)+Iu((e.line+l+1).toString(),f)+" | "+c.str+`
`;return a.replace(/\n$/,"")}function X$(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function eq(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Z$.indexOf(r)===-1)throw new be('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=X$(t.styleAliases||null),Q$.indexOf(this.kind)===-1)throw new be('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function rw(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function tq(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Du(e){return this.extend(e)}function rq(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function nq(){return null}function iq(e){return e===null}function sq(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function oq(e){return e==="true"||e==="True"||e==="TRUE"}function aq(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function lq(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function cq(e){return 48<=e&&e<=55}function uq(e){return 48<=e&&e<=57}function fq(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!lq(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!cq(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!uq(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function dq(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function hq(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ne.isNegativeZero(e)}function mq(e){return!(e===null||!pq.test(e)||e[e.length-1]==="_")}function gq(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function bq(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ne.isNegativeZero(e))return"-0.0";return r=e.toString(10),yq.test(r)?r.replace("e",".e"):r}function wq(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ne.isNegativeZero(e))}function vq(e){return e===null?!1:Lw.exec(e)!==null||Nw.exec(e)!==null}function _q(e){var t,r,n,i,s,o,a,l=0,c=null,f,u,d;if(t=Lw.exec(e),t===null&&(t=Nw.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],u=+(t[11]||0),c=(f*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function Sq(e){return e.toISOString()}function xq(e){return e==="<<"||e===null}function Cq(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Fu;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Aq(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Fu,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function Oq(e){var t="",r=0,n,i,s=e.length,o=Fu;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Eq(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function Lq(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,Tq.call(i)!=="[object Object]")return!1;for(s in i)if(kq.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Nq(e){return e!==null?e:[]}function Pq(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Iq.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function Dq(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}function $q(e){if(e===null)return!0;var t,r=e;for(t in r)if(Mq.call(r,t)&&r[t]!==null)return!1;return!0}function qq(e){return e!==null?e:{}}function iw(e){return Object.prototype.toString.call(e)}function et(e){return e===10||e===13}function Cr(e){return e===9||e===32}function Ce(e){return e===9||e===32||e===10||e===13}function cn(e){return e===44||e===91||e===93||e===123||e===125}function Uq(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Vq(e){return e===120?2:e===117?4:e===85?8:0}function Kq(e){return 48<=e&&e<=57?e-48:-1}function sw(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Hq(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Wq(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ru,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Kw(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=z$(r),new be(t,r)}function M(e,t){throw Kw(e,t)}function no(e,t){e.onWarning&&e.onWarning.call(null,Kw(e,t))}function Mt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||M(e,"expected valid JSON character");else Fq.test(a)&&M(e,"the stream contains non-printable characters");e.result+=a}}function aw(e,t,r,n){var i,s,o,a;for(ne.isObject(r)||M(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],$t.call(t,s)||(t[s]=r[s],n[s]=!0)}function un(e,t,r,n,i,s,o,a,l){var c,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,f=i.length;c<f;c+=1)Array.isArray(i[c])&&M(e,"nested arrays are not supported inside keys"),typeof i=="object"&&iw(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&iw(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,f=s.length;c<f;c+=1)aw(e,t,s[c],r);else aw(e,t,s,r);else!e.json&&!$t.call(r,i)&&$t.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,M(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function Bu(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):M(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ee(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Cr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(et(i))for(Bu(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&no(e,"deficient indentation"),n}function oo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ce(r)))}function Uu(e,t){t===1?e.result+=" ":t>1&&(e.result+=ne.repeat(`
`,t-1))}function Yq(e,t,r){var n,i,s,o,a,l,c,f,u=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),Ce(h)||cn(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&cn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Ce(i)||r&&cn(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Ce(n))break}else{if(e.position===e.lineStart&&oo(e)||r&&cn(h))break;if(et(h))if(l=e.line,c=e.lineStart,f=e.lineIndent,ee(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=f;break}}a&&(Mt(e,s,o,!1),Uu(e,e.line-l),s=o=e.position,a=!1),Cr(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return Mt(e,s,o,!1),e.result?!0:(e.kind=u,e.result=d,!1)}function Gq(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Mt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else et(r)?(Mt(e,n,i,!0),Uu(e,ee(e,!1,t)),n=i=e.position):e.position===e.lineStart&&oo(e)?M(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);M(e,"unexpected end of the stream within a single quoted scalar")}function Jq(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Mt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Mt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),et(a))ee(e,!1,t);else if(a<256&&Uw[a])e.result+=Vw[a],e.position++;else if((o=Vq(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Uq(a))>=0?s=(s<<4)+o:M(e,"expected hexadecimal character");e.result+=Hq(s),e.position++}else M(e,"unknown escape sequence");r=n=e.position}else et(a)?(Mt(e,r,n,!0),Uu(e,ee(e,!1,t)),r=n=e.position):e.position===e.lineStart&&oo(e)?M(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}M(e,"unexpected end of the stream within a double quoted scalar")}function zq(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,f,u,d,h,p=Object.create(null),m,g,w,y;if(y=e.input.charCodeAt(e.position),y===91)f=93,h=!1,a=[];else if(y===123)f=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(ee(e,!0,t),y=e.input.charCodeAt(e.position),y===f)return e.position++,e.tag=o,e.anchor=l,e.kind=h?"mapping":"sequence",e.result=a,!0;r?y===44&&M(e,"expected the node content, but found ','"):M(e,"missed comma between flow collection entries"),g=m=w=null,u=d=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Ce(c)&&(u=d=!0,e.position++,ee(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,fn(e,t,to,!1,!0),g=e.tag,m=e.result,ee(e,!0,t),y=e.input.charCodeAt(e.position),(d||e.line===n)&&y===58&&(u=!0,y=e.input.charCodeAt(++e.position),ee(e,!0,t),fn(e,t,to,!1,!0),w=e.result),h?un(e,a,p,g,m,w,n,i,s):u?a.push(un(e,null,p,g,m,w,n,i,s)):a.push(m),ee(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}M(e,"unexpected end of the stream within a flow collection")}function Zq(e,t){var r,n,i=Pu,s=!1,o=!1,a=t,l=0,c=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Pu===i?i=u===43?nw:jq:M(e,"repeat of a chomping mode identifier");else if((f=Kq(u))>=0)f===0?M(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?M(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(Cr(u)){do u=e.input.charCodeAt(++e.position);while(Cr(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!et(u)&&u!==0)}for(;u!==0;){for(Bu(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),et(u)){l++;continue}if(e.lineIndent<a){i===nw?e.result+=ne.repeat(`
`,s?1+l:l):i===Pu&&s&&(e.result+=`
`);break}for(n?Cr(u)?(c=!0,e.result+=ne.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=ne.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=ne.repeat(`
`,l):e.result+=ne.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!et(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Mt(e,r,e.position,!1)}return!0}function lw(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,M(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Ce(o))));){if(a=!0,e.position++,ee(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,fn(e,t,Fw,!1,!0),s.push(e.result),ee(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)M(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function Qq(e,t,r){var n,i,s,o,a,l,c=e.tag,f=e.anchor,u={},d=Object.create(null),h=null,p=null,m=null,g=!1,w=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,M(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(y===63||y===58)&&Ce(n))y===63?(g&&(un(e,u,d,h,p,null,o,a,l),h=p=m=null),w=!0,g=!0,i=!0):g?(g=!1,i=!0):M(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(o=e.line,a=e.lineStart,l=e.position,!fn(e,r,jw,!1,!0))break;if(e.line===s){for(y=e.input.charCodeAt(e.position);Cr(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Ce(y)||M(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(un(e,u,d,h,p,null,o,a,l),h=p=m=null),w=!0,g=!1,i=!1,h=e.tag,p=e.result;else if(w)M(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(w)M(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(g&&(o=e.line,a=e.lineStart,l=e.position),fn(e,t,ro,!0,i)&&(g?p=e.result:m=e.result),g||(un(e,u,d,h,p,m,o,a,l),h=p=m=null),ee(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&y!==0)M(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&un(e,u,d,h,p,null,o,a,l),w&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=u),w}function Xq(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&M(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):M(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ce(o);)o===33&&(n?M(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Rw.test(i)||M(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Bq.test(s)&&M(e,"tag suffix cannot contain flow indicator characters")}s&&!Bw.test(s)&&M(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{M(e,"tag name is malformed: "+s)}return r?e.tag=s:$t.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:M(e,'undeclared tag handle "'+i+'"'),!0}function ej(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&M(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ce(r)&&!cn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&M(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function tj(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ce(n)&&!cn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&M(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),$t.call(e.anchorMap,r)||M(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ee(e,!0,-1),!0}function fn(e,t,r,n,i){var s,o,a,l=1,c=!1,f=!1,u,d,h,p,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ro===r||Fw===r,n&&ee(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Xq(e)||ej(e);)ee(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||ro===r)&&(to===r||jw===r?m=t:m=t+1,g=e.position-e.lineStart,l===1?a&&(lw(e,g)||Qq(e,g,m))||zq(e,m)?f=!0:(o&&Zq(e,m)||Gq(e,m)||Jq(e,m)?f=!0:tj(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&M(e,"alias node should not have any properties")):Yq(e,m,to===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&lw(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&M(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(p=e.implicitTypes[u],p.resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($t.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,h=e.typeMap.multi[e.kind||"fallback"],u=0,d=h.length;u<d;u+=1)if(e.tag.slice(0,h[u].tag.length)===h[u].tag){p=h[u];break}p||M(e,"unknown tag !<"+e.tag+">"),e.result!==null&&p.kind!==e.kind&&M(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):M(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function rj(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ee(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&M(e,"directive name must not be less than one character in length");o!==0;){for(;Cr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!et(o));break}if(et(o))break;for(r=e.position;o!==0&&!Ce(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Bu(e),$t.call(ow,n)?ow[n](e,n,i):no(e,'unknown document directive "'+n+'"')}if(ee(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ee(e,!0,-1)):s&&M(e,"directives end mark is expected"),fn(e,e.lineIndent-1,ro,!1,!0),ee(e,!0,-1),e.checkLineBreaks&&Rq.test(e.input.slice(t,e.position))&&no(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&oo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ee(e,!0,-1));return}if(e.position<e.length-1)M(e,"end of the stream or a document separator is expected");else return}function Hw(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Wq(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,M(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)rj(r);return r.documents}function nj(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Hw(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function ij(e,t){var r=Hw(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new be("expected a single document in the stream, but found more")}}function Aj(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&Gw.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function Oj(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new be("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ne.repeat("0",n-t.length)+t}function kj(e){this.schema=e.schema||Ru,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ne.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Aj(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?hi:Ej,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function cw(e,t){for(var r=ne.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function $u(e,t){return`
`+ne.repeat(" ",e.indent*t)}function Tj(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function so(e){return e===cj||e===aj}function pi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Vu||65536<=e&&e<=1114111}function uw(e){return pi(e)&&e!==Vu&&e!==lj&&e!==di}function fw(e,t,r){var n=uw(e),i=n&&!so(e);return(r?n:n&&e!==Jw&&e!==zw&&e!==Zw&&e!==Qw&&e!==Xw)&&e!==Mu&&!(t===io&&!i)||uw(t)&&!so(t)&&e===Mu||t===io&&i}function Lj(e){return pi(e)&&e!==Vu&&!so(e)&&e!==gj&&e!==wj&&e!==io&&e!==Jw&&e!==zw&&e!==Zw&&e!==Qw&&e!==Xw&&e!==Mu&&e!==hj&&e!==mj&&e!==uj&&e!==Sj&&e!==yj&&e!==bj&&e!==pj&&e!==fj&&e!==dj&&e!==vj&&e!==_j}function Nj(e){return!so(e)&&e!==io}function ui(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function ev(e){var t=/^\n* /;return t.test(e)}function Ij(e,t,r,n,i,s,o,a){var l,c=0,f=null,u=!1,d=!1,h=n!==-1,p=-1,m=Lj(ui(e,0))&&Nj(ui(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ui(e,l),!pi(c))return ln;m=m&&fw(c,f,a),f=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ui(e,l),c===di)u=!0,h&&(d=d||l-p-1>n&&e[p+1]!==" ",p=l);else if(!pi(c))return ln;m=m&&fw(c,f,a),f=c}d=d||h&&l-p-1>n&&e[p+1]!==" "}return!u&&!d?m&&!o&&!i(e)?tv:s===hi?ln:qu:r>9&&ev(e)?ln:o?s===hi?ln:qu:d?nv:rv}function Pj(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===hi?'""':"''";if(!e.noCompatMode&&(xj.indexOf(t)!==-1||Cj.test(t)))return e.quotingType===hi?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return Tj(e,c)}switch(Ij(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case tv:return t;case qu:return"'"+t.replace(/'/g,"''")+"'";case rv:return"|"+dw(t,e.indent)+hw(cw(t,s));case nv:return">"+dw(t,e.indent)+hw(cw(Dj(t,o),s));case ln:return'"'+Mj(t)+'"';default:throw new be("impossible error: invalid scalar style")}}()}function dw(e,t){var r=ev(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function hw(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Dj(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,pw(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+pw(l,t),i=s}return n}function pw(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function Mj(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ui(e,i),n=me[r],!n&&pi(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Oj(r);return t}function $j(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(pt(e,t,a,!1,!1)||typeof a>"u"&&pt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function mw(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(pt(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&pt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=$u(e,t)),e.dump&&di===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function qj(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,f;for(o=0,a=s.length;o<a;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),pt(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),pt(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function jj(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,f,u,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new be("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||i!=="")&&(d+=$u(e,t)),c=o[a],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),pt(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&di===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=$u(e,t)),pt(e,t+1,f,!0,u)&&(e.dump&&di===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function gw(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,Yw.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(Gw.call(a.represent,l))n=a.represent[l](t,l);else throw new be("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function pt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,gw(e,r,!1)||gw(e,r,!0);var a=Yw.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,d;if(f&&(u=e.duplicates.indexOf(r),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(jj(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(qj(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?mw(e,t-1,e.dump,i):mw(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):($j(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Pj(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new be("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Fj(e,t){var r=[],n=[],i,s;for(ju(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function ju(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)ju(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)ju(e[n[i]],t,r)}function Rj(e,t){t=t||{};var r=new kj(t);r.noRefs||Fj(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),pt(r,0,n,!0,!0)?r.dump+`
`:""}function Ku(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var V$,K$,H$,W$,Y$,G$,ne,be,z$,Z$,Q$,le,ww,vw,_w,Sw,xw,Cw,Aw,Ow,pq,yq,Ew,kw,Tw,Lw,Nw,Iw,Pw,Fu,Dw,kq,Tq,Mw,Iq,$w,Mq,qw,Ru,$t,to,jw,Fw,ro,Pu,jq,nw,Fq,Rq,Bq,Rw,Bw,Uw,Vw,xr,ow,sj,oj,Ww,Yw,Gw,Vu,aj,di,lj,cj,uj,fj,Mu,dj,hj,pj,mj,Jw,gj,io,yj,bj,wj,vj,zw,Zw,_j,Qw,Sj,Xw,me,xj,Cj,Ej,hi,tv,qu,rv,nv,ln,Bj,Uj,iv,sv,ov,av,lv,cv,uv,fv,dv,hv,pv,mv,gv,yv,Vj,Kj,wv=K(()=>{V$=yw,K$=j$,H$=F$,W$=B$,Y$=U$,G$=R$,ne={isNothing:V$,isObject:K$,toArray:H$,repeat:W$,isNegativeZero:Y$,extend:G$};fi.prototype=Object.create(Error.prototype);fi.prototype.constructor=fi;fi.prototype.toString=function(t){return this.name+": "+bw(this,t)};be=fi;z$=J$,Z$=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Q$=["scalar","sequence","mapping"];le=eq;Du.prototype.extend=function(t){var r=[],n=[];if(t instanceof le)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new be("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof le))throw new be("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new be("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new be("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof le))throw new be("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Du.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=rw(i,"implicit"),i.compiledExplicit=rw(i,"explicit"),i.compiledTypeMap=tq(i.compiledImplicit,i.compiledExplicit),i};ww=Du,vw=new le("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),_w=new le("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Sw=new le("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),xw=new ww({explicit:[vw,_w,Sw]});Cw=new le("tag:yaml.org,2002:null",{kind:"scalar",resolve:rq,construct:nq,predicate:iq,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});Aw=new le("tag:yaml.org,2002:bool",{kind:"scalar",resolve:sq,construct:oq,predicate:aq,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});Ow=new le("tag:yaml.org,2002:int",{kind:"scalar",resolve:fq,construct:dq,predicate:hq,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pq=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");yq=/^[-+]?[0-9]+e/;Ew=new le("tag:yaml.org,2002:float",{kind:"scalar",resolve:mq,construct:gq,predicate:wq,represent:bq,defaultStyle:"lowercase"}),kw=xw.extend({implicit:[Cw,Aw,Ow,Ew]}),Tw=kw,Lw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Nw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");Iw=new le("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vq,construct:_q,instanceOf:Date,represent:Sq});Pw=new le("tag:yaml.org,2002:merge",{kind:"scalar",resolve:xq}),Fu=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;Dw=new le("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Cq,construct:Aq,predicate:Eq,represent:Oq}),kq=Object.prototype.hasOwnProperty,Tq=Object.prototype.toString;Mw=new le("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Lq,construct:Nq}),Iq=Object.prototype.toString;$w=new le("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Pq,construct:Dq}),Mq=Object.prototype.hasOwnProperty;qw=new le("tag:yaml.org,2002:set",{kind:"mapping",resolve:$q,construct:qq}),Ru=Tw.extend({implicit:[Iw,Pw],explicit:[Dw,Mw,$w,qw]}),$t=Object.prototype.hasOwnProperty,to=1,jw=2,Fw=3,ro=4,Pu=1,jq=2,nw=3,Fq=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Rq=/[\x85\u2028\u2029]/,Bq=/[,\[\]\{\}]/,Rw=/^(?:!|!!|![a-z\-]+!)$/i,Bw=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;Uw=new Array(256),Vw=new Array(256);for(xr=0;xr<256;xr++)Uw[xr]=sw(xr)?1:0,Vw[xr]=sw(xr);ow={YAML:function(t,r,n){var i,s,o;t.version!==null&&M(t,"duplication of %YAML directive"),n.length!==1&&M(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&M(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&M(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&no(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&M(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Rw.test(i)||M(t,"ill-formed tag handle (first argument) of the TAG directive"),$t.call(t.tagMap,i)&&M(t,'there is a previously declared suffix for "'+i+'" tag handle'),Bw.test(s)||M(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{M(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};sj=nj,oj=ij,Ww={loadAll:sj,load:oj},Yw=Object.prototype.toString,Gw=Object.prototype.hasOwnProperty,Vu=65279,aj=9,di=10,lj=13,cj=32,uj=33,fj=34,Mu=35,dj=37,hj=38,pj=39,mj=42,Jw=44,gj=45,io=58,yj=61,bj=62,wj=63,vj=64,zw=91,Zw=93,_j=96,Qw=123,Sj=124,Xw=125,me={};me[0]="\\0";me[7]="\\a";me[8]="\\b";me[9]="\\t";me[10]="\\n";me[11]="\\v";me[12]="\\f";me[13]="\\r";me[27]="\\e";me[34]='\\"';me[92]="\\\\";me[133]="\\N";me[160]="\\_";me[8232]="\\L";me[8233]="\\P";xj=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Cj=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;Ej=1,hi=2;tv=1,qu=2,rv=3,nv=4,ln=5;Bj=Rj,Uj={dump:Bj};iv=le,sv=ww,ov=xw,av=kw,lv=Tw,cv=Ru,uv=Ww.load,fv=Ww.loadAll,dv=Uj.dump,hv=be,pv={binary:Dw,float:Ew,map:Sw,null:Cw,pairs:$w,set:qw,timestamp:Iw,bool:Aw,int:Ow,merge:Pw,omap:Mw,seq:_w,str:vw},mv=Ku("safeLoad","load"),gv=Ku("safeLoadAll","loadAll"),yv=Ku("safeDump","dump"),Vj={Type:iv,Schema:sv,FAILSAFE_SCHEMA:ov,JSON_SCHEMA:av,CORE_SCHEMA:lv,DEFAULT_SCHEMA:cv,load:uv,loadAll:fv,dump:dv,YAMLException:hv,types:pv,safeLoad:mv,safeLoadAll:gv,safeDump:yv},Kj=Vj});var xv={};qe(xv,{configCommand:()=>Wj});async function Yj(e,t){let r=t.format||"yaml",n=`.fondation.${r}`,i=(0,Hu.resolve)(process.cwd(),n);(0,vv.existsSync)(i)&&!t.force&&(e.error(`Configuration file already exists: ${n}`),e.info("Use --force to overwrite"),process.exit(1));let s={model:"claude-sonnet-4-20250514",outputDir:".claude-output",temperature:.7,maxOutputTokens:4096,logMessages:!1,verbose:!1,tools:["Read","Write","Edit","MultiEdit","Bash","Glob","Grep","LS"],sandbox:"none",profiles:{dev:{verbose:!0,logMessages:!0},production:{model:"claude-opus-4-20250514",temperature:.3,sandbox:"docker"}}},o;r==="yaml"?o=`# Claude Prompts CLI Configuration
# Generated by: fondation config init

${(await Promise.resolve().then(()=>(wv(),bv))).dump(s)}`:o=JSON.stringify(s,null,2),await(0,_v.writeFile)(i,o,"utf-8"),e.info(`Configuration file created: ${n}`),e.info("Edit this file to customize your settings")}async function Gj(e,t,r){let n=e.split("."),i=t;for(let s of n)i&&typeof i=="object"&&s in i?i=i[s]:(r.error(`Configuration key not found: ${e}`),process.exit(1))}async function Jj(e,t){if(t.file){let n=await(0,Sv.cosmiconfig)("fondation").load((0,Hu.resolve)(process.cwd(),t.file));n||(e.error(`Configuration file not found: ${t.file}`),process.exit(1));try{Hj.parse(n.config),e.info("Configuration is valid")}catch(i){if(i instanceof S.ZodError){e.error("Configuration validation failed:");for(let s of i.issues)e.error(`  ${s.path.join(".")}: ${s.message}`)}else e.error("Unknown validation error");process.exit(1)}}else e.info("Using built-in defaults - no file validation needed")}var vv,_v,Hu,Sv,Hj,Wj,Cv=K(()=>{"use strict";vv=require("node:fs"),_v=require("node:fs/promises"),Hu=require("node:path");je();Sv=bt(Il(),1);Tt();Vl();Hj=S.object({model:S.enum(["claude-sonnet-4-20250514","claude-opus-4-20250514"]).optional(),outputDir:S.string().optional(),temperature:S.number().min(0).max(1).optional(),maxOutputTokens:S.number().positive().optional(),logMessages:S.boolean().optional(),verbose:S.boolean().optional(),tools:S.array(S.string()).optional(),profiles:S.record(S.string(),S.any()).optional()}),Wj=new Z("config").description("Manage CLI configuration").addCommand(new Z("init").description("Create a new configuration file").option("-f, --format <format>","config file format","yaml").option("--force","overwrite existing config").action(async(e,t)=>{let r=t.optsWithGlobals()._logger;await Yj(r,e)})).addCommand(new Z("show").description("Display current configuration").option("--json","output as JSON").option("--show-defaults","show built-in default values").action(async(e,t)=>{let r=t.parent?.parent?.opts()||{},n=t.optsWithGlobals()._config,i={configPath:r.config,profile:r.profile,cliOptions:{...r,...e}};e.json?process.stdout.write(`${JSON.stringify(n,null,2)}
`):_m(n,i),e.showDefaults})).addCommand(new Z("get").description("Get a configuration value").argument("<key>","configuration key").action(async(e,t,r)=>{let n=r.optsWithGlobals()._config,i=r.optsWithGlobals()._logger;await Gj(e,n,i)})).addCommand(new Z("validate").description("Validate configuration file").option("-f, --file <path>","config file path").action(async(e,t)=>{let r=t.optsWithGlobals()._logger;await Jj(r,e)}))});var Ev={};qe(Ev,{versionCommand:()=>Zj});function Qj(){return"Using defaults (no filesystem search)"}function Xj(e,t){t.info(`
${e.cli.name} v${e.cli.version}`),t.info(e.cli.description),t.info(`
Runtime: ${e.runtime.type} ${e.runtime.version}`),t.info(`Platform: ${e.environment.platform} ${e.environment.arch}`),t.info(`Working Directory: ${e.environment.cwd}`),t.info(`
Configuration:`),t.info(`  Model: ${e.configuration.model}`),t.info(`  Output Directory: ${e.configuration.outputDir}`),t.info(`  Config: ${e.configuration.configLocation}`),t.info(`
Available Models:`),e.models.available.forEach(r=>{let n=r===e.models.current?" (current)":"";t.info(`  - ${r}${n}`)}),t.info(`
Key Dependencies:`),Object.entries(e.dependencies).forEach(([r,n])=>{t.info(`  ${r}: ${n}`)})}async function e2(e,t,r){r.info(`
Checking for updates...`);try{let n=await fetch(`https://registry.npmjs.org/${e}/latest`);if(!n.ok){r.warn("Unable to check for updates");return}let s=(await n.json()).version;s===t?r.info(`You are running the latest version (${t})`):(r.warn(`Update available: ${t} \u2192 ${s}`),r.info(`Run: npm update -g ${e}`))}catch(n){r.warn("Unable to check for updates"),r.debug("Update check error:",n)}}var Av,ao,Ov,zj,Zj,kv=K(()=>{"use strict";Av=require("node:fs"),ao=require("node:path"),Ov=require("node:url");je();zj=(0,ao.dirname)((0,Ov.fileURLToPath)(import_meta_url)),Zj=new Z("version").description("Display version and environment information").option("--check-updates","check for available updates").action(async(e,t)=>{let r=t.optsWithGlobals()._config,n=t.optsWithGlobals()._logger,i=t.optsWithGlobals().json,s=JSON.parse((0,Av.readFileSync)((0,ao.join)(zj,"../../../package.json"),"utf-8")),o={cli:{name:s.name,version:s.version,description:s.description},runtime:{type:process.versions.bun?"Bun":"Node.js",version:process.versions.bun||process.version},environment:{platform:process.platform,arch:process.arch,cwd:process.cwd()},configuration:{model:r.model,outputDir:r.outputDir,configLocation:Qj()},models:{available:["claude-sonnet-4-20250514","claude-opus-4-20250514"],current:r.model},dependencies:{"@anthropic-ai/claude-code":s.dependencies["@anthropic-ai/claude-code"]||"unknown",commander:s.dependencies.commander||"unknown",zod:s.dependencies.zod||"unknown"}};i?process.stdout.write(`${JSON.stringify(o,null,2)}
`):Xj(o,n),e.checkUpdates&&await e2(s.name,s.version,n)})});var W=b(ce=>{"use strict";var Wu=Symbol.for("yaml.alias"),Tv=Symbol.for("yaml.document"),lo=Symbol.for("yaml.map"),Lv=Symbol.for("yaml.pair"),Yu=Symbol.for("yaml.scalar"),co=Symbol.for("yaml.seq"),mt=Symbol.for("yaml.node.type"),t2=e=>!!e&&typeof e=="object"&&e[mt]===Wu,r2=e=>!!e&&typeof e=="object"&&e[mt]===Tv,n2=e=>!!e&&typeof e=="object"&&e[mt]===lo,i2=e=>!!e&&typeof e=="object"&&e[mt]===Lv,Nv=e=>!!e&&typeof e=="object"&&e[mt]===Yu,s2=e=>!!e&&typeof e=="object"&&e[mt]===co;function Iv(e){if(e&&typeof e=="object")switch(e[mt]){case lo:case co:return!0}return!1}function o2(e){if(e&&typeof e=="object")switch(e[mt]){case Wu:case lo:case Yu:case co:return!0}return!1}var a2=e=>(Nv(e)||Iv(e))&&!!e.anchor;ce.ALIAS=Wu;ce.DOC=Tv;ce.MAP=lo;ce.NODE_TYPE=mt;ce.PAIR=Lv;ce.SCALAR=Yu;ce.SEQ=co;ce.hasAnchor=a2;ce.isAlias=t2;ce.isCollection=Iv;ce.isDocument=r2;ce.isMap=n2;ce.isNode=o2;ce.isPair=i2;ce.isScalar=Nv;ce.isSeq=s2});var mi=b(Gu=>{"use strict";var ie=W(),Ae=Symbol("break visit"),Pv=Symbol("skip children"),tt=Symbol("remove node");function uo(e,t){let r=Dv(t);ie.isDocument(e)?dn(null,e.contents,r,Object.freeze([e]))===tt&&(e.contents=null):dn(null,e,r,Object.freeze([]))}uo.BREAK=Ae;uo.SKIP=Pv;uo.REMOVE=tt;function dn(e,t,r,n){let i=Mv(e,t,r,n);if(ie.isNode(i)||ie.isPair(i))return $v(e,n,i),dn(e,i,r,n);if(typeof i!="symbol"){if(ie.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=dn(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===Ae)return Ae;o===tt&&(t.items.splice(s,1),s-=1)}}}else if(ie.isPair(t)){n=Object.freeze(n.concat(t));let s=dn("key",t.key,r,n);if(s===Ae)return Ae;s===tt&&(t.key=null);let o=dn("value",t.value,r,n);if(o===Ae)return Ae;o===tt&&(t.value=null)}}return i}async function fo(e,t){let r=Dv(t);ie.isDocument(e)?await hn(null,e.contents,r,Object.freeze([e]))===tt&&(e.contents=null):await hn(null,e,r,Object.freeze([]))}fo.BREAK=Ae;fo.SKIP=Pv;fo.REMOVE=tt;async function hn(e,t,r,n){let i=await Mv(e,t,r,n);if(ie.isNode(i)||ie.isPair(i))return $v(e,n,i),hn(e,i,r,n);if(typeof i!="symbol"){if(ie.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=await hn(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===Ae)return Ae;o===tt&&(t.items.splice(s,1),s-=1)}}}else if(ie.isPair(t)){n=Object.freeze(n.concat(t));let s=await hn("key",t.key,r,n);if(s===Ae)return Ae;s===tt&&(t.key=null);let o=await hn("value",t.value,r,n);if(o===Ae)return Ae;o===tt&&(t.value=null)}}return i}function Dv(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Mv(e,t,r,n){if(typeof r=="function")return r(e,t,n);if(ie.isMap(t))return r.Map?.(e,t,n);if(ie.isSeq(t))return r.Seq?.(e,t,n);if(ie.isPair(t))return r.Pair?.(e,t,n);if(ie.isScalar(t))return r.Scalar?.(e,t,n);if(ie.isAlias(t))return r.Alias?.(e,t,n)}function $v(e,t,r){let n=t[t.length-1];if(ie.isCollection(n))n.items[e]=r;else if(ie.isPair(n))e==="key"?n.key=r:n.value=r;else if(ie.isDocument(n))n.contents=r;else{let i=ie.isAlias(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}Gu.visit=uo;Gu.visitAsync=fo});var Ju=b(jv=>{"use strict";var qv=W(),l2=mi(),c2={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},u2=e=>e.replace(/[!,[\]{}]/g,t=>c2[t]),gi=class e{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},e.defaultYaml,t),this.tags=Object.assign({},e.defaultTags,r)}clone(){let t=new e(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},e.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},e.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return r(6,`Unsupported YAML version ${s}`,o),!1}}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){let o=t.slice(2,-1);return o==="!"||o==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}let[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r(`The ${t} tag has no suffix`);let s=this.tags[n];if(s)try{return s+decodeURIComponent(i)}catch(o){return r(String(o)),null}return n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+u2(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&qv.isNode(t.contents)){let s={};l2.visit(t.contents,(o,a)=>{qv.isNode(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&r.push(`%TAG ${s} ${o}`);return r.join(`
`)}};gi.defaultYaml={explicit:!1,version:"1.2"};gi.defaultTags={"!!":"tag:yaml.org,2002:"};jv.Directives=gi});var ho=b(yi=>{"use strict";var Fv=W(),f2=mi();function d2(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function Rv(e){let t=new Set;return f2.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function Bv(e,t){for(let r=1;;++r){let n=`${e}${r}`;if(!t.has(n))return n}}function h2(e,t){let r=[],n=new Map,i=null;return{onAnchor:s=>{r.push(s),i??(i=Rv(e));let o=Bv(t,i);return i.add(o),o},setAnchors:()=>{for(let s of r){let o=n.get(s);if(typeof o=="object"&&o.anchor&&(Fv.isScalar(o.node)||Fv.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:n}}yi.anchorIsValid=d2;yi.anchorNames=Rv;yi.createNodeAnchors=h2;yi.findNewAnchor=Bv});var zu=b(Uv=>{"use strict";function bi(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){let o=n[i],a=bi(e,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let s=n.get(i),o=bi(e,n,i,s);o===void 0?n.delete(i):o!==s&&n.set(i,o)}else if(n instanceof Set)for(let i of Array.from(n)){let s=bi(e,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(let[i,s]of Object.entries(n)){let o=bi(e,n,i,s);o===void 0?delete n[i]:o!==s&&(n[i]=o)}return e.call(t,r,n)}Uv.applyReviver=bi});var qt=b(Kv=>{"use strict";var p2=W();function Vv(e,t,r){if(Array.isArray(e))return e.map((n,i)=>Vv(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!p2.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=s=>{n.res=s,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!r?.keep?Number(e):e}Kv.toJS=Vv});var po=b(Wv=>{"use strict";var m2=zu(),Hv=W(),g2=qt(),Zu=class{constructor(t){Object.defineProperty(this,Hv.NODE_TYPE,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!Hv.isDocument(t))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=g2.toJS(this,"",o);if(typeof i=="function")for(let{count:l,res:c}of o.anchors.values())i(c,l);return typeof s=="function"?m2.applyReviver(s,{"":a},"",a):a}};Wv.NodeBase=Zu});var wi=b(Yv=>{"use strict";var y2=ho(),b2=mi(),pn=W(),w2=po(),v2=qt(),Qu=class extends w2.NodeBase{constructor(t){super(pn.ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,r){let n;r?.aliasResolveCache?n=r.aliasResolveCache:(n=[],b2.visit(t,{Node:(s,o)=>{(pn.isAlias(o)||pn.hasAnchor(o))&&n.push(o)}}),r&&(r.aliasResolveCache=n));let i;for(let s of n){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:s}=r,o=this.resolve(i,r);if(!o){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(v2.toJS(o,null,r),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=mo(i,o,n)),a.count*a.aliasCount>s)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(y2.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}};function mo(e,t,r){if(pn.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(pn.isCollection(t)){let n=0;for(let i of t.items){let s=mo(e,i,r);s>n&&(n=s)}return n}else if(pn.isPair(t)){let n=mo(e,t.key,r),i=mo(e,t.value,r);return Math.max(n,i)}return 1}Yv.Alias=Qu});var te=b(Xu=>{"use strict";var _2=W(),S2=po(),x2=qt(),C2=e=>!e||typeof e!="function"&&typeof e!="object",jt=class extends S2.NodeBase{constructor(t){super(_2.SCALAR),this.value=t}toJSON(t,r){return r?.keep?this.value:x2.toJS(this.value,t,r)}toString(){return String(this.value)}};jt.BLOCK_FOLDED="BLOCK_FOLDED";jt.BLOCK_LITERAL="BLOCK_LITERAL";jt.PLAIN="PLAIN";jt.QUOTE_DOUBLE="QUOTE_DOUBLE";jt.QUOTE_SINGLE="QUOTE_SINGLE";Xu.Scalar=jt;Xu.isScalarValue=C2});var vi=b(Jv=>{"use strict";var A2=wi(),Ar=W(),Gv=te(),O2="tag:yaml.org,2002:";function E2(e,t,r){if(t){let n=r.filter(s=>s.tag===t),i=n.find(s=>!s.format)??n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>n.identify?.(e)&&!n.format)}function k2(e,t,r){if(Ar.isDocument(e)&&(e=e.contents),Ar.isNode(e))return e;if(Ar.isPair(e)){let u=r.schema[Ar.MAP].createNode?.(r.schema,null,r);return u.items.push(e),u}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=r,l;if(n&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new A2.Alias(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=O2+t.slice(2));let c=E2(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let u=new Gv.Scalar(e);return l&&(l.node=u),u}c=e instanceof Map?o[Ar.MAP]:Symbol.iterator in Object(e)?o[Ar.SEQ]:o[Ar.MAP]}s&&(s(c),delete r.onTagObj);let f=c?.createNode?c.createNode(r.schema,e,r):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(r.schema,e,r):new Gv.Scalar(e);return t?f.tag=t:c.default||(f.tag=c.tag),l&&(l.node=f),f}Jv.createNode=k2});var yo=b(go=>{"use strict";var T2=vi(),rt=W(),L2=po();function ef(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return T2.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var zv=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,tf=class extends L2.NodeBase{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>rt.isNode(n)||rt.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(zv(t))this.add(r);else{let[n,...i]=t,s=this.get(n,!0);if(rt.isCollection(s))s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,ef(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(rt.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,s=this.get(n,!0);return i.length===0?!r&&rt.isScalar(s)?s.value:s:rt.isCollection(s)?s.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!rt.isPair(r))return!1;let n=r.value;return n==null||t&&rt.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return rt.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let s=this.get(n,!0);if(rt.isCollection(s))s.setIn(i,r);else if(s===void 0&&this.schema)this.set(n,ef(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};go.Collection=tf;go.collectionFromPath=ef;go.isEmptyPath=zv});var _i=b(bo=>{"use strict";var N2=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function rf(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var I2=(e,t,r)=>e.endsWith(`
`)?rf(r,t):r.includes(`
`)?`
`+rf(r,t):(e.endsWith(" ")?"":" ")+r;bo.indentComment=rf;bo.lineComment=I2;bo.stringifyComment=N2});var Qv=b(Si=>{"use strict";var P2="flow",nf="block",wo="quoted";function D2(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);let l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;let c=[],f={},u=i-t.length;typeof n=="number"&&(n>i-Math.max(2,s)?c.push(0):u=i-n);let d,h,p=!1,m=-1,g=-1,w=-1;r===nf&&(m=Zv(e,m,t.length),m!==-1&&(u=m+l));for(let v;v=e[m+=1];){if(r===wo&&v==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}w=m}if(v===`
`)r===nf&&(m=Zv(e,m,t.length)),u=m+t.length+l,d=void 0;else{if(v===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){let _=e[m+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(d=m)}if(m>=u)if(d)c.push(d),u=d+l,d=void 0;else if(r===wo){for(;h===" "||h==="	";)h=v,v=e[m+=1],p=!0;let _=m>w+1?m-2:g-1;if(f[_])return e;c.push(_),f[_]=!0,u=_+l,d=void 0}else p=!0}h=v}if(p&&a&&a(),c.length===0)return e;o&&o();let y=e.slice(0,c[0]);for(let v=0;v<c.length;++v){let _=c[v],C=c[v+1]||e.length;_===0?y=`
${t}${e.slice(0,C)}`:(r===wo&&f[_]&&(y+=`${e[_]}\\`),y+=`
${t}${e.slice(_+1,C)}`)}return y}function Zv(e,t,r){let n=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+r)s=e[++t];else{do s=e[++t];while(s&&s!==`
`);n=t,i=t+1,s=e[i]}return n}Si.FOLD_BLOCK=nf;Si.FOLD_FLOW=P2;Si.FOLD_QUOTED=wo;Si.foldFlowLines=D2});var Ci=b(Xv=>{"use strict";var Ue=te(),Ft=Qv(),_o=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),So=e=>/^(%|---|\.\.\.)/m.test(e);function M2(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function xi(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(So(e)?"  ":""),o="",a=0;for(let l=0,c=r[l];c;c=r[++l])if(c===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(o+=r.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(r[l+1]){case"u":{o+=r.slice(a,l);let f=r.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=r.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<i)l+=1;else{for(o+=r.slice(a,l)+`

`;r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)o+=`
`,l+=2;o+=s,r[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+r.slice(a):r,n?o:Ft.foldFlowLines(o,s,Ft.FOLD_QUOTED,_o(t,!1))}function sf(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return xi(e,t);let r=t.indent||(So(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:Ft.foldFlowLines(n,r,Ft.FOLD_FLOW,_o(t,!1))}function mn(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=xi;else{let i=e.includes('"'),s=e.includes("'");i&&!s?n=sf:s&&!i?n=xi:n=r?sf:xi}return n(e,t)}var of;try{of=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{of=/\n+(?!\n|$)/g}function vo({comment:e,type:t,value:r},n,i,s){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return mn(r,n);let c=n.indent||(n.forceBlockIndent||So(r)?"  ":""),f=o==="literal"?!0:o==="folded"||t===Ue.Scalar.BLOCK_FOLDED?!1:t===Ue.Scalar.BLOCK_LITERAL?!0:!M2(r,l,c.length);if(!r)return f?`|
`:`>
`;let u,d;for(d=r.length;d>0;--d){let C=r[d-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let h=r.substring(d),p=h.indexOf(`
`);p===-1?u="-":r===h||p!==h.length-1?(u="+",s&&s()):u="",h&&(r=r.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(of,`$&${c}`));let m=!1,g,w=-1;for(g=0;g<r.length;++g){let C=r[g];if(C===" ")m=!0;else if(C===`
`)w=g;else break}let y=r.substring(0,w<g?w+1:g);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${c}`));let _=(m?c?"2":"1":"")+u;if(e&&(_+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!f){let C=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`),E=!1,I=_o(n,!0);o!=="folded"&&t!==Ue.Scalar.BLOCK_FOLDED&&(I.onOverflow=()=>{E=!0});let A=Ft.foldFlowLines(`${y}${C}${h}`,c,Ft.FOLD_BLOCK,I);if(!E)return`>${_}
${c}${A}`}return r=r.replace(/\n+/g,`$&${c}`),`|${_}
${c}${y}${r}${h}`}function $2(e,t,r,n){let{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:f}=t;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return mn(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?mn(s,t):vo(e,t,r,n);if(!a&&!f&&i!==Ue.Scalar.PLAIN&&s.includes(`
`))return vo(e,t,r,n);if(So(s)){if(l==="")return t.forceBlockIndent=!0,vo(e,t,r,n);if(a&&l===c)return mn(s,t)}let u=s.replace(/\n+/g,`$&
${l}`);if(o){let d=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(u),{compat:h,tags:p}=t.doc.schema;if(p.some(d)||h?.some(d))return mn(s,t)}return a?u:Ft.foldFlowLines(u,l,Ft.FOLD_FLOW,_o(t,!1))}function q2(e,t,r,n){let{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==Ue.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Ue.Scalar.QUOTE_DOUBLE);let l=f=>{switch(f){case Ue.Scalar.BLOCK_FOLDED:case Ue.Scalar.BLOCK_LITERAL:return i||s?mn(o.value,t):vo(o,t,r,n);case Ue.Scalar.QUOTE_DOUBLE:return xi(o.value,t);case Ue.Scalar.QUOTE_SINGLE:return sf(o.value,t);case Ue.Scalar.PLAIN:return $2(o,t,r,n);default:return null}},c=l(a);if(c===null){let{defaultKeyType:f,defaultStringType:u}=t.options,d=i&&f||u;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}Xv.stringifyString=q2});var Ai=b(af=>{"use strict";var j2=ho(),Rt=W(),F2=_i(),R2=Ci();function B2(e,t){let r=Object.assign({blockQuote:!0,commentString:F2.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function U2(e,t){if(t.tag){let i=e.filter(s=>s.tag===t.tag);if(i.length>0)return i.find(s=>s.format===t.format)??i[0]}let r,n;if(Rt.isScalar(t)){n=t.value;let i=e.filter(s=>s.identify?.(n));if(i.length>1){let s=i.filter(o=>o.test);s.length>0&&(i=s)}r=i.find(s=>s.format===t.format)??i.find(s=>!s.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n?.constructor?.name??(n===null?"null":typeof n);throw new Error(`Tag not resolved for ${i} value`)}return r}function V2(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],s=(Rt.isScalar(e)||Rt.isCollection(e))&&e.anchor;s&&j2.anchorIsValid(s)&&(r.add(s),i.push(`&${s}`));let o=e.tag??(t.default?null:t.tag);return o&&i.push(n.directives.tagString(o)),i.join(" ")}function K2(e,t,r,n){if(Rt.isPair(e))return e.toString(t,r,n);if(Rt.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i,s=Rt.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=U2(t.doc.schema.tags,s));let o=V2(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,t,r,n):Rt.isScalar(s)?R2.stringifyString(s,t,r,n):s.toString(t,r,n);return o?Rt.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}af.createStringifyContext=B2;af.stringify=K2});var n_=b(r_=>{"use strict";var gt=W(),e_=te(),t_=Ai(),Oi=_i();function H2({key:e,value:t},r,n,i){let{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:u}}=r,d=gt.isNode(e)&&e.comment||null;if(u){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(gt.isCollection(e)||!gt.isNode(e)&&typeof e=="object"){let I="With simple keys, collection cannot be used as a key value";throw new Error(I)}}let h=!u&&(!e||d&&t==null&&!r.inFlow||gt.isCollection(e)||(gt.isScalar(e)?e.type===e_.Scalar.BLOCK_FOLDED||e.type===e_.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!h&&(u||!s),indent:a+l});let p=!1,m=!1,g=t_.stringify(e,r,()=>p=!0,()=>m=!0);if(!h&&!r.inFlow&&g.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(r.inFlow){if(s||t==null)return p&&n&&n(),g===""?"?":h?`? ${g}`:g}else if(s&&!u||t==null&&h)return g=`? ${g}`,d&&!p?g+=Oi.lineComment(g,r.indent,c(d)):m&&i&&i(),g;p&&(d=null),h?(d&&(g+=Oi.lineComment(g,r.indent,c(d))),g=`? ${g}
${a}:`):(g=`${g}:`,d&&(g+=Oi.lineComment(g,r.indent,c(d))));let w,y,v;gt.isNode(t)?(w=!!t.spaceBefore,y=t.commentBefore,v=t.comment):(w=!1,y=null,v=null,t&&typeof t=="object"&&(t=o.createNode(t))),r.implicitKey=!1,!h&&!d&&gt.isScalar(t)&&(r.indentAtStart=g.length+1),m=!1,!f&&l.length>=2&&!r.inFlow&&!h&&gt.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let _=!1,C=t_.stringify(t,r,()=>_=!0,()=>m=!0),E=" ";if(d||w||y){if(E=w?`
`:"",y){let I=c(y);E+=`
${Oi.indentComment(I,r.indent)}`}C===""&&!r.inFlow?E===`
`&&(E=`

`):E+=`
${r.indent}`}else if(!h&&gt.isCollection(t)){let I=C[0],A=C.indexOf(`
`),k=A!==-1,F=r.inFlow??t.flow??t.items.length===0;if(k||!F){let G=!1;if(k&&(I==="&"||I==="!")){let $=C.indexOf(" ");I==="&"&&$!==-1&&$<A&&C[$+1]==="!"&&($=C.indexOf(" ",$+1)),($===-1||A<$)&&(G=!0)}G||(E=`
${r.indent}`)}}else(C===""||C[0]===`
`)&&(E="");return g+=E+C,r.inFlow?_&&n&&n():v&&!_?g+=Oi.lineComment(g,r.indent,c(v)):m&&i&&i(),g}r_.stringifyPair=H2});var cf=b(lf=>{"use strict";var i_=require("process");function W2(e,...t){e==="debug"&&console.log(...t)}function Y2(e,t){(e==="debug"||e==="warn")&&(typeof i_.emitWarning=="function"?i_.emitWarning(t):console.warn(t))}lf.debug=W2;lf.warn=Y2});var Oo=b(Ao=>{"use strict";var Ei=W(),s_=te(),xo="<<",Co={identify:e=>e===xo||typeof e=="symbol"&&e.description===xo,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new s_.Scalar(Symbol(xo)),{addToJSMap:o_}),stringify:()=>xo},G2=(e,t)=>(Co.identify(t)||Ei.isScalar(t)&&(!t.type||t.type===s_.Scalar.PLAIN)&&Co.identify(t.value))&&e?.doc.schema.tags.some(r=>r.tag===Co.tag&&r.default);function o_(e,t,r){if(r=e&&Ei.isAlias(r)?r.resolve(e.doc):r,Ei.isSeq(r))for(let n of r.items)uf(e,t,n);else if(Array.isArray(r))for(let n of r)uf(e,t,n);else uf(e,t,r)}function uf(e,t,r){let n=e&&Ei.isAlias(r)?r.resolve(e.doc):r;if(!Ei.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}Ao.addMergeToJSMap=o_;Ao.isMergeKey=G2;Ao.merge=Co});var df=b(c_=>{"use strict";var J2=cf(),a_=Oo(),z2=Ai(),l_=W(),ff=qt();function Z2(e,t,{key:r,value:n}){if(l_.isNode(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(a_.isMergeKey(e,r))a_.addMergeToJSMap(e,t,n);else{let i=ff.toJS(r,"",e);if(t instanceof Map)t.set(i,ff.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let s=Q2(r,i,e),o=ff.toJS(n,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function Q2(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(l_.isNode(e)&&r?.doc){let n=z2.createStringifyContext(r.doc,{});n.anchors=new Set;for(let s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),J2.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}c_.addPairToJSMap=Z2});var Bt=b(hf=>{"use strict";var u_=vi(),X2=n_(),eF=df(),Eo=W();function tF(e,t,r){let n=u_.createNode(e,void 0,r),i=u_.createNode(t,void 0,r);return new ko(n,i)}var ko=class e{constructor(t,r=null){Object.defineProperty(this,Eo.NODE_TYPE,{value:Eo.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return Eo.isNode(r)&&(r=r.clone(t)),Eo.isNode(n)&&(n=n.clone(t)),new e(r,n)}toJSON(t,r){let n=r?.mapAsMap?new Map:{};return eF.addPairToJSMap(r,n,this)}toString(t,r,n){return t?.doc?X2.stringifyPair(this,t,r,n):JSON.stringify(this)}};hf.Pair=ko;hf.createPair=tF});var pf=b(d_=>{"use strict";var Or=W(),f_=Ai(),To=_i();function rF(e,t,r){return(t.inFlow??e.flow?iF:nF)(e,t,r)}function nF({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:c}}=r,f=Object.assign({},r,{indent:s,type:null}),u=!1,d=[];for(let p=0;p<t.length;++p){let m=t[p],g=null;if(Or.isNode(m))!u&&m.spaceBefore&&d.push(""),Lo(r,d,m.commentBefore,u),m.comment&&(g=m.comment);else if(Or.isPair(m)){let y=Or.isNode(m.key)?m.key:null;y&&(!u&&y.spaceBefore&&d.push(""),Lo(r,d,y.commentBefore,u))}u=!1;let w=f_.stringify(m,f,()=>g=null,()=>u=!0);g&&(w+=To.lineComment(w,s,c(g))),u&&g&&(u=!1),d.push(n+w)}let h;if(d.length===0)h=i.start+i.end;else{h=d[0];for(let p=1;p<d.length;++p){let m=d[p];h+=m?`
${l}${m}`:`
`}}return e?(h+=`
`+To.indentComment(c(e),l),a&&a()):u&&o&&o(),h}function iF({items:e},t,{flowChars:r,itemIndent:n}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;n+=s;let l=Object.assign({},t,{indent:n,inFlow:!0,type:null}),c=!1,f=0,u=[];for(let p=0;p<e.length;++p){let m=e[p],g=null;if(Or.isNode(m))m.spaceBefore&&u.push(""),Lo(t,u,m.commentBefore,!1),m.comment&&(g=m.comment);else if(Or.isPair(m)){let y=Or.isNode(m.key)?m.key:null;y&&(y.spaceBefore&&u.push(""),Lo(t,u,y.commentBefore,!1),y.comment&&(c=!0));let v=Or.isNode(m.value)?m.value:null;v?(v.comment&&(g=v.comment),v.commentBefore&&(c=!0)):m.value==null&&y?.comment&&(g=y.comment)}g&&(c=!0);let w=f_.stringify(m,l,()=>g=null);p<e.length-1&&(w+=","),g&&(w+=To.lineComment(w,n,a(g))),!c&&(u.length>f||w.includes(`
`))&&(c=!0),u.push(w),f=u.length}let{start:d,end:h}=r;if(u.length===0)return d+h;if(!c){let p=u.reduce((m,g)=>m+g.length+2,2);c=t.options.lineWidth>0&&p>t.options.lineWidth}if(c){let p=d;for(let m of u)p+=m?`
${s}${i}${m}`:`
`;return`${p}
${i}${h}`}else return`${d}${o}${u.join(" ")}${o}${h}`}function Lo({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let s=To.indentComment(t(n),e);r.push(s.trimStart())}}d_.stringifyCollection=rF});var Vt=b(gf=>{"use strict";var sF=pf(),oF=df(),aF=yo(),Ut=W(),No=Bt(),lF=te();function ki(e,t){let r=Ut.isScalar(t)?t.value:t;for(let n of e)if(Ut.isPair(n)&&(n.key===t||n.key===r||Ut.isScalar(n.key)&&n.key.value===r))return n}var mf=class extends aF.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Ut.MAP,t),this.items=[]}static from(t,r,n){let{keepUndefined:i,replacer:s}=n,o=new this(t),a=(l,c)=>{if(typeof s=="function")c=s.call(r,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||i)&&o.items.push(No.createPair(l,c,n))};if(r instanceof Map)for(let[l,c]of r)a(l,c);else if(r&&typeof r=="object")for(let l of Object.keys(r))a(l,r[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,r){let n;Ut.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new No.Pair(t,t?.value):n=new No.Pair(t.key,t.value);let i=ki(this.items,n.key),s=this.schema?.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Ut.isScalar(i.value)&&lF.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(s){let o=this.items.findIndex(a=>s(n,a)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(t){let r=ki(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let i=ki(this.items,t)?.value;return(!r&&Ut.isScalar(i)?i.value:i)??void 0}has(t){return!!ki(this.items,t)}set(t,r){this.add(new No.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(let s of this.items)oF.addPairToJSMap(r,i,s);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!Ut.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),sF.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};gf.YAMLMap=mf;gf.findPair=ki});var gn=b(p_=>{"use strict";var cF=W(),h_=Vt(),uF={collection:"map",default:!0,nodeClass:h_.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return cF.isMap(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>h_.YAMLMap.from(e,t,r)};p_.map=uF});var Kt=b(m_=>{"use strict";var fF=vi(),dF=pf(),hF=yo(),Po=W(),pF=te(),mF=qt(),yf=class extends hF.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Po.SEQ,t),this.items=[]}add(t){this.items.push(t)}delete(t){let r=Io(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=Io(t);if(typeof n!="number")return;let i=this.items[n];return!r&&Po.isScalar(i)?i.value:i}has(t){let r=Io(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=Io(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);let i=this.items[n];Po.isScalar(i)&&pF.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(mF.toJS(s,String(i++),r));return n}toString(t,r,n){return t?dF.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r)){let o=0;for(let a of r){if(typeof i=="function"){let l=r instanceof Set?a:String(o++);a=i.call(r,l,a)}s.items.push(fF.createNode(a,void 0,n))}}return s}};function Io(e){let t=Po.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}m_.YAMLSeq=yf});var yn=b(y_=>{"use strict";var gF=W(),g_=Kt(),yF={collection:"seq",default:!0,nodeClass:g_.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return gF.isSeq(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>g_.YAMLSeq.from(e,t,r)};y_.seq=yF});var Ti=b(b_=>{"use strict";var bF=Ci(),wF={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),bF.stringifyString(e,t,r,n)}};b_.string=wF});var Do=b(__=>{"use strict";var w_=te(),v_={identify:e=>e==null,createNode:()=>new w_.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new w_.Scalar(null),stringify:({source:e},t)=>typeof e=="string"&&v_.test.test(e)?e:t.options.nullStr};__.nullTag=v_});var bf=b(x_=>{"use strict";var vF=te(),S_={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new vF.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&S_.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};x_.boolTag=S_});var bn=b(C_=>{"use strict";function _F({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}C_.stringifyNumber=_F});var vf=b(Mo=>{"use strict";var SF=te(),wf=bn(),xF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wf.stringifyNumber},CF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():wf.stringifyNumber(e)}},AF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new SF.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:wf.stringifyNumber};Mo.float=AF;Mo.floatExp=CF;Mo.floatNaN=xF});var Sf=b(qo=>{"use strict";var A_=bn(),$o=e=>typeof e=="bigint"||Number.isInteger(e),_f=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function O_(e,t,r){let{value:n}=e;return $o(n)&&n>=0?r+n.toString(t):A_.stringifyNumber(e)}var OF={identify:e=>$o(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>_f(e,2,8,r),stringify:e=>O_(e,8,"0o")},EF={identify:$o,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>_f(e,0,10,r),stringify:A_.stringifyNumber},kF={identify:e=>$o(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>_f(e,2,16,r),stringify:e=>O_(e,16,"0x")};qo.int=EF;qo.intHex=kF;qo.intOct=OF});var k_=b(E_=>{"use strict";var TF=gn(),LF=Do(),NF=yn(),IF=Ti(),PF=bf(),xf=vf(),Cf=Sf(),DF=[TF.map,NF.seq,IF.string,LF.nullTag,PF.boolTag,Cf.intOct,Cf.int,Cf.intHex,xf.floatNaN,xf.floatExp,xf.float];E_.schema=DF});var N_=b(L_=>{"use strict";var MF=te(),$F=gn(),qF=yn();function T_(e){return typeof e=="bigint"||Number.isInteger(e)}var jo=({value:e})=>JSON.stringify(e),jF=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:jo},{identify:e=>e==null,createNode:()=>new MF.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:jo},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:jo},{identify:T_,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>T_(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:jo}],FF={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},RF=[$F.map,qF.seq].concat(jF,FF);L_.schema=RF});var Of=b(I_=>{"use strict";var Li=require("buffer"),Af=te(),BF=Ci(),UF={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Li.Buffer=="function")return Li.Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,s){if(!r)return"";let o=r,a;if(typeof Li.Buffer=="function")a=o instanceof Li.Buffer?o.toString("base64"):Li.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=Af.Scalar.BLOCK_LITERAL),t!==Af.Scalar.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),f=new Array(c);for(let u=0,d=0;u<c;++u,d+=l)f[u]=a.substr(d,l);a=f.join(t===Af.Scalar.BLOCK_LITERAL?`
`:" ")}return BF.stringifyString({comment:e,type:t,value:a},n,i,s)}};I_.binary=UF});var Bo=b(Ro=>{"use strict";var Fo=W(),Ef=Bt(),VF=te(),KF=Kt();function P_(e,t){if(Fo.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Fo.isPair(n)){if(Fo.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new Ef.Pair(new VF.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let s=i.value??i.key;s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment}n=i}e.items[r]=Fo.isPair(n)?n:new Ef.Pair(n)}}else t("Expected a sequence for this tag");return e}function D_(e,t,r){let{replacer:n}=r,i=new KF.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof n=="function"&&(o=n.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;i.items.push(Ef.createPair(a,l,r))}return i}var HF={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:P_,createNode:D_};Ro.createPairs=D_;Ro.pairs=HF;Ro.resolvePairs=P_});var Lf=b(Tf=>{"use strict";var M_=W(),kf=qt(),Ni=Vt(),WF=Kt(),$_=Bo(),Er=class e extends WF.YAMLSeq{constructor(){super(),this.add=Ni.YAMLMap.prototype.add.bind(this),this.delete=Ni.YAMLMap.prototype.delete.bind(this),this.get=Ni.YAMLMap.prototype.get.bind(this),this.has=Ni.YAMLMap.prototype.has.bind(this),this.set=Ni.YAMLMap.prototype.set.bind(this),this.tag=e.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r?.onCreate&&r.onCreate(n);for(let i of this.items){let s,o;if(M_.isPair(i)?(s=kf.toJS(i.key,"",r),o=kf.toJS(i.value,s,r)):s=kf.toJS(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(t,r,n){let i=$_.createPairs(t,r,n),s=new this;return s.items=i.items,s}};Er.tag="tag:yaml.org,2002:omap";var YF={collection:"seq",identify:e=>e instanceof Map,nodeClass:Er,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=$_.resolvePairs(e,t),n=[];for(let{key:i}of r.items)M_.isScalar(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Er,r)},createNode:(e,t,r)=>Er.from(e,t,r)};Tf.YAMLOMap=Er;Tf.omap=YF});var B_=b(Nf=>{"use strict";var q_=te();function j_({value:e,source:t},r){return t&&(e?F_:R_).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var F_={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new q_.Scalar(!0),stringify:j_},R_={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new q_.Scalar(!1),stringify:j_};Nf.falseTag=R_;Nf.trueTag=F_});var U_=b(Uo=>{"use strict";var GF=te(),If=bn(),JF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:If.stringifyNumber},zF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():If.stringifyNumber(e)}},ZF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new GF.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:If.stringifyNumber};Uo.float=ZF;Uo.floatExp=zF;Uo.floatNaN=JF});var K_=b(Pi=>{"use strict";var V_=bn(),Ii=e=>typeof e=="bigint"||Number.isInteger(e);function Vo(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}let o=BigInt(e);return i==="-"?BigInt(-1)*o:o}let s=parseInt(e,r);return i==="-"?-1*s:s}function Pf(e,t,r){let{value:n}=e;if(Ii(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return V_.stringifyNumber(e)}var QF={identify:Ii,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>Vo(e,2,2,r),stringify:e=>Pf(e,2,"0b")},XF={identify:Ii,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>Vo(e,1,8,r),stringify:e=>Pf(e,8,"0")},eR={identify:Ii,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>Vo(e,0,10,r),stringify:V_.stringifyNumber},tR={identify:Ii,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>Vo(e,2,16,r),stringify:e=>Pf(e,16,"0x")};Pi.int=eR;Pi.intBin=QF;Pi.intHex=tR;Pi.intOct=XF});var Mf=b(Df=>{"use strict";var Wo=W(),Ko=Bt(),Ho=Vt(),kr=class e extends Ho.YAMLMap{constructor(t){super(t),this.tag=e.tag}add(t){let r;Wo.isPair(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Ko.Pair(t.key,null):r=new Ko.Pair(t,null),Ho.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=Ho.findPair(this.items,t);return!r&&Wo.isPair(n)?Wo.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=Ho.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Ko.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof i=="function"&&(o=i.call(r,o,o)),s.items.push(Ko.createPair(o,null,n));return s}};kr.tag="tag:yaml.org,2002:set";var rR={collection:"map",identify:e=>e instanceof Set,nodeClass:kr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>kr.from(e,t,r),resolve(e,t){if(Wo.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new kr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};Df.YAMLSet=kr;Df.set=rR});var qf=b(Yo=>{"use strict";var nR=bn();function $f(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return r==="-"?i(-1)*s:s}function H_(e){let{value:t}=e,r=o=>o;if(typeof t=="bigint")r=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return nR.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var iR={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>$f(e,r),stringify:H_},sR={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>$f(e,!1),stringify:H_},W_={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(W_.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0,c=Date.UTC(r,n-1,i,s||0,o||0,a||0,l),f=t[8];if(f&&f!=="Z"){let u=$f(f,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};Yo.floatTime=sR;Yo.intTime=iR;Yo.timestamp=W_});var J_=b(G_=>{"use strict";var oR=gn(),aR=Do(),lR=yn(),cR=Ti(),uR=Of(),Y_=B_(),jf=U_(),Go=K_(),fR=Oo(),dR=Lf(),hR=Bo(),pR=Mf(),Ff=qf(),mR=[oR.map,lR.seq,cR.string,aR.nullTag,Y_.trueTag,Y_.falseTag,Go.intBin,Go.intOct,Go.int,Go.intHex,jf.floatNaN,jf.floatExp,jf.float,uR.binary,fR.merge,dR.omap,hR.pairs,pR.set,Ff.intTime,Ff.floatTime,Ff.timestamp];G_.schema=mR});var sS=b(Uf=>{"use strict";var X_=gn(),gR=Do(),eS=yn(),yR=Ti(),bR=bf(),Rf=vf(),Bf=Sf(),wR=k_(),vR=N_(),tS=Of(),Di=Oo(),rS=Lf(),nS=Bo(),z_=J_(),iS=Mf(),Jo=qf(),Z_=new Map([["core",wR.schema],["failsafe",[X_.map,eS.seq,yR.string]],["json",vR.schema],["yaml11",z_.schema],["yaml-1.1",z_.schema]]),Q_={binary:tS.binary,bool:bR.boolTag,float:Rf.float,floatExp:Rf.floatExp,floatNaN:Rf.floatNaN,floatTime:Jo.floatTime,int:Bf.int,intHex:Bf.intHex,intOct:Bf.intOct,intTime:Jo.intTime,map:X_.map,merge:Di.merge,null:gR.nullTag,omap:rS.omap,pairs:nS.pairs,seq:eS.seq,set:iS.set,timestamp:Jo.timestamp},_R={"tag:yaml.org,2002:binary":tS.binary,"tag:yaml.org,2002:merge":Di.merge,"tag:yaml.org,2002:omap":rS.omap,"tag:yaml.org,2002:pairs":nS.pairs,"tag:yaml.org,2002:set":iS.set,"tag:yaml.org,2002:timestamp":Jo.timestamp};function SR(e,t,r){let n=Z_.get(t);if(n&&!e)return r&&!n.includes(Di.merge)?n.concat(Di.merge):n.slice();let i=n;if(!i)if(Array.isArray(e))i=[];else{let s=Array.from(Z_.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${s} or define customTags array`)}if(Array.isArray(e))for(let s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return r&&(i=i.concat(Di.merge)),i.reduce((s,o)=>{let a=typeof o=="string"?Q_[o]:o;if(!a){let l=JSON.stringify(o),c=Object.keys(Q_).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return s.includes(a)||s.push(a),s},[])}Uf.coreKnownTags=_R;Uf.getTags=SR});var Hf=b(oS=>{"use strict";var Vf=W(),xR=gn(),CR=yn(),AR=Ti(),zo=sS(),OR=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,Kf=class e{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?zo.getTags(t,"compat"):t?zo.getTags(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?zo.coreKnownTags:{},this.tags=zo.getTags(r,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,Vf.MAP,{value:xR.map}),Object.defineProperty(this,Vf.SCALAR,{value:AR.string}),Object.defineProperty(this,Vf.SEQ,{value:CR.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?OR:null}clone(){let t=Object.create(e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};oS.Schema=Kf});var lS=b(aS=>{"use strict";var ER=W(),Wf=Ai(),Mi=_i();function kR(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");let i=Wf.createStringifyContext(e,t),{commentString:s}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=s(e.commentBefore);r.unshift(Mi.indentComment(l,""))}let o=!1,a=null;if(e.contents){if(ER.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let f=s(e.contents.commentBefore);r.push(Mi.indentComment(f,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>o=!0,c=Wf.stringify(e.contents,i,()=>a=null,l);a&&(c+=Mi.lineComment(c,"",s(a))),(c[0]==="|"||c[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${c}`:r.push(c)}else r.push(Wf.stringify(e.contents,i));if(e.directives?.docEnd)if(e.comment){let l=s(e.comment);l.includes(`
`)?(r.push("..."),r.push(Mi.indentComment(l,""))):r.push(`... ${l}`)}else r.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&r[r.length-1]!==""&&r.push(""),r.push(Mi.indentComment(s(l),"")))}return r.join(`
`)+`
`}aS.stringifyDocument=kR});var $i=b(cS=>{"use strict";var TR=wi(),wn=yo(),$e=W(),LR=Bt(),NR=qt(),IR=Hf(),PR=lS(),Yf=ho(),DR=zu(),MR=vi(),Gf=Ju(),Jf=class e{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,$e.NODE_TYPE,{value:$e.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Gf.Directives({version:o}),this.setSchema(o,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){let t=Object.create(e.prototype,{[$e.NODE_TYPE]:{value:$e.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=$e.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){vn(this.contents)&&this.contents.add(t)}addIn(t,r){vn(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=Yf.anchorNames(this);t.anchor=!r||n.has(r)?Yf.findNewAnchor(r||"a",n):r}return new TR.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let g=y=>typeof y=="number"||y instanceof String||y instanceof Number,w=r.filter(g).map(String);w.length>0&&(r=r.concat(w)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:f}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:h}=Yf.createNodeAnchors(this,o||"a"),p={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},m=MR.createNode(t,f,p);return a&&$e.isCollection(m)&&(m.flow=!0),d(),m}createPair(t,r,n={}){let i=this.createNode(t,null,n),s=this.createNode(r,null,n);return new LR.Pair(i,s)}delete(t){return vn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return wn.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):vn(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return $e.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return wn.isEmptyPath(t)?!r&&$e.isScalar(this.contents)?this.contents.value:this.contents:$e.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return $e.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return wn.isEmptyPath(t)?this.contents!==void 0:$e.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=wn.collectionFromPath(this.schema,[t],r):vn(this.contents)&&this.contents.set(t,r)}setIn(t,r){wn.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=wn.collectionFromPath(this.schema,Array.from(t),r):vn(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Gf.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Gf.Directives({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new IR.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=NR.toJS(this.contents,r??"",a);if(typeof s=="function")for(let{count:c,res:f}of a.anchors.values())s(f,c);return typeof o=="function"?DR.applyReviver(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return PR.stringifyDocument(this,t)}};function vn(e){if($e.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}cS.Document=Jf});var Fi=b(ji=>{"use strict";var qi=class extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}},zf=class extends qi{constructor(t,r,n){super("YAMLParseError",t,r,n)}},Zf=class extends qi{constructor(t,r,n){super("YAMLWarning",t,r,n)}},$R=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,l=r.linePos[1];l&&l.line===n&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));let c=" ".repeat(s)+"^".repeat(a);r.message+=`:

${o}
${c}
`}};ji.YAMLError=qi;ji.YAMLParseError=zf;ji.YAMLWarning=Zf;ji.prettifyError=$R});var Ri=b(uS=>{"use strict";function qR(e,{flow:t,indicator:r,next:n,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,c=a,f=a,u="",d="",h=!1,p=!1,m=null,g=null,w=null,y=null,v=null,_=null,C=null;for(let A of e)switch(p&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&s(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(c&&A.type!=="comment"&&A.type!=="newline"&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),A.type){case"space":!t&&(r!=="doc-start"||n?.type!=="flow-collection")&&A.source.includes("	")&&(m=A),f=!0;break;case"comment":{f||s(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let k=A.source.substring(1)||" ";u?u+=d+k:u=k,d="",c=!1;break}case"newline":c?u?u+=A.source:(!_||r!=="seq-item-ind")&&(l=!0):d+=A.source,c=!0,h=!0,(g||w)&&(y=A),f=!0;break;case"anchor":g&&s(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&s(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=A,C??(C=A.offset),c=!1,f=!1,p=!0;break;case"tag":{w&&s(A,"MULTIPLE_TAGS","A node can have at most one tag"),w=A,C??(C=A.offset),c=!1,f=!1,p=!0;break}case r:(g||w)&&s(A,"BAD_PROP_ORDER",`Anchors and tags must be after the ${A.source} indicator`),_&&s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.source} in ${t??"collection"}`),_=A,c=r==="seq-item-ind"||r==="explicit-key-ind",f=!1;break;case"comma":if(t){v&&s(A,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),v=A,c=!1,f=!1;break}default:s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.type} token`),c=!1,f=!1}let E=e[e.length-1],I=E?E.offset+E.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||n?.type==="block-map"||n?.type==="block-seq")&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:v,found:_,spaceBefore:l,comment:u,hasNewline:h,anchor:g,tag:w,newlineAfterProp:y,end:I,start:C??I}}uS.resolveProps=qR});var Zo=b(fS=>{"use strict";function Qf(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(Qf(t.key)||Qf(t.value))return!0}return!1;default:return!0}}fS.containsNewline=Qf});var Xf=b(dS=>{"use strict";var jR=Zo();function FR(e,t,r){if(t?.type==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&jR.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}dS.flowIndentCheck=FR});var ed=b(pS=>{"use strict";var hS=W();function RR(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(s,o)=>s===o||hS.isScalar(s)&&hS.isScalar(o)&&s.value===o.value;return t.some(s=>i(s.key,r))}pS.mapIncludes=RR});var vS=b(wS=>{"use strict";var mS=Bt(),BR=Vt(),gS=Ri(),UR=Zo(),yS=Xf(),VR=ed(),bS="All mapping items must start at the same column";function KR({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??BR.YAMLMap,a=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,c=null;for(let f of n.items){let{start:u,key:d,sep:h,value:p}=f,m=gS.resolveProps(u,{indicator:"explicit-key-ind",next:d??h?.[0],offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0}),g=!m.found;if(g){if(d&&(d.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==n.indent&&i(l,"BAD_INDENT",bS)),!m.anchor&&!m.tag&&!h){c=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||UR.containsNewline(d))&&i(d??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==n.indent&&i(l,"BAD_INDENT",bS);r.atKey=!0;let w=m.end,y=d?e(r,d,m,i):t(r,w,u,null,m,i);r.schema.compat&&yS.flowIndentCheck(n.indent,d,i),r.atKey=!1,VR.mapIncludes(r,a.items,y)&&i(w,"DUPLICATE_KEY","Map keys must be unique");let v=gS.resolveProps(h??[],{indicator:"map-value-ind",next:p,offset:y.range[2],onError:i,parentIndent:n.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=v.end,v.found){g&&(p?.type==="block-map"&&!v.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&m.start<v.found.offset-1024&&i(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let _=p?e(r,p,v,i):t(r,l,h,null,v,i);r.schema.compat&&yS.flowIndentCheck(n.indent,p,i),l=_.range[2];let C=new mS.Pair(y,_);r.options.keepSourceTokens&&(C.srcToken=f),a.items.push(C)}else{g&&i(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(y.comment?y.comment+=`
`+v.comment:y.comment=v.comment);let _=new mS.Pair(y);r.options.keepSourceTokens&&(_.srcToken=f),a.items.push(_)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}wS.resolveBlockMap=KR});var SS=b(_S=>{"use strict";var HR=Kt(),WR=Ri(),YR=Xf();function GR({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??HR.YAMLSeq,a=new o(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let l=n.offset,c=null;for(let{start:f,value:u}of n.items){let d=WR.resolveProps(f,{indicator:"seq-item-ind",next:u,offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||u)u&&u.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}let h=u?e(r,u,d,i):t(r,d.end,f,null,d,i);r.schema.compat&&YR.flowIndentCheck(n.indent,u,i),l=h.range[2],a.items.push(h)}return a.range=[n.offset,l,c??l],a}_S.resolveBlockSeq=GR});var _n=b(xS=>{"use strict";function JR(e,t,r,n){let i="";if(e){let s=!1,o="";for(let a of e){let{source:l,type:c}=a;switch(c){case"space":s=!0;break;case"comment":{r&&!s&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=l.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=l),s=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=l.length}}return{comment:i,offset:t}}xS.resolveEnd=JR});var ES=b(OS=>{"use strict";var zR=W(),ZR=Bt(),CS=Vt(),QR=Kt(),XR=_n(),AS=Ri(),eB=Zo(),tB=ed(),td="Block collections are not allowed within flow collections",rd=e=>e&&(e.type==="block-map"||e.type==="block-seq");function rB({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?CS.YAMLMap:QR.YAMLSeq),c=new l(r.schema);c.flow=!0;let f=r.atRoot;f&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let u=n.offset+n.start.source.length;for(let g=0;g<n.items.length;++g){let w=n.items[g],{start:y,key:v,sep:_,value:C}=w,E=AS.resolveProps(y,{flow:a,indicator:"explicit-key-ind",next:v??_?.[0],offset:u,onError:i,parentIndent:n.indent,startOnNewline:!1});if(!E.found){if(!E.anchor&&!E.tag&&!_&&!C){g===0&&E.comma?i(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<n.items.length-1&&i(E.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),E.comment&&(c.comment?c.comment+=`
`+E.comment:c.comment=E.comment),u=E.end;continue}!o&&r.options.strict&&eB.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)E.comma&&i(E.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(E.comma||i(E.start,"MISSING_CHAR",`Missing , between ${a} items`),E.comment){let I="";e:for(let A of y)switch(A.type){case"comma":case"space":break;case"comment":I=A.source.substring(1);break e;default:break e}if(I){let A=c.items[c.items.length-1];zR.isPair(A)&&(A=A.value??A.key),A.comment?A.comment+=`
`+I:A.comment=I,E.comment=E.comment.substring(I.length+1)}}if(!o&&!_&&!E.found){let I=C?e(r,C,E,i):t(r,E.end,_,null,E,i);c.items.push(I),u=I.range[2],rd(C)&&i(I.range,"BLOCK_IN_FLOW",td)}else{r.atKey=!0;let I=E.end,A=v?e(r,v,E,i):t(r,I,y,null,E,i);rd(v)&&i(A.range,"BLOCK_IN_FLOW",td),r.atKey=!1;let k=AS.resolveProps(_??[],{flow:a,indicator:"map-value-ind",next:C,offset:A.range[2],onError:i,parentIndent:n.indent,startOnNewline:!1});if(k.found){if(!o&&!E.found&&r.options.strict){if(_)for(let $ of _){if($===k.found)break;if($.type==="newline"){i($,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}E.start<k.found.offset-1024&&i(k.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${a}`):i(k.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let F=C?e(r,C,k,i):k.found?t(r,k.end,_,null,k,i):null;F?rd(C)&&i(F.range,"BLOCK_IN_FLOW",td):k.comment&&(A.comment?A.comment+=`
`+k.comment:A.comment=k.comment);let G=new ZR.Pair(A,F);if(r.options.keepSourceTokens&&(G.srcToken=w),o){let $=c;tB.mapIncludes(r,$.items,A)&&i(I,"DUPLICATE_KEY","Map keys must be unique"),$.items.push(G)}else{let $=new CS.YAMLMap(r.schema);$.flow=!0,$.items.push(G);let T=(F??A).range;$.range=[A.range[0],T[1],T[2]],c.items.push($)}u=F?F.range[2]:k.end}}let d=o?"}":"]",[h,...p]=n.end,m=u;if(h&&h.source===d)m=h.offset+h.source.length;else{let g=a[0].toUpperCase()+a.substring(1),w=f?`${g} must end with a ${d}`:`${g} in block collection must be sufficiently indented and end with a ${d}`;i(u,f?"MISSING_CHAR":"BAD_INDENT",w),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){let g=XR.resolveEnd(p,m,r.options.strict,i);g.comment&&(c.comment?c.comment+=`
`+g.comment:c.comment=g.comment),c.range=[n.offset,m,g.offset]}else c.range=[n.offset,m,m];return c}OS.resolveFlowCollection=rB});var TS=b(kS=>{"use strict";var nB=W(),iB=te(),sB=Vt(),oB=Kt(),aB=vS(),lB=SS(),cB=ES();function nd(e,t,r,n,i,s){let o=r.type==="block-map"?aB.resolveBlockMap(e,t,r,n,s):r.type==="block-seq"?lB.resolveBlockSeq(e,t,r,n,s):cB.resolveFlowCollection(e,t,r,n,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function uB(e,t,r,n,i){let s=n.tag,o=s?t.directives.tagName(s.source,d=>i(s,"TAG_RESOLVE_FAILED",d)):null;if(r.type==="block-seq"){let{anchor:d,newlineAfterProp:h}=n,p=d&&s?d.offset>s.offset?d:s:d??s;p&&(!h||h.offset<p.offset)&&i(p,"MISSING_CHAR","Missing newline after block sequence props")}let a=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===sB.YAMLMap.tagName&&a==="map"||o===oB.YAMLSeq.tagName&&a==="seq")return nd(e,t,r,i,o);let l=t.schema.tags.find(d=>d.tag===o&&d.collection===a);if(!l){let d=t.schema.knownTags[o];if(d&&d.collection===a)t.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d?i(s,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),nd(e,t,r,i,o)}let c=nd(e,t,r,i,o,l),f=l.resolve?.(c,d=>i(s,"TAG_RESOLVE_FAILED",d),t.options)??c,u=nB.isNode(f)?f:new iB.Scalar(f);return u.range=c.range,u.tag=o,l?.format&&(u.format=l.format),u}kS.composeCollection=uB});var sd=b(LS=>{"use strict";var id=te();function fB(e,t,r){let n=t.offset,i=dB(t,e.options.strict,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let s=i.mode===">"?id.Scalar.BLOCK_FOLDED:id.Scalar.BLOCK_LITERAL,o=t.source?hB(t.source):[],a=o.length;for(let m=o.length-1;m>=0;--m){let g=o[m][1];if(g===""||g==="\r")a=m;else break}if(a===0){let m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",g=n+i.length;return t.source&&(g+=t.source.length),{value:m,type:s,comment:i.comment,range:[n,g,g]}}let l=t.indent+i.indent,c=t.offset+i.length,f=0;for(let m=0;m<a;++m){let[g,w]=o[m];if(w===""||w==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&r(c+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),f=m,l===0&&!e.atRoot&&r(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=g.length+w.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let u="",d="",h=!1;for(let m=0;m<f;++m)u+=o[m][0].slice(l)+`
`;for(let m=f;m<a;++m){let[g,w]=o[m];c+=g.length+w.length+1;let y=w[w.length-1]==="\r";if(y&&(w=w.slice(0,-1)),w&&g.length<l){let _=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(c-w.length-(y?2:1),"BAD_INDENT",_),g=""}s===id.Scalar.BLOCK_LITERAL?(u+=d+g.slice(l)+w,d=`
`):g.length>l||w[0]==="	"?(d===" "?d=`
`:!h&&d===`
`&&(d=`

`),u+=d+g.slice(l)+w,d=`
`,h=!0):w===""?d===`
`?u+=`
`:d=`
`:(u+=d+w,d=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)u+=`
`+o[m][0].slice(l);u[u.length-1]!==`
`&&(u+=`
`);break;default:u+=`
`}let p=n+i.length+t.source.length;return{value:u,type:s,comment:i.comment,range:[n,p,p]}}function dB({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],s=i[0],o=0,a="",l=-1;for(let d=1;d<i.length;++d){let h=i[d];if(!a&&(h==="-"||h==="+"))a=h;else{let p=Number(h);!o&&p?o=p:l===-1&&(l=e+d)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,f="",u=i.length;for(let d=1;d<t.length;++d){let h=t[d];switch(h.type){case"space":c=!0;case"newline":u+=h.source.length;break;case"comment":r&&!c&&n(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=h.source.length,f=h.source.substring(1);break;case"error":n(h,"UNEXPECTED_TOKEN",h.message),u+=h.source.length;break;default:{let p=`Unexpected token in block scalar header: ${h.type}`;n(h,"UNEXPECTED_TOKEN",p);let m=h.source;m&&typeof m=="string"&&(u+=m.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:u}}function hB(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),s=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}LS.resolveBlockScalar=fB});var ad=b(IS=>{"use strict";var od=te(),pB=_n();function mB(e,t,r){let{offset:n,type:i,source:s,end:o}=e,a,l,c=(d,h,p)=>r(n+d,h,p);switch(i){case"scalar":a=od.Scalar.PLAIN,l=gB(s,c);break;case"single-quoted-scalar":a=od.Scalar.QUOTE_SINGLE,l=yB(s,c);break;case"double-quoted-scalar":a=od.Scalar.QUOTE_DOUBLE,l=bB(s,c);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}let f=n+s.length,u=pB.resolveEnd(o,f,t,r);return{value:l,type:a,comment:u.comment,range:[n,f,u.offset]}}function gB(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),NS(e)}function yB(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),NS(e.slice(1,-1)).replace(/''/g,"'")}function NS(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],s=" ",o=t.lastIndex;for(r.lastIndex=o;n=r.exec(e);)n[1]===""?s===`
`?i+=s:s=`
`:(i+=s+n[1],s=" "),o=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(e),i+s+(n?.[1]??"")}function bB(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){let{fold:s,offset:o}=wB(e,n);r+=s,n=o}else if(i==="\\"){let s=e[++n],o=vB[s];if(o)r+=o;else if(s===`
`)for(s=e[n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="\r"&&e[n+1]===`
`)for(s=e[++n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];r+=_B(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let s=n,o=e[n+1];for(;o===" "||o==="	";)o=e[++n+1];o!==`
`&&!(o==="\r"&&e[n+2]===`
`)&&(r+=n>s?e.slice(s,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function wB(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var vB={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function _B(e,t,r,n){let i=e.substr(t,r),o=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}IS.resolveFlowScalar=mB});var MS=b(DS=>{"use strict";var Tr=W(),PS=te(),SB=sd(),xB=ad();function CB(e,t,r,n){let{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?SB.resolveBlockScalar(e,t,n):xB.resolveFlowScalar(t,e.options.strict,n),l=r?e.directives.tagName(r.source,u=>n(r,"TAG_RESOLVE_FAILED",u)):null,c;e.options.stringKeys&&e.atKey?c=e.schema[Tr.SCALAR]:l?c=AB(e.schema,i,l,r,n):t.type==="scalar"?c=OB(e,i,t,n):c=e.schema[Tr.SCALAR];let f;try{let u=c.resolve(i,d=>n(r??t,"TAG_RESOLVE_FAILED",d),e.options);f=Tr.isScalar(u)?u:new PS.Scalar(u)}catch(u){let d=u instanceof Error?u.message:String(u);n(r??t,"TAG_RESOLVE_FAILED",d),f=new PS.Scalar(i)}return f.range=a,f.source=i,s&&(f.type=s),l&&(f.tag=l),c.format&&(f.format=c.format),o&&(f.comment=o),f}function AB(e,t,r,n,i){if(r==="!")return e[Tr.SCALAR];let s=[];for(let a of e.tags)if(!a.collection&&a.tag===r)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(t))return a;let o=e.knownTags[r];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[Tr.SCALAR])}function OB({atKey:e,directives:t,schema:r},n,i,s){let o=r.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(n))||r[Tr.SCALAR];if(r.compat){let a=r.compat.find(l=>l.default&&l.test?.test(n))??r[Tr.SCALAR];if(o.tag!==a.tag){let l=t.tagString(o.tag),c=t.tagString(a.tag),f=`Value may be parsed as either ${l} or ${c}`;s(i,"TAG_RESOLVE_FAILED",f,!0)}}return o}DS.composeScalar=CB});var qS=b($S=>{"use strict";function EB(e,t,r){if(t){r??(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];i?.type==="space";)e+=i.source.length,i=t[++n];break}}return e}$S.emptyScalarPosition=EB});var RS=b(cd=>{"use strict";var kB=wi(),TB=W(),LB=TS(),jS=MS(),NB=_n(),IB=qS(),PB={composeNode:FS,composeEmptyNode:ld};function FS(e,t,r,n){let i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=r,c,f=!0;switch(t.type){case"alias":c=DB(e,t,n),(a||l)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=jS.composeScalar(e,t,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=LB.composeCollection(PB,e,t,r,n),a&&(c.anchor=a.source.substring(1));break;default:{let u=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",u),c=ld(e,t.offset,void 0,null,r,n),f=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!TB.isScalar(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&f&&(c.srcToken=t),c}function ld(e,t,r,n,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},c){let f={type:"scalar",offset:IB.emptyScalarPosition(t,r,n),indent:-1,source:""},u=jS.composeScalar(e,f,a,c);return o&&(u.anchor=o.source.substring(1),u.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),s&&(u.comment=s,u.range[2]=l),u}function DB({options:e},{offset:t,source:r,end:n},i){let s=new kB.Alias(r.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=t+r.length,a=NB.resolveEnd(n,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}cd.composeEmptyNode=ld;cd.composeNode=FS});var VS=b(US=>{"use strict";var MB=$i(),BS=RS(),$B=_n(),qB=Ri();function jB(e,t,{offset:r,start:n,value:i,end:s},o){let a=Object.assign({_directives:t},e),l=new MB.Document(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=qB.resolveProps(n,{indicator:"doc-start",next:i??s?.[0],offset:r,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?BS.composeNode(c,i,f,o):BS.composeEmptyNode(c,f.end,n,null,f,o);let u=l.contents.range[2],d=$B.resolveEnd(s,u,!1,o);return d.comment&&(l.comment=d.comment),l.range=[r,u,d.offset],l}US.composeDoc=jB});var fd=b(WS=>{"use strict";var FB=require("process"),RB=Ju(),BB=$i(),Bi=Fi(),KS=W(),UB=VS(),VB=_n();function Ui(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function HS(e){let t="",r=!1,n=!1;for(let i=0;i<e.length;++i){let s=e[i];switch(s[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(s.substring(1)||" "),r=!0,n=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}var ud=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,s)=>{let o=Ui(r);s?this.warnings.push(new Bi.YAMLWarning(o,n,i)):this.errors.push(new Bi.YAMLParseError(o,n,i))},this.directives=new RB.Directives({version:t.version||"1.2"}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=HS(this.prelude);if(n){let s=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.docStart||!s)t.commentBefore=n;else if(KS.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];KS.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{let o=s.commentBefore;s.commentBefore=o?`${n}
${o}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:HS(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(FB.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let s=Ui(t);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=UB.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Bi.YAMLParseError(Ui(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Bi.YAMLParseError(Ui(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let r=VB.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Bi.YAMLParseError(Ui(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({_directives:this.directives},this.options),i=new BB.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};WS.Composer=ud});var JS=b(Qo=>{"use strict";var KB=sd(),HB=ad(),WB=Fi(),YS=Ci();function YB(e,t=!0,r){if(e){let n=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,s,o);else throw new WB.YAMLParseError([a,a+1],s,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return HB.resolveFlowScalar(e,t,n);case"block-scalar":return KB.resolveBlockScalar({options:{strict:t}},e,n)}}return null}function GB(e,t){let{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=t,a=YS.stringifyString({type:o,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(a[0]){case"|":case">":{let c=a.indexOf(`
`),f=a.substring(0,c),u=a.substring(c+1)+`
`,d=[{type:"block-scalar-header",offset:s,indent:n,source:f}];return GS(d,l)||d.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:s,indent:n,props:d,source:u}}case'"':return{type:"double-quoted-scalar",offset:s,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:n,source:a,end:l};default:return{type:"scalar",offset:s,indent:n,source:a,end:l}}}function JB(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let c=e.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let l=YS.stringifyString({type:o,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":zB(e,l);break;case'"':dd(e,l,"double-quoted-scalar");break;case"'":dd(e,l,"single-quoted-scalar");break;default:dd(e,l,"scalar")}}function zB(e,t){let r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){let s=e.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=n,e.source=i}else{let{offset:s}=e,o="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:n}];GS(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let l of Object.keys(e))l!=="type"&&l!=="offset"&&delete e[l];Object.assign(e,{type:"block-scalar",indent:o,props:a,source:i})}}function GS(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function dd(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let s of n)s.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(e))s!=="type"&&s!=="offset"&&delete e[s];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}Qo.createScalarToken=GB;Qo.resolveAsScalar=YB;Qo.setScalarValue=JB});var ZS=b(zS=>{"use strict";var ZB=e=>"type"in e?ea(e):Xo(e);function ea(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=ea(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=Xo(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=Xo(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=Xo(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function Xo({start:e,key:t,sep:r,value:n}){let i="";for(let s of e)i+=s.source;if(t&&(i+=ea(t)),r)for(let s of r)i+=s.source;return n&&(i+=ea(n)),i}zS.stringify=ZB});var tx=b(ex=>{"use strict";var hd=Symbol("break visit"),QB=Symbol("skip children"),QS=Symbol("remove item");function Lr(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),XS(Object.freeze([]),e,t)}Lr.BREAK=hd;Lr.SKIP=QB;Lr.REMOVE=QS;Lr.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let s=r?.[n];if(s&&"items"in s)r=s.items[i];else return}return r};Lr.parentCollection=(e,t)=>{let r=Lr.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function XS(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let s=t[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=XS(Object.freeze(e.concat([[i,o]])),s.items[o],r);if(typeof a=="number")o=a-1;else{if(a===hd)return hd;a===QS&&(s.items.splice(o,1),o-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}ex.visit=Lr});var ta=b(Oe=>{"use strict";var pd=JS(),XB=ZS(),eU=tx(),md="\uFEFF",gd="",yd="",bd="",tU=e=>!!e&&"items"in e,rU=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function nU(e){switch(e){case md:return"<BOM>";case gd:return"<DOC>";case yd:return"<FLOW_END>";case bd:return"<SCALAR>";default:return JSON.stringify(e)}}function iU(e){switch(e){case md:return"byte-order-mark";case gd:return"doc-mode";case yd:return"flow-error-end";case bd:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}Oe.createScalarToken=pd.createScalarToken;Oe.resolveAsScalar=pd.resolveAsScalar;Oe.setScalarValue=pd.setScalarValue;Oe.stringify=XB.stringify;Oe.visit=eU.visit;Oe.BOM=md;Oe.DOCUMENT=gd;Oe.FLOW_END=yd;Oe.SCALAR=bd;Oe.isCollection=tU;Oe.isScalar=rU;Oe.prettyToken=nU;Oe.tokenType=iU});var _d=b(nx=>{"use strict";var Vi=ta();function Ve(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var rx=new Set("0123456789ABCDEFabcdef"),sU=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ra=new Set(",[]{}"),oU=new Set(` ,[]{}
\r	`),wd=e=>!e||oU.has(e),vd=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&Ve(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Vi.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){let s=t[n-1];if(s===" "||s==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){let s=t[r-1];if(s===" "||s==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield Vi.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if((r==="---"||r==="...")&&Ve(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ve(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Ve(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(wd),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&Ve(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Vi.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(wd),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Ve(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=n.indexOf(`
`,s)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Ve(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":r+=1;break;case`
`:t=s,r=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(n=this.buffer[i];n===" ";)n=this.buffer[++i];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+r>a)t=s;else break}while(!0);return yield Vi.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let s=this.buffer[n+1];if(Ve(s)||t&&ra.has(s))break;r=n}else if(Ve(i)){let s=this.buffer[n+1];if(i==="\r"&&(s===`
`?(n+=1,i=`
`,s=this.buffer[n+1]):r=n),s==="#"||t&&ra.has(s))break;if(i===`
`){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(t&&ra.has(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Vi.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(wd))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let t=this.flowLevel>0,r=this.charAt(1);if(Ve(r)||t&&ra.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!Ve(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(sU.has(r))r=this.buffer[++t];else if(r==="%"&&rx.has(this.buffer[t+1])&&rx.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};nx.Lexer=vd});var xd=b(ix=>{"use strict";var Sd=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let s=r+n>>1;this.lineStarts[s]<t?r=s+1:n=s}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};ix.LineCounter=Sd});var Ad=b(cx=>{"use strict";var aU=require("process"),sx=ta(),lU=_d();function Ht(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function ox(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function lx(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function na(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Sn(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function ax(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!Ht(t.start,"explicit-key-ind")&&!Ht(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,lx(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var Cd=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new lU.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,aU.env.LOG_TOKENS&&console.log("|",sx.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=sx.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&ax(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&ox(i.start)===-1&&(r.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{ox(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=na(this.peek(2)),n=Sn(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let n=!this.onKeyLine&&this.indent===t.indent,i=n&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&r.sep&&!r.value){let o=[];for(let a=0;a<r.sep.length;++a){let l=r.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=r.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):i||r.value?(s.push(this.sourceToken),t.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ht(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(lx(r.key)&&!Ht(r.sep,"newline")){let o=Sn(r.start),a=r.key,l=r.sep;l.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?r.sep=r.sep.concat(s,this.sourceToken):r.sep.push(this.sourceToken);else if(Ht(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{let o=Sn(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:s,key:null,sep:[this.sourceToken]}):Ht(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||r.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(o):(Object.assign(r,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!r.explicitKey&&r.sep&&!Ht(r.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else n&&t.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||Ht(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){let n=this.startBlockValue(t);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=na(n),s=Sn(i);ax(t);let o=t.end.splice(1,t.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=na(t),n=Sn(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let r=na(t),n=Sn(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};cx.Parser=Cd});var px=b(Hi=>{"use strict";var ux=fd(),cU=$i(),Ki=Fi(),uU=cf(),fU=W(),dU=xd(),fx=Ad();function dx(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new dU.LineCounter||null,prettyErrors:t}}function hU(e,t={}){let{lineCounter:r,prettyErrors:n}=dx(t),i=new fx.Parser(r?.addNewLine),s=new ux.Composer(t),o=Array.from(s.compose(i.parse(e)));if(n&&r)for(let a of o)a.errors.forEach(Ki.prettifyError(e,r)),a.warnings.forEach(Ki.prettifyError(e,r));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function hx(e,t={}){let{lineCounter:r,prettyErrors:n}=dx(t),i=new fx.Parser(r?.addNewLine),s=new ux.Composer(t),o=null;for(let a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Ki.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(Ki.prettifyError(e,r)),o.warnings.forEach(Ki.prettifyError(e,r))),o}function pU(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=hx(e,r);if(!i)return null;if(i.warnings.forEach(s=>uU.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function mU(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r??t??{};if(!i)return}return fU.isDocument(e)&&!n?e.toString(r):new cU.Document(e,n,r).toString(r)}Hi.parse=pU;Hi.parseAllDocuments=hU;Hi.parseDocument=hx;Hi.stringify=mU});var sa=b(J=>{"use strict";var gU=fd(),yU=$i(),bU=Hf(),Od=Fi(),wU=wi(),Wt=W(),vU=Bt(),_U=te(),SU=Vt(),xU=Kt(),CU=ta(),AU=_d(),OU=xd(),EU=Ad(),ia=px(),mx=mi();J.Composer=gU.Composer;J.Document=yU.Document;J.Schema=bU.Schema;J.YAMLError=Od.YAMLError;J.YAMLParseError=Od.YAMLParseError;J.YAMLWarning=Od.YAMLWarning;J.Alias=wU.Alias;J.isAlias=Wt.isAlias;J.isCollection=Wt.isCollection;J.isDocument=Wt.isDocument;J.isMap=Wt.isMap;J.isNode=Wt.isNode;J.isPair=Wt.isPair;J.isScalar=Wt.isScalar;J.isSeq=Wt.isSeq;J.Pair=vU.Pair;J.Scalar=_U.Scalar;J.YAMLMap=SU.YAMLMap;J.YAMLSeq=xU.YAMLSeq;J.CST=CU;J.Lexer=AU.Lexer;J.LineCounter=OU.LineCounter;J.Parser=EU.Parser;J.parse=ia.parse;J.parseAllDocuments=ia.parseAllDocuments;J.parseDocument=ia.parseDocument;J.stringify=ia.stringify;J.visit=mx.visit;J.visitAsync=mx.visitAsync});function xn(e,t={}){let r=(0,gx.existsSync)(e),n=r&&!t.overwrite&&!t.force;return{exists:r,path:e,shouldSkip:n}}function yx(e){return e.trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_")}function bx(e,t){let r=yx(t);return`chapter_${e}_${r}.md`}function wx(e,t){let r=yx(t);return`tutorial_${e}_${r}.md`}function Cn(e){return`Skipping existing file: ${e}`}function An(e){return`Generating: ${e}`}var gx,oa=K(()=>{"use strict";gx=require("node:fs")});async function la(e,t,r,n,i,s,o){await new Ed({abstractionsPath:e,relationshipsPath:t,chapterOrderPath:r,outputDir:n,promptTemplatePath:i,...s!==void 0&&{projectRootPath:s},...o}).generateChapters()}var yt,vx,aa,kU,TU,LU,NU,IU,PU,Ed,kd=K(()=>{"use strict";yt=require("node:fs/promises"),vx=require("node:path");an();aa=bt(sa(),1);Tt();Jn();oa();kU=S.object({name:S.string(),description:S.string(),file_paths:S.array(S.string())}),TU=S.array(kU),LU=S.object({from_abstraction:S.number(),to_abstraction:S.number(),label:S.string(),evidence:S.string()}),NU=S.object({summary:S.string(),relationships:S.array(LU)}),IU=S.object({index:S.number(),name:S.string(),reasoning:S.string()}),PU=S.object({order:S.array(IU)}),Ed=class{options;constructor(t){this.options=t}async generateChapters(){await(0,yt.mkdir)(this.options.outputDir,{recursive:!0});let t=await this.readAbstractions();await this.readRelationships();let r=await this.readChapterOrder(),n=await(0,yt.readFile)(this.options.promptTemplatePath,"utf-8"),i=[],s=r.order.sort((a,l)=>a.index-l.index),o=process.getMaxListeners();try{let a=s.length*2;process.setMaxListeners(Math.max(o,a+10));let l=s.map(async u=>{let d=t.find(w=>w.name.trim()===u.name);if(!d)return null;let h=bx(u.index,d.name),p=(0,vx.resolve)(this.options.outputDir,h);if(xn(p,this.options).shouldSkip)return this.options.onProgress&&this.options.onProgress(Cn(h),"skip"),null;this.options.onProgress&&this.options.onProgress(An(h),"generate");let g=await this.generateChapter(d,u.index,t,r,[],n);return await(0,yt.writeFile)(p,g,"utf-8"),this.options.onProgress&&this.options.onProgress(`Completed: ${h}`,"complete"),{index:u.index,content:g}}),f=(await Promise.all(l)).filter(u=>u!==null).sort((u,d)=>u.index-d.index);i.push(...f.map(u=>u.content))}finally{process.setMaxListeners(o)}}async readAbstractions(){let t=await(0,yt.readFile)(this.options.abstractionsPath,"utf-8"),r=aa.parse(t);return TU.parse(r)}async readRelationships(){let t=await(0,yt.readFile)(this.options.relationshipsPath,"utf-8"),r=aa.parse(t);return NU.parse(r)}async readChapterOrder(){let t=await(0,yt.readFile)(this.options.chapterOrderPath,"utf-8"),r=aa.parse(t);return PU.parse(r)}async generateChapter(t,r,n,i,s,o){let a="",l=" for context",c=s.length>0?" to build on":"",f=i.order.map(v=>`- Chapter ${v.index}: ${v.name}`).join(`
`),u=s.length>0?`Previous chapters covered: ${i.order.slice(0,r).map(v=>v.name).join(", ")}`:"",d=this.options.projectRootPath||this.options.abstractionsPath.split("/").slice(0,-3).join("/")||".",h=d.split("/").pop()||"project",p=o.replace(/{project_name}/g,h).replace(/{abstraction_name}/g,t.name.trim()).replace(/{chapter_num}/g,r.toString()).replace(/{project_root_path}/g,d).replace(/{concept_details_note}/g,a).replace(/{abstraction_description}/g,t.description.trim()).replace(/{abstraction_file_paths}/g,t.file_paths.join(", ")).replace(/{structure_note}/g,l).replace(/{full_chapter_listing}/g,f).replace(/{prev_summary_note}/g,c).replace(/{previous_chapters_summary}/g,u).replace(/{language}/g,"English"),m=[],g="",w=new AbortController,y=Lt();try{for await(let v of ht({prompt:p,abortController:w,options:{allowedTools:["Read","LS","Glob","Grep"],cwd:d,model:y.model}}))m.push(v),v.type==="result"&&v.subtype==="success"&&(g+=v.result)}catch(v){throw w.signal.aborted||w.abort(),v}return g}}});async function ua(e,t,r,n,i,s,o){await new Ld({chaptersDir:e,abstractionsPath:t,chapterOrderPath:r,outputDir:n,promptTemplatePath:i,...s!==void 0&&{projectRootPath:s},...o}).reviewChapters()}var Ke,ca,Td,DU,MU,$U,qU,Ld,Nd=K(()=>{"use strict";Ke=require("node:fs/promises"),ca=require("node:path");an();Td=bt(sa(),1);Tt();Jn();oa();DU=S.object({name:S.string(),description:S.string(),file_paths:S.array(S.string())}),MU=S.array(DU),$U=S.object({index:S.number(),name:S.string(),reasoning:S.string()}),qU=S.object({order:S.array($U)}),Ld=class{options;constructor(t){this.options=t}async reviewChapters(){await(0,Ke.mkdir)(this.options.outputDir,{recursive:!0});let t=await this.readAbstractions(),r=await this.readChapterOrder(),n=await(0,Ke.readFile)(this.options.promptTemplatePath,"utf-8"),i=await this.getChapterFiles(),s=r.order.sort((f,u)=>f.index-u.index),o=s.map(f=>{let u=`chapter_${f.index}_${f.name.trim().toLowerCase().replace(/\s+/g,"_").replace(/\//g,"_")}.md`;return`- [Chapter ${f.index}: ${f.name}](${u})`}).join(`
`),a=process.getMaxListeners(),l=i.length*2;process.setMaxListeners(Math.max(a,l+10));let c=i.map(async f=>{let u=f.match(/chapter_(\d+)_/);if(!u)return null;let d=Number.parseInt(u[1]??"0"),h=s.find(_=>_.index===d);if(!h)return null;let p=t.find(_=>_.name.trim()===h.name);if(!p)return null;let m=(0,ca.resolve)(this.options.outputDir,f);if(xn(m,this.options).shouldSkip)return this.options.onProgress&&this.options.onProgress(Cn(f),"skip"),{index:d,filename:f,skipped:!0};this.options.onProgress&&this.options.onProgress(An(`Reviewing ${f}`),"generate");let w=(0,ca.join)(this.options.chaptersDir,f),y=await(0,Ke.readFile)(w,"utf-8"),v=await this.reviewChapter(p,d,y,o,n);return await(0,Ke.writeFile)(m,v,"utf-8"),this.options.onProgress&&this.options.onProgress(`Completed review: ${f}`,"complete"),{index:d,filename:f}});try{(await Promise.all(c)).filter(u=>u!==null).length}finally{process.setMaxListeners(a)}}async getChapterFiles(){return(await(0,Ke.readdir)(this.options.chaptersDir)).filter(r=>r.startsWith("chapter_")&&r.endsWith(".md")).sort((r,n)=>{let i=Number.parseInt(r.match(/chapter_(\d+)_/)?.[1]||"0"),s=Number.parseInt(n.match(/chapter_(\d+)_/)?.[1]||"0");return i-s})}async readAbstractions(){let t=await(0,Ke.readFile)(this.options.abstractionsPath,"utf-8"),r=Td.parse(t);return MU.parse(r)}async readChapterOrder(){let t=await(0,Ke.readFile)(this.options.chapterOrderPath,"utf-8"),r=Td.parse(t);return qU.parse(r)}async reviewChapter(t,r,n,i,s){let o=this.options.projectRootPath||this.options.abstractionsPath.split("/").slice(0,-3).join("/")||".",a=o.split("/").pop()||"project",l=s.replace(/{project_name}/g,a).replace(/{project_root_path}/g,o).replace(/{chapter_num}/g,r.toString()).replace(/{abstraction_name}/g,t.name.trim()).replace(/{abstraction_description}/g,t.description.trim()).replace(/{abstraction_file_paths}/g,t.file_paths.join(", ")).replace(/{full_chapter_listing}/g,i).replace(/{original_chapter_content}/g,n).replace(/{language}/g,"English"),c=[],f="",u=new AbortController,d=Lt();try{for await(let h of ht({prompt:l,abortController:u,options:{allowedTools:["Read","LS","Glob","Grep"],cwd:o,model:d.model}}))c.push(h),h.type==="result"&&h.subtype==="success"&&(f+=h.result)}catch(h){throw u.signal.aborted||u.abort(),h}return f}}});async function da(e,t,r,n,i,s,o){await new Pd({reviewedChaptersDir:e,abstractionsPath:t,chapterOrderPath:r,outputDir:n,promptTemplatePath:i,...s!==void 0&&{projectRootPath:s},...o}).generateTutorials()}var He,fa,Id,jU,FU,RU,BU,Pd,Dd=K(()=>{"use strict";He=require("node:fs/promises"),fa=require("node:path");an();Id=bt(sa(),1);Tt();Jn();oa();jU=S.object({name:S.string(),description:S.string(),file_paths:S.array(S.string())}),FU=S.array(jU),RU=S.object({index:S.number(),name:S.string(),reasoning:S.string()}),BU=S.object({order:S.array(RU)}),Pd=class{options;constructor(t){this.options=t}async generateTutorials(){await(0,He.mkdir)(this.options.outputDir,{recursive:!0});let t=await this.readAbstractions(),r=await this.readChapterOrder(),n=await(0,He.readFile)(this.options.promptTemplatePath,"utf-8"),i=await this.getChapterFiles(),s=r.order.sort((f,u)=>f.index-u.index),o=s.map(f=>{let u=`chapter_${f.index}_${f.name.trim().toLowerCase().replace(/\s+/g,"_").replace(/\//g,"_")}.md`;return`- [Chapter ${f.index}: ${f.name}](${u})`}).join(`
`),a=process.getMaxListeners(),l=i.length*2;process.setMaxListeners(Math.max(a,l+10));let c=i.map(async f=>{let u=f.match(/chapter_(\d+)_/);if(!u)return null;let d=Number.parseInt(u[1]??"0"),h=s.find(C=>C.index===d);if(!h)return null;let p=t.find(C=>C.name.trim()===h.name);if(!p)return null;let m=wx(d,p.name),g=(0,fa.resolve)(this.options.outputDir,m);if(xn(g,this.options).shouldSkip)return this.options.onProgress&&this.options.onProgress(Cn(m),"skip"),{index:d,filename:f,skipped:!0};this.options.onProgress&&this.options.onProgress(An(m),"generate");let y=(0,fa.join)(this.options.reviewedChaptersDir,f),v=await(0,He.readFile)(y,"utf-8"),_=await this.generateTutorial(p,d,v,o,n);return await(0,He.writeFile)(g,_,"utf-8"),this.options.onProgress&&this.options.onProgress(`Completed tutorial: ${m}`,"complete"),{index:d,filename:f}});try{await Promise.all(c)}finally{process.setMaxListeners(a)}}async getChapterFiles(){return(await(0,He.readdir)(this.options.reviewedChaptersDir)).filter(r=>r.startsWith("chapter_")&&r.endsWith(".md")).sort((r,n)=>{let i=Number.parseInt(r.match(/chapter_(\d+)_/)?.[1]||"0"),s=Number.parseInt(n.match(/chapter_(\d+)_/)?.[1]||"0");return i-s})}async readAbstractions(){let t=await(0,He.readFile)(this.options.abstractionsPath,"utf-8"),r=Id.parse(t);return FU.parse(r)}async readChapterOrder(){let t=await(0,He.readFile)(this.options.chapterOrderPath,"utf-8"),r=Id.parse(t);return BU.parse(r)}async generateTutorial(t,r,n,i,s){let o=this.options.projectRootPath||this.options.abstractionsPath.split("/").slice(0,-3).join("/")||".",a=o.split("/").pop()||"project",l=s.replace(/{project_name}/g,a).replace(/{project_root_path}/g,o).replace(/{chapter_num}/g,r.toString()).replace(/{abstraction_name}/g,t.name.trim()).replace(/{abstraction_description}/g,t.description.trim()).replace(/{abstraction_file_paths}/g,t.file_paths.join(", ")).replace(/{full_chapter_listing}/g,i).replace(/{reviewed_chapter_content}/g,n),c=[],f="",u=new AbortController,d=Lt();try{for await(let h of ht({prompt:l,abortController:u,options:{allowedTools:["Read","LS","Glob","Grep"],cwd:o,model:d.model}}))c.push(h),h.type==="result"&&h.subtype==="success"&&(f+=h.result)}catch(h){throw u.signal.aborted||u.abort(),h}return f}}});var Sx={};qe(Sx,{analyzeCommand:()=>VU});async function Md(e,t,r,n,i){let{query:s}=await Promise.resolve().then(()=>(an(),q0)),o=await(0,ha.readFile)((0,Ee.resolve)(process.cwd(),e),"utf-8");for(let[l,c]of Object.entries(r))o=o.replace(new RegExp(`{{${l}}}`,"g"),c);i.debug("Running prompt",{prompt:e,variables:Object.keys(r)});let a=[];for await(let l of s({prompt:"please respect your system prompt very carefully",abortController:new AbortController,options:{customSystemPrompt:o,allowedTools:["Write","Read","LS","Glob","Grep","Edit","Bash"],cwd:t,model:n}}))a.push(l),l.type==="result"&&i.debug("Prompt completed",{duration:`${l.duration_ms}ms`,cost:`$${l.total_cost_usd.toFixed(4)}`})}var On,ha,Ee,_x,UU,VU,xx=K(()=>{"use strict";On=require("node:fs"),ha=require("node:fs/promises"),Ee=require("node:path"),_x=require("node:tty");je();kd();Nd();Dd();_r();UU=["extract","analyze","order","generate-chapters","review-chapters","generate-tutorials"],VU=new Z("analyze").description("Analyze a codebase and generate comprehensive documentation").argument("<path>","path to the codebase to analyze").addOption(Qs).addOption(Me).option("--skip-existing","skip files that already exist").option("--overwrite","overwrite existing files").option("-p, --parallel <n>","number of parallel operations",e=>Number.parseInt(e,10),5).option("-s, --steps <steps>","run specific steps only (comma-separated)").option("--dry-run","show what would be done without doing it").addHelpText("after",`
Global Options (available with all commands):
  -v, --verbose                 enable verbose output for debugging
  -q, --quiet                   suppress all logs and tool output (minimal output)
  --json                        output structured JSON format
  --profile <profile>           use configuration profile (clean, dev, debug, production, test)
  --config <path>               path to custom config file
  --log-file <path>             write logs to specified file

Examples:
  $ fondation analyze ./src
  $ fondation analyze ./src --profile production
  $ fondation analyze ./src --output-dir ./analysis --verbose
  $ fondation analyze ./src --steps extract,analyze --dry-run
  
Use "fondation --help" for more information about global options.`).action(async(e,t)=>{let r=t._config,n=t._logger,i=t._timer,s=(0,Ee.resolve)(process.cwd(),e),o=(0,Ee.resolve)(s,t.outputDir||r.outputDir||".claude-tutorial-output"),a=(0,_x.isatty)(process.stdout.fd||0),l=t.steps?t.steps.split(",").map(c=>c.trim()):UU;(0,On.existsSync)(s)||(n.error(`Project directory does not exist: ${s}`),process.exit(1)),n.info("Starting codebase analysis",{project:s,output:o,steps:l.join(", "),model:t.model||r.model,dryRun:t.dryRun||!1}),t.dryRun&&n.info("DRY RUN MODE - No files will be created or modified");try{!t.dryRun&&!(0,On.existsSync)(o)&&(await(0,ha.mkdir)(o,{recursive:!0}),n.debug("Created output directory",{path:o}));let c=l.length,f=0,u=(v,_)=>{f++,a?n.info(`[${f}/${c}] ${v}: ${_}`):n.info(_,{step:`${f}/${c}`,phase:v})},d=(0,Ee.join)(o,"step1_abstractions.yaml"),h=(0,Ee.join)(o,"step2_relationships.yaml"),p=(0,Ee.join)(o,"step3_order.yaml"),m=(0,Ee.join)(o,"chapters"),g=(0,Ee.join)(o,"reviewed-chapters"),w=(0,Ee.join)(o,"tutorials");if(l.includes("extract")&&(u("Extract","Extracting core abstractions from codebase"),!t.dryRun&&(await Md("prompts/1-abstractions.md",s,{OUTPUT_PATH:d},t.model||r.model,n),!(0,On.existsSync)(d))))throw new Error("Failed to create abstractions file");if(l.includes("analyze")&&(u("Analyze","Analyzing relationships between components"),!t.dryRun&&(await Md("prompts/2-analyze-relationshipt.md",s,{OUTPUT_PATH:h,ABSTRACTIONS_PATH:d},t.model||r.model,n),!(0,On.existsSync)(h))))throw new Error("Failed to create relationships file");if(l.includes("order")&&(u("Order","Determining optimal chapter order"),!t.dryRun&&(await Md("prompts/3-order-chapters.md",s,{OUTPUT_PATH:p,ABSTRACTIONS_PATH:d,RELATIONSHIPS_PATH:h},t.model||r.model,n),!(0,On.existsSync)(p))))throw new Error("Failed to create chapter order file");if(l.includes("generate-chapters")&&(u("Generate","Generating chapter content"),!t.dryRun)){let v=(0,Ee.resolve)(process.cwd(),"prompts/4-write-chapters.md");await la(d,h,p,m,v,s,t.overwrite||!1)}if(l.includes("review-chapters")&&(u("Review","Reviewing and enhancing chapters"),!t.dryRun)){let v=(0,Ee.resolve)(process.cwd(),"prompts/5-review-chapters.md");await ua(m,d,p,g,v,s,t.overwrite||!1)}if(l.includes("generate-tutorials")&&(u("Tutorials","Generating interactive tutorials"),!t.dryRun)){let v=(0,Ee.resolve)(process.cwd(),"prompts/6-tutorials.md");await da(g,d,p,w,v,s,t.overwrite||!1)}let y=i.elapsed();n.info("Analysis complete!",{duration:`${y}ms`}),t.dryRun||(n.info("Output summary:"),n.info(`  Core abstractions: ${d}`),n.info(`  Relationships: ${h}`),n.info(`  Chapter order: ${p}`),n.info(`  Generated chapters: ${m}/`),n.info(`  Reviewed chapters: ${g}/`),n.info(`  Interactive tutorials: ${w}/`))}catch(c){n.error("Analysis failed",{error:c instanceof Error?c.message:"Unknown error"}),process.exit(1)}})});var Cx={};qe(Cx,{generateChaptersCommand:()=>KU});var pa,En,KU,Ax=K(()=>{"use strict";pa=require("node:fs"),En=require("node:path");je();kd();_r();KU=new Z("generate-chapters").description("Generate chapter content from ordered abstractions").requiredOption("-i, --input <file>","ordered chapters YAML file").addOption(Qs).addOption(Me).option("-p, --parallel <n>","number of parallel operations",e=>Number.parseInt(e,10),5).option("-c, --chapters <list>","generate specific chapters only (comma-separated)").option("--skip-existing","skip files that already exist").option("--overwrite","overwrite existing files").option("--abstractions <file>","abstractions YAML file","step1_abstractions.yaml").option("--relationships <file>","relationships YAML file","step2_relationships.yaml").action(async e=>{let t=e._config,r=e._logger,n=e._timer,i=(0,En.resolve)(process.cwd(),e.outputDir||t.outputDir||"./chapters"),s=(0,En.resolve)(process.cwd(),e.input),o=(0,En.resolve)(process.cwd(),e.abstractions),a=(0,En.resolve)(process.cwd(),e.relationships);(0,pa.existsSync)(s)||(r.error(`Input file not found: ${s}`),process.exit(1)),(0,pa.existsSync)(o)||(r.error(`Abstractions file not found: ${o}`),process.exit(1)),(0,pa.existsSync)(a)||(r.error(`Relationships file not found: ${a}`),process.exit(1)),r.info("Starting chapter generation",{input:s,output:i,model:e.model||t.model,parallel:e.parallel});try{let l=(0,En.resolve)(process.cwd(),"prompts/4-write-chapters.md");await la(o,a,s,i,l,process.cwd(),e.overwrite||!1);let c=n.elapsed();r.info("Chapter generation complete!",{duration:`${c}ms`})}catch(l){r.error("Chapter generation failed",{error:l instanceof Error?l.message:"Unknown error"}),process.exit(1)}})});var Ox={};qe(Ox,{reviewChaptersCommand:()=>HU});var ma,kn,HU,Ex=K(()=>{"use strict";ma=require("node:fs"),kn=require("node:path");je();Nd();_r();HU=new Z("review-chapters").description("Review and enhance existing chapters").requiredOption("-c, --chapters-dir <dir>","directory containing chapters to review").option("-o, --output-dir <dir>","output directory for reviews","./reviewed-chapters").addOption(Me).option("-p, --parallel <n>","number of parallel operations",e=>Number.parseInt(e,10),5).option("--chapters <list>","review specific chapters only (comma-separated)").option("--force","review even if review already exists").option("--abstractions <file>","abstractions YAML file","step1_abstractions.yaml").option("--order <file>","chapter order YAML file","step3_order.yaml").action(async e=>{let t=e._config,r=e._logger,n=e._timer,i=(0,kn.resolve)(process.cwd(),e.chaptersDir),s=(0,kn.resolve)(process.cwd(),e.outputDir),o=(0,kn.resolve)(process.cwd(),e.abstractions),a=(0,kn.resolve)(process.cwd(),e.order);(0,ma.existsSync)(i)||(r.error(`Chapters directory not found: ${i}`),process.exit(1)),(0,ma.existsSync)(o)||(r.error(`Abstractions file not found: ${o}`),process.exit(1)),(0,ma.existsSync)(a)||(r.error(`Chapter order file not found: ${a}`),process.exit(1)),r.info("Starting chapter review",{input:i,output:s,model:e.model||t.model,parallel:e.parallel});try{let l=(0,kn.resolve)(process.cwd(),"prompts/5-review-chapters.md");await ua(i,o,a,s,l,process.cwd(),e.force||!1);let c=n.elapsed();r.info("Chapter review complete!",{duration:`${c}ms`})}catch(l){r.error("Chapter review failed",{error:l instanceof Error?l.message:"Unknown error"}),process.exit(1)}})});var kx={};qe(kx,{generateTutorialsCommand:()=>WU});var ga,Tn,WU,Tx=K(()=>{"use strict";ga=require("node:fs"),Tn=require("node:path");je();Dd();_r();WU=new Z("generate-tutorials").description("Convert reviewed chapters into interactive tutorials").requiredOption("-r, --reviews-dir <dir>","directory containing reviewed chapters").option("-o, --output-dir <dir>","output directory for tutorials","./tutorials").addOption(Me).option("-p, --parallel <n>","number of parallel operations",e=>Number.parseInt(e,10),5).option("--interactive","add extra interactive elements").option("--difficulty <level>","set difficulty level (beginner/intermediate/advanced)","intermediate").option("--abstractions <file>","abstractions YAML file","step1_abstractions.yaml").option("--order <file>","chapter order YAML file","step3_order.yaml").option("--overwrite","overwrite existing files").action(async e=>{let t=e._config,r=e._logger,n=e._timer,i=(0,Tn.resolve)(process.cwd(),e.reviewsDir),s=(0,Tn.resolve)(process.cwd(),e.outputDir),o=(0,Tn.resolve)(process.cwd(),e.abstractions),a=(0,Tn.resolve)(process.cwd(),e.order);(0,ga.existsSync)(i)||(r.error(`Reviews directory not found: ${i}`),process.exit(1)),(0,ga.existsSync)(o)||(r.error(`Abstractions file not found: ${o}`),process.exit(1)),(0,ga.existsSync)(a)||(r.error(`Chapter order file not found: ${a}`),process.exit(1)),r.info("Starting tutorial generation",{input:i,output:s,model:e.model||t.model,parallel:e.parallel,difficulty:e.difficulty,interactive:e.interactive||!1});try{let l=(0,Tn.resolve)(process.cwd(),"prompts/6-tutorials.md");await da(i,o,a,s,l,process.cwd(),e.overwrite||!1);let c=n.elapsed();r.info("Tutorial generation complete!",{duration:`${c}ms`})}catch(l){r.error("Tutorial generation failed",{error:l instanceof Error?l.message:"Unknown error"}),process.exit(1)}})});var Lx=require("node:fs"),ya=require("node:path"),Nx=require("node:url");je();Vl();Js();var YU=(0,ya.dirname)((0,Nx.fileURLToPath)(import_meta_url)),GU=JSON.parse((0,Lx.readFileSync)((0,ya.join)(YU,"../package.json"),"utf-8")),JU=GU.version;async function zU(){let e=new Z;e.name("fondation").description("A powerful CLI for interacting with Claude AI").version(JU).option("-v, --verbose","enable verbose output for debugging").option("-q, --quiet","suppress all logs and tool output (minimal output)").option("--json","output structured JSON format").option("--profile <profile>","use configuration profile (clean, dev, debug, production, test)").option("--config <path>","path to custom config file").option("--log-file <path>","write logs to specified file").hook("preAction",async(o,a)=>{let l=a.name(),c=a.opts(),u={...a.parent?.opts()||{},...c};if(l==="chat"&&!u.config&&!u.profile){let m={model:process.env.CLAUDE_MODEL||"claude-sonnet-4-20250514",outputDir:process.env.CLAUDE_OUTPUT_DIR||".claude-output",temperature:.7,maxOutputTokens:4096,logMessages:!0,verbose:u.verbose||!1,tools:[]},g=sn({verbose:u.verbose||!1,quiet:u.quiet||!1,json:!1,context:"chat"});a.setOptionValue("_config",m),a.setOptionValue("_logger",g),a.setOptionValue("_timer",new si);return}let d=sn({verbose:u.verbose||!1,quiet:u.quiet||!1,json:u.json||!1});d.debug(Xe.configLoading);let h=await vm({...u.config&&{configPath:u.config},...u.profile&&{profile:u.profile},cliOptions:u});d.debug(Xe.configLoaded("configuration file"));let p=sn({verbose:u.verbose||h.verbose||!1,quiet:u.quiet||!1,json:u.json||!1,...u.logFile&&{logFile:u.logFile},context:a.name()});b0(p),a.setOptionValue("_config",h),a.setOptionValue("_logger",p),a.setOptionValue("_timer",new si)}),e.exitOverride(o=>{(o.code==="commander.help"||o.code==="commander.helpDisplayed")&&process.exit(0),o.code==="commander.version"&&process.exit(0),sn({json:e.opts().json||!1}).error(o.message),process.exit(1)});let t=[{name:"run",load:async()=>{let{runCommand:o}=await Promise.resolve().then(()=>(z0(),J0));e.addCommand(o)}},{name:"chat",load:async()=>{let{chatCommand:o}=await Promise.resolve().then(()=>(tw(),ew));e.addCommand(o)}},{name:"config",load:async()=>{let{configCommand:o}=await Promise.resolve().then(()=>(Cv(),xv));e.addCommand(o)}},{name:"version",load:async()=>{let{versionCommand:o}=await Promise.resolve().then(()=>(kv(),Ev));e.addCommand(o)}},{name:"analyze",load:async()=>{let{analyzeCommand:o}=await Promise.resolve().then(()=>(xx(),Sx));e.addCommand(o)}},{name:"generate-chapters",load:async()=>{let{generateChaptersCommand:o}=await Promise.resolve().then(()=>(Ax(),Cx));e.addCommand(o)}},{name:"review-chapters",load:async()=>{let{reviewChaptersCommand:o}=await Promise.resolve().then(()=>(Ex(),Ox));e.addCommand(o)}},{name:"generate-tutorials",load:async()=>{let{generateTutorialsCommand:o}=await Promise.resolve().then(()=>(Tx(),kx));e.addCommand(o)}}],r=process.argv.length===3&&(process.argv[2]==="-h"||process.argv[2]==="--help"),n=process.argv.includes("-V")||process.argv.includes("--version"),s=process.argv.findIndex(o=>o==="-h"||o==="--help")>2;if(!r&&!n){let o=process.argv.find(a=>t.some(l=>l.name===a));if(o){let a=t.find(l=>l.name===o);a&&await a.load()}else if(s)for(let a of t)await a.load();else if(!t.map(c=>c.name).some(c=>process.argv.includes(c)))if(process.argv.includes("-p")){let c=process.argv.indexOf("-p");process.argv.splice(c,0,"run"),await t.find(f=>f.name==="run")?.load()}else process.argv.length>=3&&!process.argv[2]?.startsWith("-")?(process.argv.splice(2,0,"run","-p"),await t.find(c=>c.name==="run")?.load()):process.argv.length===2&&(process.argv.push("chat"),await t.find(c=>c.name==="chat")?.load())}await e.parseAsync()}process.on("uncaughtException",e=>{process.exit(1)});process.on("unhandledRejection",(e,t)=>{process.exit(1)});zU().catch(e=>{process.exit(1)});
/*! Bundled license information:

cosmiconfig/dist/loaders.js:
cosmiconfig/dist/util.js:
  (* istanbul ignore next -- @preserve *)

cosmiconfig/dist/ExplorerBase.js:
  (* istanbul ignore if -- @preserve *)
  (* istanbul ignore next -- @preserve *)

cosmiconfig/dist/Explorer.js:
cosmiconfig/dist/ExplorerSync.js:
  (* istanbul ignore if -- @preserve *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
